/*
 RequireJS 2.1.17 Copyright (c) 2010-2015, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/requirejs for details
*/

/**
 * @license
 * lodash 3.10.1 (Custom Build) lodash.com/license | Underscore.js 1.8.3 underscorejs.org/LICENSE
 * Build: `lodash -p -o ./lodash.min.js`
 */

/*! jQuery v2.1.1 -css,-css/addGetHookIf,-css/curCSS,-css/defaultDisplay,-css/hiddenVisibleSelectors,-css/support,-css/swap,-css/var/cssExpand,-css/var/getStyles,-css/var/isHidden,-css/var/rmargin,-css/var/rnumnonpx,-effects,-effects/Tween,-effects/animatedSelector,-dimensions,-offset,-deprecated,-event-alias,-wrap | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */

//     (c) 2015 Superhero Cheesecake, Rian Verhagen
//     Superhero.js depends on Backbone http://backbone.js

/*!
 * VERSION: 1.18.0
 * DATE: 2015-09-05
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
 *
 * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 *
 * @author: Jack Doyle, jack@greensock.com
 **/

/*
The MIT License (MIT)

Copyright (c) 2016 Shopify Inc.

Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be included
in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/

var requirejs,require,define;(function(ba){function G(e){return"[object Function]"===K.call(e)}function H(e){return"[object Array]"===K.call(e)}function v(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function T(e,t){if(e){var n;for(n=e.length-1;-1<n&&(!e[n]||!t(e[n],n,e));n-=1);}}function t(e,t){return fa.call(e,t)}function m(e,n){return t(e,n)&&e[n]}function B(e,n){for(var r in e)if(t(e,r)&&n(e[r],r))break}function U(e,n,r,i){return n&&B(n,function(n,s){if(r||!t(e,s))i&&"object"==typeof n&&n&&!H(n)&&!G(n)&&!(n instanceof RegExp)?(e[s]||(e[s]={}),U(e[s],n,r,i)):e[s]=n}),e}function u(e,t){return function(){return t.apply(e,arguments)}}function ca(e){throw e}function da(e){if(!e)return e;var t=ba;return v(e.split("."),function(e){t=t[e]}),t}function C(e,t,n,r){return t=Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e),t.requireType=e,t.requireModules=r,n&&(t.originalError=n),t}function ga(e){function n(e,t,n){var r,i,s,o,u,a,f,l,t=t&&t.split("/"),c=A.map,h=c&&c["*"];if(e){e=e.split("/"),i=e.length-1,A.nodeIdCompat&&Q.test(e[i])&&(e[i]=e[i].replace(Q,"")),"."===e[0].charAt(0)&&t&&(i=t.slice(0,t.length-1),e=i.concat(e)),i=e;for(s=0;s<i.length;s++)(o=i[s],"."===o)?(i.splice(s,1),s-=1):".."===o&&0!==s&&(1!==s||".."!==i[2])&&".."!==i[s-1]&&0<s&&(i.splice(s-1,2),s-=2);e=e.join("/")}if(n&&c&&(t||h)){i=e.split("/"),s=i.length;e:for(;0<s;s-=1){u=i.slice(0,s).join("/");if(t)for(o=t.length;0<o;o-=1)if(n=m(c,t.slice(0,o).join("/")))if(n=m(n,u)){r=n,a=s;break e}!f&&h&&m(h,u)&&(f=m(h,u),l=s)}!r&&f&&(r=f,a=l),r&&(i.splice(0,a,r),e=i.join("/"))}return(r=m(A.pkgs,e))?r:e}function r(e){z&&v(document.getElementsByTagName("script"),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===x.contextName)return t.parentNode.removeChild(t),!0})}function i(e){var t=m(A.paths,e);if(t&&H(t)&&1<t.length)return t.shift(),x.require.undef(e),x.makeRequire(null,{skipMap:!0})([e]),!0}function s(e){var t,n=e?e.indexOf("!"):-1;return-1<n&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function o(e,t,r,i){var o,u,a=null,f=t?t.name:null,l=e,c=!0,h="";return e||(c=!1,e="_@r"+(q+=1)),e=s(e),a=e[0],e=e[1],a&&(a=n(a,f,i),u=m(j,a)),e&&(a?h=u&&u.normalize?u.normalize(e,function(e){return n(e,f,i)}):-1===e.indexOf("!")?n(e,f,i):e:(h=n(e,f,i),e=s(h),a=e[0],h=e[1],r=!0,o=x.nameToUrl(h))),r=a&&!u&&!r?"_unnormalized"+(W+=1):"",{prefix:a,name:h,parentMap:t,unnormalized:!!r,url:o,originalName:l,isDefine:c,id:(a?a+"!"+h:h)+r}}function a(e){var t=e.id,n=m(O,t);return n||(n=O[t]=new x.Module(e)),n}function f(e,n,r){var i=e.id,s=m(O,i);t(j,i)&&(!s||s.defineEmitComplete)?"defined"===n&&r(j[i]):(s=a(e),s.error&&"error"===n)?r(s.error):s.on(n,r)}function l(e,t){var n=e.requireModules,r=!1;t?t(e):(v(n,function(t){if(t=m(O,t))t.error=e,t.events.error&&(r=!0,t.emit("error",e))}),!r)&&g.onError(e)}function c(){R.length&&(ha.apply(P,[P.length,0].concat(R)),R=[])}function h(e){delete O[e],delete _[e]}function p(e,t,n){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,v(e.depMaps,function(r,i){var s=r.id,o=m(O,s);o&&!e.depMatched[i]&&!n[s]&&(m(t,s)?(e.defineDep(i,j[s]),e.check()):p(o,t,n))}),n[r]=!0)}function d(){var e,t,n=(e=1e3*A.waitSeconds)&&x.startTime+e<(new Date).getTime(),s=[],o=[],u=!1,a=!0;if(!E){E=!0,B(_,function(e){var f=e.map,l=f.id;if(e.enabled&&(f.isDefine||o.push(e),!e.error))if(!e.inited&&n)i(l)?u=t=!0:(s.push(l),r(l));else if(!e.inited&&e.fetched&&f.isDefine&&(u=!0,!f.prefix))return a=!1});if(n&&s.length)return e=C("timeout","Load timeout for modules: "+s,null,s),e.contextName=x.contextName,l(e);a&&v(o,function(e){p(e,{},{})}),(!n||t)&&u&&(z||ea)&&!L&&(L=setTimeout(function(){L=0,d()},50)),E=!1}}function y(e){t(j,e[0])||a(o(e[0],null,!0)).init(e[1],e[2])}function b(e){var e=e.currentTarget||e.srcElement,t=x.onScriptLoad;return e.detachEvent&&!Y?e.detachEvent("onreadystatechange",t):e.removeEventListener("load",t,!1),t=x.onScriptError,(!e.detachEvent||Y)&&e.removeEventListener("error",t,!1),{node:e,id:e&&e.getAttribute("data-requiremodule")}}function w(){var e;for(c();P.length;){e=P.shift();if(null===e[0])return l(C("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));y(e)}}var E,S,x,k,L,A={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},O={},_={},D={},P=[],j={},F={},I={},q=1,W=1;return k={require:function(e){return e.require?e.require:e.require=x.makeRequire(e.map)},exports:function(e){e.usingExports=!0;if(e.map.isDefine)return e.exports?j[e.map.id]=e.exports:e.exports=j[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return m(A.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},S=function(e){this.events=m(D,e.id)||{},this.map=e,this.shim=m(A.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},S.prototype={init:function(e,t,n,r){r=r||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=u(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,x.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();x.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],u(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;F[e]||(F[e]=!0,x.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id;t=this.depExports;var r=this.exports,i=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=!0;if(1>this.depCount&&!this.defined){if(G(i)){if(this.events.error&&this.map.isDefine||g.onError!==ca)try{r=x.execCb(n,i,t,r)}catch(s){e=s}else r=x.execCb(n,i,t,r);this.map.isDefine&&void 0===r&&((t=this.module)?r=t.exports:this.usingExports&&(r=this.exports));if(e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",l(this.error=e)}else r=i;this.exports=r,this.map.isDefine&&!this.ignore&&(j[n]=r,g.onResourceLoad)&&g.onResourceLoad(x,this.map,this.depMaps),h(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,r=e.id,i=o(e.prefix);this.depMaps.push(i),f(i,"defined",u(this,function(i){var s,c;c=m(I,this.map.id);var p=this.map.name,d=this.map.parentMap?this.map.parentMap.name:null,v=x.makeRequire(e.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){if(i.normalize&&(p=i.normalize(p,function(e){return n(e,d,!0)})||""),i=o(e.prefix+"!"+p,this.map.parentMap),f(i,"defined",u(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),c=m(O,i.id))this.depMaps.push(i),this.events.error&&c.on("error",u(this,function(e){this.emit("error",e)})),c.enable()}else c?(this.map.url=x.nameToUrl(c),this.load()):(s=u(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),s.error=u(this,function(e){this.inited=!0,this.error=e,e.requireModules=[r],B(O,function(e){0===e.map.id.indexOf(r+"_unnormalized")&&h(e.map.id)}),l(e)}),s.fromText=u(this,function(n,i){var u=e.name,f=o(u),c=M;i&&(n=i),c&&(M=!1),a(f),t(A.config,r)&&(A.config[u]=A.config[r]);try{g.exec(n)}catch(h){return l(C("fromtexteval","fromText eval for "+r+" failed: "+h,h,[r]))}c&&(M=!0),this.depMaps.push(f),x.completeLoad(u),v([u],s)}),i.load(e.name,v,s,A))})),x.enable(i,this),this.pluginMaps[i.id]=i},enable:function(){_[this.map.id]=this,this.enabling=this.enabled=!0,v(this.depMaps,u(this,function(e,n){var r,i;if("string"==typeof e){e=o(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[n]=e;if(r=m(k,e.id)){this.depExports[n]=r(this);return}this.depCount+=1,f(e,"defined",u(this,function(e){this.defineDep(n,e),this.check()})),this.errback?f(e,"error",u(this,this.errback)):this.events.error&&f(e,"error",u(this,function(e){this.emit("error",e)}))}r=e.id,i=O[r],!t(k,r)&&i&&!i.enabled&&x.enable(e,this)})),B(this.pluginMaps,u(this,function(e){var t=m(O,e.id);t&&!t.enabled&&x.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){v(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},x={config:A,contextName:e,registry:O,defined:j,urlFetched:F,defQueue:P,Module:S,makeModuleMap:o,nextTick:g.nextTick,onError:l,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=A.shim,n={paths:!0,bundles:!0,config:!0,map:!0};B(e,function(e,t){n[t]?(A[t]||(A[t]={}),U(A[t],e,!0,!0)):A[t]=e}),e.bundles&&B(e.bundles,function(e,t){v(e,function(e){e!==t&&(I[e]=t)})}),e.shim&&(B(e.shim,function(e,n){H(e)&&(e={deps:e}),(e.exports||e.init)&&!e.exportsFn&&(e.exportsFn=x.makeShimExports(e)),t[n]=e}),A.shim=t),e.packages&&v(e.packages,function(e){var t,e="string"==typeof e?{name:e}:e;t=e.name,e.location&&(A.paths[t]=e.location),A.pkgs[t]=e.name+"/"+(e.main||"main").replace(ia,"").replace(Q,"")}),B(O,function(e,t){!e.inited&&!e.map.unnormalized&&(e.map=o(t))}),(e.deps||e.callback)&&x.require(e.deps||[],e.callback)},makeShimExports:function(e){return function(){var t;return e.init&&(t=e.init.apply(ba,arguments)),t||e.exports&&da(e.exports)}},makeRequire:function(i,s){function u(n,r,f){var c,h;return s.enableBuildCallback&&r&&G(r)&&(r.__requireJsBuild=!0),"string"==typeof n?G(r)?l(C("requireargs","Invalid require call"),f):i&&t(k,n)?k[n](O[i.id]):g.get?g.get(x,n,i,u):(c=o(n,i,!1,!0),c=c.id,t(j,c)?j[c]:l(C("notloaded",'Module name "'+c+'" has not been loaded yet for context: '+e+(i?"":". Use require([])")))):(w(),x.nextTick(function(){w(),h=a(o(null,i)),h.skipMap=s.skipMap,h.init(n,r,f,{enabled:!0}),d()}),u)}return s=s||{},U(u,{isBrowser:z,toUrl:function(e){var t,r=e.lastIndexOf("."),s=e.split("/")[0];return-1!==r&&("."!==s&&".."!==s||1<r)&&(t=e.substring(r,e.length),e=e.substring(0,r)),x.nameToUrl(n(e,i&&i.id,!0),t,!0)},defined:function(e){return t(j,o(e,i,!1,!0).id)},specified:function(e){return e=o(e,i,!1,!0).id,t(j,e)||t(O,e)}}),i||(u.undef=function(e){c();var t=o(e,i,!0),n=m(O,e);r(e),delete j[e],delete F[t.url],delete D[e],T(P,function(t,n){t[0]===e&&P.splice(n,1)}),n&&(n.events.defined&&(D[e]=n.events),h(e))}),u},enable:function(e){m(O,e.id)&&a(e).enable()},completeLoad:function(e){var n,r,s=m(A.shim,e)||{},o=s.exports;for(c();P.length;){r=P.shift();if(null===r[0]){r[0]=e;if(n)break;n=!0}else r[0]===e&&(n=!0);y(r)}r=m(O,e);if(!n&&!t(j,e)&&r&&!r.inited){if(A.enforceDefine&&(!o||!da(o)))return i(e)?void 0:l(C("nodefine","No define call for "+e,null,[e]));y([e,s.deps||[],s.exportsFn])}d()},nameToUrl:function(e,t,n){var r,i,s;(r=m(A.pkgs,e))&&(e=r);if(r=m(I,e))return x.nameToUrl(r,t,n);if(g.jsExtRegExp.test(e))r=e+(t||"");else{r=A.paths,e=e.split("/");for(i=e.length;0<i;i-=1)if(s=e.slice(0,i).join("/"),s=m(r,s)){H(s)&&(s=s[0]),e.splice(0,i,s);break}r=e.join("/"),r+=t||(/^data\:|\?/.test(r)||n?"":".js"),r=("/"===r.charAt(0)||r.match(/^[\w\+\.\-]+:/)?"":A.baseUrl)+r}return A.urlArgs?r+((-1===r.indexOf("?")?"?":"&")+A.urlArgs):r},load:function(e,t){g.load(x,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if("load"===e.type||ja.test((e.currentTarget||e.srcElement).readyState))N=null,e=b(e),x.completeLoad(e.id)},onScriptError:function(e){var t=b(e);if(!i(t.id))return l(C("scripterror","Script error for: "+t.id,e,[t.id]))}},x.require=x.makeRequire(),x}var g,x,y,D,I,E,N,J,s,O,ka=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,la=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,Q=/\.js$/,ia=/^\.\//;x=Object.prototype;var K=x.toString,fa=x.hasOwnProperty,ha=Array.prototype.splice,z="undefined"!=typeof window&&"undefined"!=typeof navigator&&!!window.document,ea=!z&&"undefined"!=typeof importScripts,ja=z&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,Y="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),F={},q={},R=[],M=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(G(requirejs))return;q=requirejs,requirejs=void 0}"undefined"!=typeof require&&!G(require)&&(q=require,require=void 0),g=requirejs=function(e,t,n,r){var i,s="_";return!H(e)&&"string"!=typeof e&&(i=e,H(t)?(e=t,t=n,n=r):e=[]),i&&i.context&&(s=i.context),(r=m(F,s))||(r=F[s]=g.s.newContext(s)),i&&r.configure(i),r.require(e,t,n)},g.config=function(e){return g(e)},g.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=g),g.version="2.1.17",g.jsExtRegExp=/^\/|:|\?|\.js$/,g.isBrowser=z,x=g.s={contexts:F,newContext:ga},g({}),v(["toUrl","undef","defined","specified"],function(e){g[e]=function(){var t=F._;return t.require[e].apply(t,arguments)}}),z&&(y=x.head=document.getElementsByTagName("head")[0],D=document.getElementsByTagName("base")[0])&&(y=x.head=D.parentNode),g.onError=ca,g.createNode=function(e){var t=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return t.type=e.scriptType||"text/javascript",t.charset="utf-8",t.async=!0,t},g.load=function(e,t,n){var r=e&&e.config||{};if(z)return r=g.createNode(r,t,n),r.setAttribute("data-requirecontext",e.contextName),r.setAttribute("data-requiremodule",t),r.attachEvent&&!(r.attachEvent.toString&&0>r.attachEvent.toString().indexOf("[native code"))&&!Y?(M=!0,r.attachEvent("onreadystatechange",e.onScriptLoad)):(r.addEventListener("load",e.onScriptLoad,!1),r.addEventListener("error",e.onScriptError,!1)),r.src=n,J=r,D?y.insertBefore(r,D):y.appendChild(r),J=null,r;if(ea)try{importScripts(n),e.completeLoad(t)}catch(i){e.onError(C("importscripts","importScripts failed for "+t+" at "+n,i,[t]))}},z&&!q.skipDataMain&&T(document.getElementsByTagName("script"),function(e){y||(y=e.parentNode);if(I=e.getAttribute("data-main"))return s=I,q.baseUrl||(E=s.split("/"),s=E.pop(),O=E.length?E.join("/")+"/":"./",q.baseUrl=O),s=s.replace(Q,""),g.jsExtRegExp.test(s)&&(s=I),q.deps=q.deps?q.deps.concat(s):[s],!0}),define=function(e,t,n){var r,i;"string"!=typeof e&&(n=t,t=e,e=null),H(t)||(n=t,t=null),!t&&G(n)&&(t=[],n.length&&(n.toString().replace(ka,"").replace(la,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),M&&((r=J)||(N&&"interactive"===N.readyState||T(document.getElementsByTagName("script"),function(e){if("interactive"===e.readyState)return N=e}),r=N),r&&(e||(e=r.getAttribute("data-requiremodule")),i=F[r.getAttribute("data-requirecontext")])),(i?i.defQueue:R).push([e,t,n])},define.amd={jQuery:!0},g.exec=function(b){return eval(b)},g(q)}})(this),define("vendor/require.min.js",function(){}),function(){function e(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function t(e,t,n){if(t!==t)return c(e,n);--n;for(var r=e.length;++n<r;)if(e[n]===t)return n;return-1}function n(e){return typeof e=="function"||!1}function r(e){return null==e?"":e+""}function i(e,t){for(var n=-1,r=e.length;++n<r&&-1<t.indexOf(e.charAt(n)););return n}function s(e,t){for(var n=e.length;n--&&-1<t.indexOf(e.charAt(n)););return n}function o(e){return e&&e.Object===Object?e:null}function u(e,t){if(e!==t){var n=null===e,r=e===w,i=e===e,s=null===t,o=t===w,u=t===t;if(e>t&&!s||!i||n&&!o&&u||r&&u)return 1;if(t>e&&!n||!u||s&&!r&&i||o&&i)return-1}return 0}function a(e){return Q[e]}function f(e){return G[e]}function l(e){return"\\"+et[e]}function c(e,t,n){var r=e.length;for(t+=n?0:-1;n?t--:++t<r;){var i=e[t];if(i!==i)return t}return-1}function h(e){var t=!1;if(null!=e&&typeof e.toString!="function")try{t=!!(e+"")}catch(n){}return t}function p(e){return!!e&&typeof e=="object"}function d(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function v(e,t){for(var n=-1,r=e.length,i=-1,s=[];++n<r;)e[n]===t&&(e[n]="__lodash_placeholder__",s[++i]=n);return s}function m(e){for(var t=-1,n=e.length;++t<n&&d(e.charCodeAt(t)););return t}function g(e){for(var t=e.length;t--&&d(e.charCodeAt(t)););return t}function y(e){return Y[e]}function b(o){function d(e){if(p(e)&&!Ss(e)&&!(e instanceof Y)){if(e instanceof G)return e;if(fi.call(e,"__wrapped__"))return er(e)}return new G(e)}function Q(){}function G(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function Y(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Fi,this.__views__=[]}function Z(){this.__data__={}}function et(e){var t=e?e.length:0;for(this.data={hash:Ai(null),set:new gi};t--;)this.push(e[t])}function tt(e,t){var n=e.data;return(typeof t=="string"||xr(t)?n.set.has(t):n.hash[t])?0:-1}function nt(e,t){for(var n=-1,r=e.length;++n<r&&!1!==t(e[n],n,e););return e}function rt(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function it(e,t,n,r){for(var i=-1,s=e.length,o=r,u=o;++i<s;){var a=e[i],f=+t(a);n(f,o)&&(o=f,u=a)}for(i=u===r?-1:i;++i<s;)if(a=e[i],+t(a)===r)return a;return u}function st(e,t){for(var n=-1,r=e.length,i=-1,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[++i]=o)}return s}function ot(e,t){for(var n=-1,r=e.length,i=Kr(r);++n<r;)i[n]=t(e[n],n,e);return i}function ft(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function lt(e,t,n,r){var i=-1,s=e.length;for(r&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n}function ct(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function ht(e,t,n){var r=e[t];(n===n?n===r:r!==r)&&(n!==w||t in e)||(e[t]=n)}function pt(e,t,n){var r=e[t];(n!==w&&(n===n?n!==r:r===r)||typeof t=="number"&&n===w&&!(t in e))&&(e[t]=n)}function dt(e,t){return e&&hn(t,Hr(t),e)}function vt(e,t){for(var n=-1,r=null==e,i=t.length,s=Kr(i);++n<i;)s[n]=r?w:Dr(e,t[n]);return s}function mt(e,t,n,r,i,s,o){var u;if(n&&(u=i?n(e,r,i,s,o):n(e)),u!==w)return u;if(!xr(e))return e;if(r=Ss(e)){if(u=jn(e),!t)return cn(e,u)}else{var a=hi.call(e),f="[object Function]"==a;if("[object Object]"!=a&&"[object Arguments]"!=a&&(!f||i))return K[a]?In(e,a,t):i?e:{};if(h(e))return i?e:{};if(u=Fn(f?{}:e),!t)return dt(u,e)}for(s||(s=[]),o||(o=[]),i=s.length;i--;)if(s[i]==e)return o[i];return s.push(e),o.push(u),(r?nt:Tt)(e,function(r,i){u[i]=mt(r,t,n,i,e,s,o)}),u}function gt(e,t,n){if(typeof e!="function")throw new ii("Expected a function");return Ci(function(){e.apply(w,n)},t)}function yt(e,n){var r=e?e.length:0,i=[];if(!r)return i;var s=-1,o=_n(),u=o===t,a=u&&n.length>=200&&Ai&&gi?new et(n):null,f=n.length;a&&(o=tt,u=!1,n=a);e:for(;++s<r;)if(a=e[s],u&&a===a){for(var l=f;l--;)if(n[l]===a)continue e;i.push(a)}else 0>o(n,a,0)&&i.push(a);return i}function bt(e,t){var n=!0;return Ui(e,function(e,r,i){return n=!!t(e,r,i)}),n}function wt(e,t){var n=[];return Ui(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function Et(e,t,n,r){var i;return n(e,function(e,n,s){return t(e,n,s)?(i=r?n:e,!1):void 0}),i}function St(e,t,n,r){r||(r=[]);for(var i=-1,s=e.length;++i<s;){var o=e[i];xr(o)&&Un(o)&&(n||Ss(o)||wr(o))?t?St(o,t,n,r):ft(r,o):n||(r[r.length]=o)}return r}function xt(e,t){return null==e?e:Wi(e,t,Br)}function Tt(e,t){return e&&Wi(e,t,Hr)}function Nt(e,t){return e&&Xi(e,t,Hr)}function Ct(e,t){return st(t,function(t){return Sr(e[t])})}function kt(e,t){t=Xn(t,e)?[t+""]:Zn(t);for(var n=0,r=t.length;null!=e&&r>n;)e=e[t[n++]];return n&&n==r?e:w}function Lt(e,t){return null!=e&&fi.call(e,t)}function At(e,t){return null!=e&&t in ti(e)}function Ot(e,t,n,r,i,s){if(e===t)return!0;if(null==e||null==t||!xr(e)&&!p(t))return e!==e&&t!==t;e:{var o=Ss(e),u=Ss(t),a="[object Array]",f="[object Array]";o||(a=hi.call(e),"[object Arguments]"==a?a="[object Object]":"[object Object]"!=a&&(o=Ar(e))),u||(f=hi.call(t),"[object Arguments]"==f?f="[object Object]":"[object Object]"!=f&&Ar(t));var l="[object Object]"==a&&!h(e),u="[object Object]"==f&&!h(t),f=a==f;if(!f||o||l){if(!r&&(a=l&&fi.call(e,"__wrapped__"),u=u&&fi.call(t,"__wrapped__"),a||u)){e=Ot(a?e.value():e,u?t.value():t,n,r,i,s);break e}if(f){for(i||(i=[]),s||(s=[]),a=i.length;a--;)if(i[a]==e){e=s[a]==t;break e}i.push(e),s.push(t),e=(o?kn:An)(e,t,Ot,n,r,i,s),i.pop(),s.pop()}else e=!1}else e=Ln(e,t,a)}return e}function Mt(e,t,n,r){var i=n.length,s=i,o=!r;if(null==e)return!s;for(e=ti(e);i--;){var u=n[i];if(o&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<s;){var u=n[i],a=u[0],f=e[a],l=u[1];if(o&&u[2]){if(f===w&&!(a in e))return!1}else{var u=[],c=[],a=r?r(f,l,a,e,t,u,c):w;if(a===w?!Ot(l,f,r,!0,u,c):!a)return!1}}return!0}function _t(e){var t=typeof e;return"function"==t?e:null==e?zr:"object"==t?Ss(e)?Bt(e[0],e[1]):Ht(e):Jr(e)}function Dt(e){e=null==e?e:ti(e);var t,n=[];for(t in e)n.push(t);return n}function Pt(e,t){var n=-1,r=Un(e)?Kr(e.length):[];return Ui(e,function(e,i,s){r[++n]=t(e,i,s)}),r}function Ht(e){var t=Pn(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:e[n]===r&&(r!==w||n in ti(e))}}return function(n){return Mt(n,e,t)}}function Bt(e,t){return function(n){var r=Dr(n,e);return r===w&&r===t?Pr(n,e):Ot(t,r,w,!0)}}function jt(e,t,n,r,i){var s=Ss(t)||Ar(t)?w:Br(t);nt(s||t,function(o,u){if(s&&(u=o,o=t[u]),xr(o)){r||(r=[]),i||(i=[]);e:{for(var a=u,f=r,l=i,c=f.length,h=e[a],p=t[a];c--;){var d=f[c];if(d==p||d==h){pt(e,a,l[c]);break e}}c=n?n(h,p,a+"",e,t,f,l):w,(d=c===w)&&(c=p,Ss(p)||Ar(p)?c=Ss(h)?h:xr(h)&&Un(h)?cn(h):[]:Cr(p)||wr(p)?c=wr(h)?_r(h):xr(h)?h:{}:d=Sr(p)),f.push(p),l.push(c),d&&jt(c,p,n,f,l),pt(e,a,c)}}else a=n?n(e[u],o,u+"",e,t,r,i):w,a===w&&(a=o),pt(e,u,a)})}function Ft(e,t){return e=ti(e),lt(t,function(t,n){return n in e&&(t[n]=e[n]),t},{})}function It(e,t){var n={};return xt(e,function(e,r){t(e)&&(n[r]=e)}),n}function qt(e){return function(t){return null==t?w:t[e]}}function Rt(e){return function(t){return kt(t,e)}}function Ut(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(r==n||i!=s){var s=i;if(zn(i))ki.call(e,i,1);else if(Xn(i,e))delete e[i];else{var i=Zn(i),o=Qn(e,i);null!=o&&delete o[ir(i)]}}}return e}function zt(e,t){return e+Oi(Bi()*(t-e+1))}function Wt(e,t,n,r,i){return i(e,function(e,i,s){n=r?(r=!1,e):t(n,e,i,s)}),n}function Xt(e,t,n,r){t=Xn(t,e)?[t+""]:Zn(t);for(var i=-1,s=t.length,o=s-1,u=e;null!=u&&++i<s;){var a=t[i];if(xr(u)){var f=n;if(i!=o){var l=u[a],f=r?r(l,a,u):w;f===w&&(f=null==l?zn(t[i+1])?[]:{}:l)}ht(u,a,f)}u=u[a]}return e}function Vt(e,t,n){var r=-1,i=e.length;for(t=null==t?0:Yn(t),0>t&&(t=-t>i?0:i+t),n=n===w||n>i?i:Yn(n),0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0,n=Kr(i);++r<i;)n[r]=e[r+t];return n}function $t(e,t){var n;return Ui(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Jt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].c;return e}function Kt(e,t,n){var r=Dn(),i=-1;return t=ot(t.length?t:Kr(1),function(e){return r(e)}),e=Pt(e,function(e){return{a:ot(t,function(t){return t(e)}),b:++i,c:e}}),Jt(e,function(e,t){var r;e:{r=-1;for(var i=e.a,s=t.a,o=i.length,a=n.length;++r<o;){var f=u(i[r],s[r]);if(f){if(r>=a){r=f;break e}r=f*("asc"===n[r]?1:-1);break e}}r=e.b-t.b}return r})}function Qt(e,n){var r=e.length;if(!r)return[];for(var i=0,s=_n(),o=s===t,u=e[0],a=n?n(u):u,f=o?a:[a],l=0,c=[u];++i<r;)u=e[i],a=n?n(u):u,o?(f===f?f!==a:a===a)&&(f=a,c[++l]=u):0>s(f,a,0)&&(f[++l]=a,c[l]=u);return c}function Gt(e,t){for(var n=-1,r=e.length,i=0;++n<r;)i+=+t(e[n])||0;return i}function Yt(e,t){for(var n=-1,r=Kr(e);++n<e;)r[n]=t(n);return r}function Zt(e,n){var r=-1,i=_n(),s=e.length,o=i===t,u=o&&s>=200,a=u&&Ai&&gi?new et(void 0):null,f=[];a?(i=tt,o=!1):(u=!1,a=n?[]:f);e:for(;++r<s;){var l=e[r],c=n?n(l):l;if(o&&c===c){for(var h=a.length;h--;)if(a[h]===c)continue e;n&&a.push(c),f.push(l)}else 0>i(a,c,0)&&((n||u)&&a.push(c),f.push(l))}return f}function en(e,t){return ot(t,function(t){return e[t]})}function tn(e,t,n,r){for(var i=e.length,s=r?i:-1;(r?s--:++s<i)&&t(e[s],s,e););return n?Vt(e,r?0:s,r?s+1:i):Vt(e,r?s+1:0,r?i:s)}function nn(e,t){var n=e;return n instanceof Y&&(n=n.value()),lt(t,function(e,t){return t.func.apply(t.thisArg,ft([e],t.args))},n)}function rn(e,t,n){var r=0,i=e?e.length:r;if(typeof t=="number"&&t===t&&2147483647>=i){for(;i>r;){var s=r+i>>>1,o=e[s];(n?t>=o:t>o)&&null!==o?r=s+1:i=s}return i}return sn(e,t,zr,n)}function sn(e,t,n,r){t=n(t);for(var i=0,s=e?e.length:0,o=t!==t,u=null===t,a=t===w;s>i;){var f=Oi((i+s)/2),l=n(e[f]),c=l!==w,h=l===l;(o?h||r:u?h&&c&&(r||null!=l):a?h&&(r||c):null==l?0:r?t>=l:t>l)?i=f+1:s=f}return Pi(s,4294967294)}function on(e){var t=new vi(e.byteLength);return(new yi(t)).set(new yi(e)),t}function un(e,t,n){for(var r=n.length,i=-1,s=Di(e.length-r,0),o=-1,u=t.length,a=Kr(u+s);++o<u;)a[o]=t[o];for(;++i<r;)a[n[i]]=e[i];for(;s--;)a[o++]=e[i++];return a}function ln(e,t,n){for(var r=-1,i=n.length,s=-1,o=Di(e.length-i,0),u=-1,a=t.length,f=Kr(o+a);++s<o;)f[s]=e[s];for(o=s;++u<a;)f[o+u]=t[u];for(;++r<i;)f[o+n[r]]=e[s++];return f}function cn(e,t){var n=-1,r=e.length;for(t||(t=Kr(r));++n<r;)t[n]=e[n];return t}function hn(e,t,n){return pn(e,t,n)}function pn(e,t,n,r){n||(n={});for(var i=-1,s=t.length;++i<s;){var o=t[i],u=r?r(n[o],e[o],o,n,e):e[o];ht(n,o,u)}return n}function dn(e,t){return function(n,r){var i=t?t():{};if(r=Dn(r),Ss(n))for(var s=-1,o=n.length;++s<o;){var u=n[s];e(i,u,r(u),n)}else Ui(n,function(t,n,s){e(i,t,r(t),s)});return i}}function vn(e){return yr(function(t,n){var r=-1,i=null==t?0:n.length,s=i>1?n[i-1]:w,o=i>2?n[2]:w,s=typeof s=="function"?(i--,s):w;for(o&&Wn(n[0],n[1],o)&&(s=3>i?w:s,i=1),t=ti(t);++r<i;)(o=n[r])&&e(t,o,s);return t})}function mn(e,t){return function(n,r){if(null==n)return n;if(!Un(n))return e(n,r);for(var i=n.length,s=t?i:-1,o=ti(n);(t?s--:++s<i)&&!1!==r(o[s],s,o););return n}}function gn(e){return function(t,n,r){var i=ti(t);r=r(t);for(var s=r.length,o=e?s:-1;e?o--:++o<s;){var u=r[o];if(!1===n(i[u],u,i))break}return t}}function yn(e,t){function n(){return(this&&this!==ut&&this instanceof n?r:e).apply(t,arguments)}var r=wn(e);return n}function bn(e){return function(t){return lt(Ur(Ir(t)),e,"")}}function wn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Ri(e.prototype),t=e.apply(n,t);return xr(t)?t:n}}function En(e){return function(){for(var t,n=arguments.length,r=e?n:-1,i=0,s=Kr(n);e?r--:++r<n;){var o=s[i++]=arguments[r];if(typeof o!="function")throw new ii("Expected a function");!t&&G.prototype.thru&&"wrapper"==Mn(o)&&(t=new G([],!0))}for(r=t?-1:n;++r<n;){var o=s[r],i=Mn(o),u="wrapper"==i?$i(o):w;t=u&&Vn(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?t[Mn(u[0])].apply(t,u[3]):1==o.length&&Vn(o)?t[i]():t.thru(o)}return function(){var e=arguments,r=e[0];if(t&&1==e.length&&Ss(r)&&r.length>=200)return t.plant(r).value();for(var i=0,e=n?s[i].apply(this,e):r;++i<n;)e=s[i].call(this,e);return e}}}function Sn(e,t,n,r,i,s,o,u,a,f){function l(){for(var b=arguments.length,E=b,S=Kr(b);E--;)S[E]=arguments[E];if(r&&(S=un(S,r,i)),s&&(S=ln(S,s,o)),d||g){var E=l.placeholder,x=v(S,E),b=b-x.length;if(f>b){var T=u?cn(u):w,b=Di(f-b,0),N=d?x:w,x=d?w:x,C=d?S:w,S=d?w:S;return t|=d?32:64,t&=~(d?64:32),m||(t&=-4),S=[e,t,n,C,N,S,x,T,a,b],T=Sn.apply(w,S),Vn(e)&&Ki(T,S),T.placeholder=E,T}}if(E=h?n:this,T=p?E[e]:e,u)for(b=S.length,N=Pi(u.length,b),x=cn(S);N--;)C=u[N],S[N]=zn(C,b)?x[C]:w;return c&&S.length>a&&(S.length=a),this&&this!==ut&&this instanceof l&&(T=y||wn(e)),T.apply(E,S)}var c=128&t,h=1&t,p=2&t,d=8&t,m=4&t,g=16&t,y=p?w:wn(e);return l}function xn(e,t,n){return e=e.length,t=Yn(t),t&&t>e?(t-=e,n=n===w?" ":n+"",qr(n,Li(t/n.length)).slice(0,t)):""}function Tn(e,t,n,r){function i(){for(var t=-1,u=arguments.length,a=-1,f=r.length,l=Kr(f+u);++a<f;)l[a]=r[a];for(;u--;)l[a++]=arguments[++t];return(this&&this!==ut&&this instanceof i?o:e).apply(s?n:this,l)}var s=1&t,o=wn(e);return i}function Nn(e){var t=Zr[e];return function(e,n){return(n=n===w?0:Yn(n))?(n=Ti(10,n),t(e*n)/n):t(e)}}function Cn(e,t,n,r,i,s,o,u){var a=2&t;if(!a&&typeof e!="function")throw new ii("Expected a function");var f=r?r.length:0;if(f||(t&=-97,r=i=w),f-=i?i.length:0,64&t){var l=r,c=i;r=i=w}o=null==o?o:Di(Yn(o),0),u=null==u?u:Yn(u);var h=a?w:$i(e);return n=[e,t,n,r,i,l,c,s,o,u],h&&(r=n[1],t=h[1],u=r|t,i=128==t&&8==r||128==t&&256==r&&h[8]>=n[7].length||384==t&&8==r,(128>u||i)&&(1&t&&(n[2]=h[2],u|=1&r?0:4),(r=h[3])&&(i=n[3],n[3]=i?un(i,r,h[4]):cn(r),n[4]=i?v(n[3],"__lodash_placeholder__"):cn(h[4])),(r=h[5])&&(i=n[5],n[5]=i?ln(i,r,h[6]):cn(r),n[6]=i?v(n[5],"__lodash_placeholder__"):cn(h[6])),(r=h[7])&&(n[7]=cn(r)),128&t&&(n[8]=null==n[8]?h[8]:Pi(n[8],h[8])),null==n[9]&&(n[9]=h[9]),n[0]=h[0],n[1]=u),t=n[1],u=n[9]),n[9]=null==u?a?0:e.length:Di(u-f,0),e=1==t?yn(n[0],n[2]):32!=t&&33!=t||n[4].length?Sn.apply(w,n):Tn.apply(w,n),(h?Vi:Ki)(e,n)}function kn(e,t,n,r,i,s,o){var u=-1,a=e.length,f=t.length;if(!(a==f||i&&f>a))return!1;for(;++u<a;){var l=e[u],f=t[u];if(r)var c=i?r(f,l,u,t,e,s,o):r(l,f,u,e,t,s,o);if(c!==w){if(c)continue;return!1}if(i){if(!ct(t,function(e){return l===e||n(l,e,r,i,s,o)}))return!1}else if(l!==f&&!n(l,f,r,i,s,o))return!1}return!0}function Ln(e,t,n){switch(n){case"[object Boolean]":case"[object Date]":return+e==+t;case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object Number]":return e!=+e?t!=+t:e==+t;case"[object RegExp]":case"[object String]":return e==t+""}return!1}function An(e,t,n,r,i,s,o){var u=Hr(e),a=u.length,f=Hr(t).length;if(a!=f&&!i)return!1;for(f=a;f--;){var l=u[f];if(!(i?l in t:fi.call(t,l)))return!1}for(var c=i;++f<a;){var l=u[f],h=e[l],p=t[l];if(r)var d=i?r(p,h,l,t,e,s,o):r(h,p,l,e,t,s,o);if(d===w?!n(h,p,r,i,s,o):!d)return!1;c||(c="constructor"==l)}return c||(n=e.constructor,r=t.constructor,!(n!=r&&"constructor"in e&&"constructor"in t)||typeof n=="function"&&n instanceof n&&typeof r=="function"&&r instanceof r)?!0:!1}function On(e,t){return e===w?t:e}function Mn(e){for(var t=e.name+"",n=qi[t],r=n?n.length:0;r--;){var i=n[r],s=i.func;if(null==s||s==e)return i.name}return t}function _n(e,n,r){var i=d.indexOf||rr,i=i===rr?t:i;return e?i(e,n,r):i}function Dn(){var e=d.iteratee||Wr,e=e===Wr?_t:e;return arguments.length?e(arguments[0],arguments[1]):e}function Pn(e){e=jr(e);for(var t=e.length;t--;){var n,r=e[t];n=e[t][1],n=n===n&&!xr(n),r[2]=n}return e}function Hn(e,t){var n=null==e?w:e[t];return Tr(n)?n:w}function Bn(e,t,n){if(null==e)return!1;var r=n(e,t);return r||Xn(t)||(t=Zn(t),e=Qn(e,t),null!=e&&(t=ir(t),r=n(e,t))),r||$n(e&&e.length)&&zn(t,e.length)&&(Ss(e)||wr(e)||Lr(e))}function jn(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&fi.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Fn(e){return e=e.constructor,typeof e=="function"&&e instanceof e?new e:{}}function In(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return on(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return t=e.buffer,new r(n?on(t):t,e.byteOffset,e.length);case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":var i=new r(e.source,I.exec(e));i.lastIndex=e.lastIndex}return i}function qn(e){var t=e?e.length:0,t=t&&$n(t)&&(Ss(e)||wr(e)||Lr(e))&&t||0;return Yt(t,ri)}function Rn(e,t,n){return Xn(t,e)||(t=Zn(t),e=Qn(e,t),t=ir(t)),t=null==e?e:e[t],null==t?w:t.apply(e,n)}function Un(e){return null!=e&&(typeof e!="function"||"[object Function]"!=hi.call(e))&&$n(Ji(e))}function zn(e,t){return e=typeof e=="number"||U.test(e)?+e:-1,e>-1&&0==e%1&&(null==t?9007199254740991:t)>e}function Wn(e,t,n){if(!xr(n))return!1;var r=typeof t;return("number"==r?Un(n)&&zn(t,n.length):"string"==r&&t in n)?(t=n[t],e===e?e===t:t!==t):!1}function Xn(e,t){return typeof e=="number"?!0:!Ss(e)&&(_.test(e)||!M.test(e)||null!=t&&e in ti(t))}function Vn(e){var t=Mn(e),n=d[t];return typeof n=="function"&&t in Y.prototype?e===n?!0:(t=$i(n),!!t&&e===t[0]):!1}function $n(e){return typeof e=="number"&&e>-1&&0==e%1&&9007199254740991>=e}function Jn(e){var t=!!e&&e.constructor;return e===(typeof t=="function"&&t.prototype||oi)}function Kn(e,t,n,r,i,s,o){return xr(e)&&(s.push(e),o.push(e),jt(e,t,Kn,s,o)),e===w?t:e}function Qn(e,t){return 1==t.length?e:Dr(e,Vt(t,0,-1))}function Gn(e){return typeof e=="function"?e:zr}function Yn(e){return Oi(e)||0}function Zn(e){if(Ss(e))return e;var t=[];return r(e).replace(D,function(e,n,r,i){t.push(r?i.replace(j,"$1"):n||e)}),t}function er(e){return e instanceof Y?e.clone():new G(e.__wrapped__,e.__chain__,cn(e.__actions__))}function tr(e,t,n){return e&&e.length?(t=n||null==t?1:t,Vt(e,0>t?0:t)):[]}function nr(e,t,n){var r=e?e.length:0;return r?(t=n||null==t?1:Yn(t),t=r-t,Vt(e,0,0>t?0:t)):[]}function rr(e,n,r){var i=e?e.length:0;return i?(r&&(r=Yn(r),r=0>r?Di(i+r,0):r),t(e,n,r||0)):-1}function ir(e){var t=e?e.length:0;return t?e[t-1]:w}function sr(e){if(!e||!e.length)return[];var t=0;return e=st(e,function(e){return xr(e)&&Un(e)?(t=Di(e.length,t),!0):void 0}),Yt(t,function(t){return ot(e,qt(t))})}function or(e,t){if(!e||!e.length)return[];var n=sr(e);return null==t?n:ot(n,function(e){return lt(e,t,w,!0)})}function ur(e){return e=d(e),e.__chain__=!0,e}function ar(e,t){return t(e)}function fr(e,t){return typeof t=="function"&&Ss(e)?nt(e,t):Ui(e,Gn(t))}function lr(e,t){var n;if(typeof t=="function"&&Ss(e)){for(n=e.length;n--&&!1!==t(e[n],n,e););n=e}else n=zi(e,Gn(t));return n}function cr(e,t,n){if(n||null==t)return e=Un(e)?e:Fr(e),r=e.length,r>0?e[zt(0,r-1)]:w;n=-1,e=Mr(e);var r=e.length,i=r-1;for(t=Pi(0>t?0:Yn(t),r);++n<t;){var r=zt(n,i),s=e[r];e[r]=e[n],e[n]=s}return e.length=t,e}function hr(e){return null==e?0:(e=Un(e)?e:Hr(e),e.length)}function pr(e,t){var n;if(typeof t!="function")throw new ii("Expected a function");return e=Yn(e),function(){return 0<--e&&(n=t.apply(this,arguments)),1>=e&&(t=w),n}}function dr(e,t,n){return t=n?w:t,e=Cn(e,8,w,w,w,w,w,t),e.placeholder=dr.placeholder,e}function vr(e,t,n){return t=n?w:t,e=Cn(e,16,w,w,w,w,w,t),e.placeholder=vr.placeholder,e}function mr(e,t,n){function r(t,n){n&&wi(n),a=h=p=w,t&&(d=ls(),f=e.apply(c,u),h||a||(u=c=w))}function i(){var e=t-(ls()-l);0>=e||e>t?r(p,a):h=Ci(i,e)}function s(){r(g,h)}function o(){if(u=arguments,l=ls(),c=this,p=g&&(h||!v),!1===m)var n=v&&!h;else{a||v||(d=l);var r=m-(l-d),o=0>=r||r>m;o?(a&&(a=wi(a)),d=l,f=e.apply(c,u)):a||(a=Ci(s,r))}return o&&h?h=wi(h):h||t===m||(h=Ci(i,t)),n&&(o=!0,f=e.apply(c,u)),!o||h||a||(u=c=w),f}var u,a,f,l,c,h,p,d=0,v=!1,m=!1,g=!0;if(typeof e!="function")throw new ii("Expected a function");return t=0>t?0:+t||0,xr(n)&&(v=!!n.leading,m="maxWait"in n&&Di(+n.maxWait||0,t),g="trailing"in n?!!n.trailing:g),o.cancel=function(){h&&wi(h),a&&wi(a),d=0,a=h=p=w},o}function gr(e,t){if(typeof e!="function"||t&&typeof t!="function")throw new ii("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;return s.has(i)?s.get(i):(r=e.apply(this,r),n.cache=s.set(i,r),r)};return n.cache=new gr.Cache,n}function yr(e,t){if(typeof e!="function")throw new ii("Expected a function");return t=Di(t===w?e.length-1:Yn(t),0),function(){for(var n=arguments,r=-1,i=Di(n.length-t,0),s=Kr(i);++r<i;)s[r]=n[t+r];switch(t){case 0:return e.call(this,s);case 1:return e.call(this,n[0],s);case 2:return e.call(this,n[0],n[1],s)}for(i=Kr(t+1),r=-1;++r<t;)i[r]=n[r];return i[t]=s,e.apply(this,i)}}function br(e,t){return e>t}function wr(e){return p(e)&&Un(e)&&fi.call(e,"callee")&&!Ni.call(e,"callee")}function Er(e){return p(e)&&typeof e.message=="string"&&"[object Error]"==hi.call(e)}function Sr(e){return xr(e)&&"[object Function]"==hi.call(e)}function xr(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Tr(e){return null==e?!1:Sr(e)?di.test(ai.call(e)):p(e)&&(h(e)?di:R).test(e)}function Nr(e){return typeof e=="number"||p(e)&&"[object Number]"==hi.call(e)}function Cr(e){return!p(e)||"[object Object]"!=hi.call(e)||h(e)?!1:(e=typeof e.constructor=="function"?Si(e):oi,null===e?!0:(e=e.constructor,typeof e=="function"&&e instanceof e&&ai.call(e)==ci))}function kr(e){return xr(e)&&"[object RegExp]"==hi.call(e)}function Lr(e){return typeof e=="string"||p(e)&&"[object String]"==hi.call(e)}function Ar(e){return p(e)&&$n(e.length)&&!!J[hi.call(e)]}function Or(e,t){return t>e}function Mr(e){return Un(e)?e.length?cn(e):[]:Fr(e)}function _r(e){return hn(e,Br(e))}function Dr(e,t,n){return e=null==e?w:kt(e,t),e===w?n:e}function Pr(e,t){return Bn(e,t,At)}function Hr(e){var t=Jn(e);if(!t&&!Un(e))return _i(ti(e));var n,r=qn(e),i=r.length,s=!!i;for(n in e)!fi.call(e,n)||s&&zn(n,i)||t&&"constructor"==n||r.push(n);return r}function Br(e){for(var t=-1,n=Jn(e),r=Dt(e),i=r.length,s=qn(e),o=s.length,u=!!o;++t<i;){var a=r[t];u&&zn(a,o)||"constructor"==a&&(n||!fi.call(e,a))||s.push(a)}return s}function jr(e){return ot(Hr(e),function(t){return[t,e[t]]})}function Fr(e){return e?en(e,Hr(e)):[]}function Ir(e){return(e=r(e))&&e.replace(z,a).replace(B,"")}function qr(e,t){var n="";if(e=r(e),t=Yn(t),1>t||t==Fi||t==ji||!e)return n;do t%2&&(n+=e),t=Oi(t/2),e+=e;while(t);return n}function Rr(e,t,n){return(e=r(e))?n||t===w?e.slice(m(e),g(e)+1):(t+="",e.slice(i(e,t),s(e,t)+1)):e}function Ur(e,t,n){return e=r(e),t=n?w:n,e.match(t||V)||[]}function zr(e){return e}function Wr(e){return p(e)&&!Ss(e)?Xr(e):_t(e)}function Xr(e){return Ht(mt(e,!0))}function Vr(e,t,n){var r=Hr(t),i=Ct(t,r);null!=n||xr(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Ct(t,Hr(t)));var s=xr(n)&&"chain"in n?n.chain:!0,o=Sr(e);return nt(i,function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__);return(n.__actions__=cn(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,ft([this.value()],arguments))})}),e}function $r(){}function Jr(e){return Xn(e)?qt(e):Rt(e)}o=o?at.defaults(ut.Object(),o,at.pick(ut,$)):ut;var Kr=o.Array,Qr=o.Date,Gr=o.Error,Yr=o.Function,Zr=o.Math,ei=o.Number,ti=o.Object,ni=o.RegExp,ri=o.String,ii=o.TypeError,si=Kr.prototype,oi=ti.prototype,ui=ri.prototype,ai=Yr.prototype.toString,fi=oi.hasOwnProperty,li=0,ci=ai.call(ti),hi=oi.toString,pi=ut._,di=ni("^"+ai.call(fi).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vi=o.ArrayBuffer,mi=o.Reflect,gi=Hn(o,"Set"),yi=o.Uint8Array,bi=Hn(o,"WeakMap"),wi=o.clearTimeout,Ei=mi?mi.enumerate:w,Si=ti.getPrototypeOf,xi=o.parseFloat,Ti=Zr.pow,Ni=oi.propertyIsEnumerable,Ci=o.setTimeout,ki=si.splice,Li=Zr.ceil,Ai=Hn(ti,"create"),Oi=Zr.floor,Mi=o.isFinite,_i=ti.keys,Di=Zr.max,Pi=Zr.min,Hi=o.parseInt,Bi=Zr.random,ji=ei.NEGATIVE_INFINITY,Fi=ei.POSITIVE_INFINITY,Ii=bi&&new bi,qi={};d.templateSettings={escape:L,evaluate:A,interpolate:O,variable:"",imports:{_:d}};var Ri=function(){function e(){}return function(t){if(xr(t)){e.prototype=t;var n=new e;e.prototype=w}return n||{}}}(),Ui=mn(Tt),zi=mn(Nt,!0),Wi=gn(),Xi=gn(!0);Ei&&!Ni.call({valueOf:1},"valueOf")&&(Dt=function(e){for(var t=Ei(e),n=[];!(e=t.next()).done;)n.push(e.value);return n});var Vi=Ii?function(e,t){return Ii.set(e,t),e}:zr,$i=Ii?function(e){return Ii.get(e)}:$r,Ji=qt("length"),Ki=function(){var e=0,t=0;return function(n,r){var i=ls(),s=16-(i-t);if(t=i,s>0){if(150<=++e)return n}else e=0;return Vi(n,r)}}(),Qi=yr(function(e,t){return xr(e)&&Un(e)?yt(e,St(t,!1,!0)):[]}),Gi=yr(function(e){for(var n=e.length,r=n,i=Kr(l),s=_n(),o=s===t,u=[];r--;){var a=e[r]=Un(a=e[r])?a:[];i[r]=o&&a.length>=120&&Ai&&gi?new et(r&&a):null}var o=e[0],f=-1,l=o?o.length:0,c=i[0];e:for(;++f<l;)if(a=o[f],0>(c?tt(c,a):s(u,a,0))){for(r=n;--r;){var h=i[r];if(0>(h?tt(h,a):s(e[r],a,0)))continue e}c&&c.push(a),u.push(a)}return u}),Yi=yr(function(e,t){t=ot(St(t),ri);var n=vt(e,t);return Ut(e,t.sort(u)),n}),Zi=yr(function(e){return e=St(e,!1,!0),Zt(e)}),es=yr(function(e,t){return xr(e)&&Un(e)?yt(e,t):[]}),ts=yr(sr),ns=yr(function(e){var t=e.length,t=t>1?e[t-1]:w,t=typeof t=="function"?(e.length--,t):w;return or(e,t)}),rs=yr(function(e){return e=St(e),this.thru(function(t){t=Ss(t)?t:[ti(t)];for(var n=e,r=-1,i=t.length,s=-1,o=n.length,u=Kr(i+o);++r<i;)u[r]=t[r];for(;++s<o;)u[r++]=n[s];return u})}),is=dn(function(e,t,n){fi.call(e,n)?++e[n]:e[n]=1}),ss=dn(function(e,t,n){fi.call(e,n)?e[n].push(t):e[n]=[t]}),os=yr(function(e,t,n){var r=-1,i=typeof t=="function",s=Xn(t),o=Un(e)?Kr(e.length):[];return Ui(e,function(e){var u=i?t:s&&null!=e?e[t]:w;o[++r]=u?u.apply(e,n):Rn(e,t,n)}),o}),us=dn(function(e,t,n){e[n]=t}),as=dn(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),fs=yr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Wn(e,t[0],t[1])?t=[]:n>2&&Wn(t[0],t[1],t[2])&&(t.length=1),Kt(e,St(t),[])}),ls=Qr.now,cs=yr(function(e,t,n){var r=1;if(n.length)var i=v(n,cs.placeholder),r=32|r;return Cn(e,r,t,n,i)}),hs=yr(function(e,t){return nt(St(t),function(t){e[t]=Cn(e[t],1,e)}),e}),ps=yr(function(e,t,n){var r=3;if(n.length)var i=v(n,ps.placeholder),r=32|r;return Cn(t,r,e,n,i)}),ds=yr(function(e,t){return gt(e,1,t)}),vs=yr(function(e,t,n){return gt(e,t,n)}),ms=En(),gs=En(!0),ys=yr(function(e,t){if(t=St(t),typeof e!="function"||!rt(t,n))throw new ii("Expected a function");var r=t.length;return yr(function(n){for(var i=Pi(n.length,r);i--;)n[i]=t[i](n[i]);return e.apply(this,n)})}),bs=yr(function(e,t){var n=v(t,bs.placeholder);return Cn(e,32,w,t,n)}),ws=yr(function(e,t){var n=v(t,ws.placeholder);return Cn(e,64,w,t,n)}),Es=yr(function(e,t){return Cn(e,256,w,w,w,St(t))}),Ss=Kr.isArray,xs=vn(function(e,t){hn(t,Hr(t),e)}),Ts=vn(function(e,t,n){pn(t,Hr(t),e,n)}),Ns=yr(function(e,t){return vt(e,St(t))}),Cs=yr(function(e){return e.push(w,On),As.apply(w,e)}),ks=yr(function(e){return e.push(w,Kn),Ms.apply(w,e)}),Ls=vn(function(e,t){hn(t,Br(t),e)}),As=vn(function(e,t,n){pn(t,Br(t),e,n)}),Os=vn(function(e,t){jt(e,t)}),Ms=vn(function(e,t,n){jt(e,t,n)}),_s=yr(function(e,t){return null==e?{}:(t=ot(St(t),ri),Ft(e,yt(Br(e),t)))}),Ds=yr(function(e,t){return null==e?{}:Ft(e,St(t))}),Ps=bn(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),Hs=bn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Bs=bn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),js=bn(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Fs=yr(function(e,t){try{return e.apply(w,t)}catch(n){return Er(n)?n:new Gr(n)}}),Is=yr(function(e,t){return function(n){return Rn(n,e,t)}}),qs=yr(function(e,t){return function(n){return Rn(e,n,t)}}),Rs=Nn("ceil"),Us=Nn("floor"),zs=Nn("round");return d.prototype=Q.prototype,G.prototype=Ri(Q.prototype),G.prototype.constructor=G,Y.prototype=Ri(Q.prototype),Y.prototype.constructor=Y,Z.prototype["delete"]=function(e){return this.has(e)&&delete this.__data__[e]},Z.prototype.get=function(e){return"__proto__"==e?w:this.__data__[e]},Z.prototype.has=function(e){return"__proto__"!=e&&fi.call(this.__data__,e)},Z.prototype.set=function(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this},et.prototype.push=function(e){var t=this.data;typeof e=="string"||xr(e)?t.set.add(e):t.hash[e]=!0},gr.Cache=Z,d.after=function(e,t){if(typeof t!="function")throw new ii("Expected a function");return e=Yn(e),function(){return 1>--e?t.apply(this,arguments):void 0}},d.ary=function(e,t,n){return t=n?w:t,t=e&&null==t?e.length:t,Cn(e,128,w,w,w,w,t)},d.assign=xs,d.assignWith=Ts,d.at=Ns,d.before=pr,d.bind=cs,d.bindAll=hs,d.bindKey=ps,d.chain=ur,d.chunk=function(e,t){t=Di(Yn(t),0);var n=e?e.length:0;if(!n||1>t)return[];for(var r=0,i=-1,s=Kr(Li(n/t));n>r;)s[++i]=Vt(e,r,r+=t);return s},d.compact=function(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var s=e[t];s&&(i[++r]=s)}return i},d.constant=function(e){return function(){return e}},d.countBy=is,d.create=function(e,t){var n=Ri(e);return t?dt(n,t):n},d.curry=dr,d.curryRight=vr,d.debounce=mr,d.defaults=Cs,d.defaultsDeep=ks,d.defer=ds,d.delay=vs,d.difference=Qi,d.drop=tr,d.dropRight=nr,d.dropRightWhile=function(e,t){return e&&e.length?tn(e,Dn(t,3),!0,!0):[]},d.dropWhile=function(e,t){return e&&e.length?tn(e,Dn(t,3),!0):[]},d.extend=Ls,d.extendWith=As,d.fill=function(e,t,n,r){var i=e?e.length:0;if(!i)return[];for(n&&typeof n!="number"&&Wn(e,t,n)&&(n=0,r=i),i=e.length,n=null==n?0:Yn(n),0>n&&(n=-n>i?0:i+n),r=r===w||r>i?i:Yn(r),0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)e[n++]=t;return e},d.filter=function(e,t){return(Ss(e)?st:wt)(e,Dn(t,3))},d.flatten=function(e){return e&&e.length?St(e):[]},d.flattenDeep=function(e){return e&&e.length?St(e,!0):[]},d.flow=ms,d.flowRight=gs,d.functions=function(e){return null==e?[]:Ct(e,Br(e))},d.groupBy=ss,d.initial=function(e){return nr(e,1)},d.intersection=Gi,d.invert=function(e,t,n){return lt(Hr(e),function(r,i){var s=e[i];return t&&!n?fi.call(r,s)?r[s].push(i):r[s]=[i]:r[s]=i,r},{})},d.invoke=os,d.iteratee=Wr,d.keyBy=us,d.keys=Hr,d.keysIn=Br,d.map=function(e,t){return(Ss(e)?ot:Pt)(e,Dn(t,3))},d.mapKeys=function(e,t){var n={};return t=Dn(t,3),Tt(e,function(e,r,i){n[t(e,r,i)]=e}),n},d.mapValues=function(e,t){var n={};return t=Dn(t,3),Tt(e,function(e,r,i){n[r]=t(e,r,i)}),n},d.matches=Xr,d.matchesProperty=function(e,t){return Bt(e,mt(t,!0))},d.memoize=gr,d.merge=Os,d.mergeWith=Ms,d.method=Is,d.methodOf=qs,d.mixin=Vr,d.modArgs=ys,d.negate=function(e){if(typeof e!="function")throw new ii("Expected a function");return function(){return!e.apply(this,arguments)}},d.omit=_s,d.omitBy=function(e,t){return t=Dn(t),It(e,function(e){return!t(e)})},d.once=function(e){return pr(2,e)},d.pairs=jr,d.partial=bs,d.partialRight=ws,d.partition=as,d.pick=Ds,d.pickBy=function(e,t){return null==e?{}:It(e,Dn(t))},d.property=Jr,d.propertyOf=function(e){return function(t){return null==e?w:kt(e,t)}},d.pull=function(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=_n(),i=e.length;++n<i;)for(var s=0,o=e[n];-1<(s=r(t,o,s));)ki.call(t,s,1);return t},d.pullAt=Yi,d.range=function(e,t,n){return n&&Wn(e,t,n)&&(t=n=w),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0,t=Di(Li((t-e)/(n||1)),0),Yt(t,function(t){return t?e+=n:e})},d.rearg=Es,d.reject=function(e,t){var n=Ss(e)?st:wt;return t=Dn(t,3),n(e,function(e,n,r){return!t(e,n,r)})},d.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],s=e.length;for(t=Dn(t,3);++r<s;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Ut(e,i),n},d.rest=function(e){return tr(e,1)},d.restParam=yr,d.set=function(e,t,n){return null==e?e:Xt(e,t,n)},d.setWith=function(e,t,n,r){return r=typeof r=="function"?r:w,null==e?e:Xt(e,t,n,r)},d.shuffle=function(e){return cr(e,Fi)},d.slice=function(e,t,n){var r=e?e.length:0;return r?(n&&typeof n!="number"&&Wn(e,t,n)&&(t=0,n=r),Vt(e,t,n)):[]},d.sortBy=fs,d.sortByOrder=function(e,t,n,r){return null==e?[]:(Ss(t)||(t=null==t?[]:[t]),n=r?w:n,Ss(n)||(n=null==n?[]:[n]),Kt(e,t,n))},d.sortedUniq=function(e){return e&&e.length?Qt(e):[]},d.sortedUniqBy=function(e,t){return e&&e.length?Qt(e,Dn(t)):[]},d.spread=function(e){if(typeof e!="function")throw new ii("Expected a function");return function(t){return e.apply(this,t)}},d.take=function(e,t,n){return e&&e.length?(t=n||null==t?1:t,Vt(e,0,0>t?0:t)):[]},d.takeRight=function(e,t,n){var r=e?e.length:0;return r?(t=n||null==t?1:Yn(t),t=r-t,Vt(e,0>t?0:t)):[]},d.takeRightWhile=function(e,t){return e&&e.length?tn(e,Dn(t,3),!1,!0):[]},d.takeWhile=function(e,t){return e&&e.length?tn(e,Dn(t,3)):[]},d.tap=function(e,t){return t(e),e},d.throttle=function(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new ii("Expected a function");return xr(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),mr(e,t,{leading:r,maxWait:+t,trailing:i})},d.thru=ar,d.times=function(e,t){if(e=Yn(e),1>e||e==Fi||e==ji)return[];var n=4294967295,r=Pi(e,4294967295);for(t=Gn(t),e-=4294967295,r=Yt(r,t);++n<e;)t(n);return r},d.toArray=Mr,d.toPlainObject=_r,d.transform=function(e,t,n){var r=Ss(e)||Ar(e);if(t=Dn(t,4),null==n)if(r||xr(e)){var i=e.constructor;n=r?Ss(e)?new i:[]:Ri(Sr(i)?i.prototype:w)}else n={};return(r?nt:Tt)(e,function(e,r,i){return t(n,e,r,i)}),n},d.union=Zi,d.uniq=function(e){return e&&e.length?Zt(e):[]},d.uniqBy=function(e,t){return e&&e.length?Zt(e,Dn(t)):[]},d.unzip=sr,d.unzipWith=or,d.values=Fr,d.valuesIn=function(e){return null==e?en(e,Br(e)):[]},d.without=es,d.wrap=function(e,t){return t=null==t?zr:t,Cn(t,32,w,[e],[])},d.xor=function(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(xr(n)&&Un(n))var r=r?ft(yt(r,n),yt(n,r)):n}return r?Zt(r):[]},d.zip=ts,d.zipObject=function(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||Ss(e[0])||(t=[]);++n<r;){var s=e[n];t?i[s]=t[n]:s&&(i[s[0]]=s[1])}return i},d.zipWith=ns,d.each=fr,d.eachRight=lr,Vr(d,d),d.add=function(e,t){return(+e||0)+(+t||0)},d.attempt=Fs,d.camelCase=Ps,d.capitalize=function(e){return(e=r(e))&&e.charAt(0).toUpperCase()+e.slice(1)},d.ceil=Rs,d.clone=function(e){return mt(e)},d.cloneDeep=function(e){return mt(e,!0)},d.cloneDeepWith=function(e,t){return mt(e,!0,t)},d.cloneWith=function(e,t){return mt(e,!1,t)},d.deburr=Ir,d.endsWith=function(e,t,n){e=r(e),t+="";var i=e.length;return n=n===w?i:Pi(0>n?0:Yn(n),i),n-=t.length,n>=0&&e.indexOf(t,n)==n},d.eq=function(e,t){return e===t||e!==e&&t!==t},d.escape=function(e){return(e=r(e))&&k.test(e)?e.replace(N,f):e},d.escapeRegExp=function(e){return(e=r(e))&&H.test(e)?e.replace(P,"\\$&"):e},d.every=function(e,t,n){var r=Ss(e)?rt:bt;return n&&Wn(e,t,n)&&(t=w),r(e,Dn(t,3))},d.find=function(t,n){if(n=Dn(n,3),Ss(t)){var r=e(t,n);return r>-1?t[r]:w}return Et(t,n,Ui)},d.findIndex=function(t,n){return t&&t.length?e(t,Dn(n,3)):-1},d.findKey=function(e,t){return Et(e,Dn(t,3),Tt,!0)},d.findLast=function(t,n){if(n=Dn(n,3),Ss(t)){var r=e(t,n,!0);return r>-1?t[r]:w}return Et(t,n,zi)},d.findLastIndex=function(t,n){return t&&t.length?e(t,Dn(n,3),!0):-1},d.findLastKey=function(e,t){return Et(e,Dn(t,3),Nt,!0)},d.first=function(e){return e?e[0]:w},d.floor=Us,d.forEach=fr,d.forEachRight=lr,d.forIn=function(e,t){return null==e?e:Wi(e,Gn(t),Br)},d.forInRight=function(e,t){return null==e?e:Xi(e,Gn(t),Br)},d.forOwn=function(e,t){return e&&Tt(e,Gn(t))},d.forOwnRight=function(e,t){return e&&Nt(e,Gn(t))},d.get=Dr,d.gt=br,d.gte=function(e,t){return e>=t},d.has=function(e,t){return Bn(e,t,Lt)},d.hasIn=Pr,d.identity=zr,d.includes=function(e,t,n,r){e=Un(e)?e:Fr(e);var i=e.length;return r||!n?n=0:(n=Yn(n),n=0>n?Di(i+n,0):n),typeof e=="string"||!Ss(e)&&Lr(e)?i>=n&&-1<e.indexOf(t,n):!!i&&-1<_n(e,t,n)},d.indexOf=rr,d.inRange=function(e,t,n){return t=+t||0,n===w?(n=t,t=0):n=+n||0,e>=Pi(t,n)&&e<Di(t,n)},d.isArguments=wr,d.isArray=Ss,d.isBoolean=function(e){return!0===e||!1===e||p(e)&&"[object Boolean]"==hi.call(e)},d.isDate=function(e){return p(e)&&"[object Date]"==hi.call(e)},d.isElement=function(e){return!!e&&1===e.nodeType&&p(e)&&!Cr(e)},d.isEmpty=function(e){return!p(e)||Sr(e.splice)?!hr(e):!Hr(e).length},d.isEqual=function(e,t){return Ot(e,t)},d.isEqualWith=function(e,t,n){var r=(n=typeof n=="function"?n:w)?n(e,t):w;return r===w?Ot(e,t,n):!!r},d.isError=Er,d.isFinite=function(e){return typeof e=="number"&&Mi(e)},d.isFunction=Sr,d.isMatch=function(e,t){return Mt(e,t,Pn(t))},d.isMatchWith=function(e,t,n){return n=typeof n=="function"?n:w,Mt(e,t,Pn(t),n)},d.isNaN=function(e){return Nr(e)&&e!=+e},d.isNative=Tr,d.isNil=function(e){return null==e},d.isNull=function(e){return null===e},d.isNumber=Nr,d.isObject=xr,d.isPlainObject=Cr,d.isRegExp=kr,d.isString=Lr,d.isTypedArray=Ar,d.isUndefined=function(e){return e===w},d.kebabCase=Hs,d.last=ir,d.lastIndexOf=function(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if(n!==w&&(i=Yn(n),i=(0>i?Di(r+i,0):Pi(i,r-1))+1),t!==t)return c(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1},d.lt=Or,d.lte=function(e,t){return t>=e},d.max=function(e){return e&&e.length?it(e,zr,br,ji):ji},d.maxBy=function(e,t){return e&&e.length?it(e,Dn(t),br,ji):ji},d.min=function(e){return e&&e.length?it(e,zr,Or,Fi):Fi},d.minBy=function(e,t){return e&&e.length?it(e,Dn(t),Or,Fi):Fi},d.noConflict=function(){return ut._=pi,this},d.noop=$r,d.now=ls,d.pad=function(e,t,n){e=r(e),t=Yn(t);var i=e.length;return t&&t>i?(i=(t-i)/2,t=Oi(i),i=Li(i),n=xn("",i,n),n.slice(0,t)+e+n):e},d.padLeft=function(e,t,n){return e=r(e),xn(e,t,n)+e},d.padRight=function(e,t,n){return e=r(e),e+xn(e,t,n)},d.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),e=Rr(e),Hi(e,t||(q.test(e)?16:10))},d.random=function(e,t,n){n&&Wn(e,t,n)&&(t=n=w);var r=null==e,i=null==t;return null==n&&(i&&typeof e=="boolean"?(n=e,e=1):typeof t=="boolean"&&(n=t,i=!0)),r&&i&&(t=1,i=!1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1?(n=Bi(),Pi(e+n*(t-e+xi("1e-"+((n+"").length-1))),t)):zt(e,t)},d.reduce=function(e,t,n){var r=3>arguments.length;return typeof t=="function"&&Ss(e)?lt(e,t,n,r):Wt(e,Dn(t,4),n,r,Ui)},d.reduceRight=function(e,t,n){var r=3>arguments.length;if(typeof t=="function"&&Ss(e)){var i=n,s=e.length;for(r&&s&&(i=e[--s]);s--;)i=t(i,e[s],s,e);r=i}else r=Wt(e,Dn(t,4),n,r,zi);return r},d.repeat=qr,d.result=function(e,t,n){if(Xn(t,e))r=null==e?w:e[t];else{t=Zn(t);var r=Dr(e,t);e=Qn(e,t)}return r===w&&(r=n),Sr(r)?r.call(e):r},d.round=zs,d.runInContext=b,d.size=hr,d.snakeCase=Bs,d.some=function(e,t,n){var r=Ss(e)?ct:$t;return n&&Wn(e,t,n)&&(t=w),r(e,Dn(t,3))},d.sortedIndex=function(e,t){return rn(e,t)},d.sortedIndexBy=function(e,t,n){return sn(e,t,Dn(n))},d.sortedIndexOf=function(e,t){var n=e?e.length:0;if(n){var r=rn(e,t);if(n>r&&(t===t?t===e[r]:e[r]!==e[r]))return r}return-1},d.sortedLastIndex=function(e,t){return rn(e,t,!0)},d.sortedLastIndexBy=function(e,t,n){return sn(e,t,Dn(n),!0)},d.sortedLastIndexOf=function(e,t){if(e&&e.length){var n=rn(e,t,!0)-1,r=e[n];if(t===t?t===r:r!==r)return n}return-1},d.startCase=js,d.startsWith=function(e,t,n){return e=r(e),n=null==n?0:Pi(0>n?0:Yn(n),e.length),e.lastIndexOf(t,n)==n},d.sum=function(e){return e?Gt(e,zr):0},d.sumBy=function(e,t){return e&&e.length?Gt(e,Dn(t)):0},d.template=function(e,t,n){var i=d.templateSettings;n&&Wn(e,t,n)&&(t=n=w),e=r(e),t=As({},n||t,i,On),n=As({},t.imports,i.imports,On);var s,o,u=Hr(n),a=en(n,u),f=0;n=t.interpolate||W;var c="__p+='";n=ni((t.escape||W).source+"|"+n.source+"|"+(n===O?F:W).source+"|"+(t.evaluate||W).source+"|$","g");var h="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";if(e.replace(n,function(t,n,r,i,u,a){return r||(r=i),c+=e.slice(f,a).replace(X,l),n&&(s=!0,c+="'+__e("+n+")+'"),u&&(o=!0,c+="';"+u+";\n__p+='"),r&&(c+="'+((__t=("+r+"))==null?'':__t)+'"),f=a+t.length,t}),c+="';",(t=t.variable)||(c="with(obj){"+c+"}"),c=(o?c.replace(E,""):c).replace(S,"$1").replace(x,"$1;"),c="function("+(t||"obj")+"){"+(t?"":"obj||(obj={});")+"var __t,__p=''"+(s?",__e=_.escape":"")+(o?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+c+"return __p}",t=Fs(function(){return Yr(u,h+"return "+c).apply(w,a)}),t.source=c,Er(t))throw t;return t},d.trim=Rr,d.trimLeft=function(e,t,n){return(e=r(e))?e.slice(n||t===w?m(e):i(e,t+"")):e},d.trimRight=function(e,t,n){return(e=r(e))?n||t===w?e.slice(0,g(e)+1):e.slice(0,s(e,t+"")+1):e},d.trunc=function(e,t,n){var i=30;if(n="...",xr(t)){var s="separator"in t?t.separator:s,i="length"in t?Yn(t.length):i;n="omission"in t?r(t.omission):n}if(e=r(e),i>=e.length)return e;if(i-=n.length,1>i)return n;if(t=e.slice(0,i),s===w)return t+n;if(kr(s)){if(e.slice(i).search(s)){var o,u=e.slice(0,i);for(s.global||(s=ni(s.source,(I.exec(s)||"")+"g")),s.lastIndex=0;e=s.exec(u);)o=e.index;t=t.slice(0,null==o?i:o)}}else e.indexOf(s,i)!=i&&(s=t.lastIndexOf(s),s>-1&&(t=t.slice(0,s)));return t+n},d.unescape=function(e){return(e=r(e))&&C.test(e)?e.replace(T,y):e},d.uniqueId=function(e){var t=++li;return r(e)+t},d.words=Ur,Vr(d,function(){var e={};return Tt(d,function(t,n){d.prototype[n]||(e[n]=t)}),e}(),{chain:!1}),d.sample=cr,d.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return cr(t,e)}):cr(this.value())},d.VERSION="3.10.1",nt("bind bindKey curry curryRight partial partialRight".split(" "),function(e){d[e].placeholder=d}),nt(["drop","take"],function(e,t){Y.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new Y(this);n=null==n?1:Di(Yn(n),0);var i=this.clone();return r?i.__takeCount__=Pi(i.__takeCount__,n):i.__views__.push({size:n,type:e+(0>i.__dir__?"Right":"")}),i},Y.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),nt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=2!=n;Y.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Dn(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),nt(["first","last"],function(e,t){var n="take"+(t?"Right":"");Y.prototype[e]=function(){return this[n](1).value()[0]}}),nt(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");Y.prototype[e]=function(){return this.__filtered__?new Y(this):this[n](1)}}),Y.prototype.compact=function(){return this.filter(zr)},Y.prototype.find=function(e){return this.filter(e).first()},Y.prototype.findLast=function(e){return this.reverse().find(e)},Y.prototype.reject=function(e){return e=Dn(e,3),this.filter(function(t){return!e(t)})},Y.prototype.slice=function(e,t){e=null==e?0:Yn(e);var n=this;return n.__filtered__&&(e>0||0>t)?new Y(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==w&&(t=Yn(t),n=0>t?n.dropRight(-t):n.take(t-e)),n)},Y.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Y.prototype.toArray=function(){return this.take(Fi)},Tt(Y.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:first|last)$/.test(t),i=r||/^find/.test(t),s=d[r?"take"+("last"==t?"Right":""):t];s&&(d.prototype[t]=function(){var t=r?[1]:arguments,o=this.__wrapped__,u=o instanceof Y,a=t[0],f=u||Ss(o),l=function(e){return e=s.apply(d,ft([e],t)),r&&c?e[0]:e};f&&n&&typeof a=="function"&&1!=a.length&&(u=f=!1);var a={func:ar,args:[l],thisArg:w},c=this.__chain__,h=!!this.__actions__.length,p=i&&!c,u=u&&!h;return!i&&f?(o=u?o:new Y(this),o=e.apply(o,t),o.__actions__.push(a),new G(o,c)):p&&u?e.apply(this,t):(o=this.thru(l),p?r?o.value()[0]:o.value():o)})}),nt("join pop push replace shift sort splice split unshift".split(" "),function(e){var t=(/^(?:replace|split)$/.test(e)?ui:si)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(e);d.prototype[e]=function(){var e=arguments;return r&&!this.__chain__?t.apply(this.value(),e):this[n](function(n){return t.apply(n,e)})}}),Tt(Y.prototype,function(e,t){var n=d[t];if(n){var r=n.name+"";(qi[r]||(qi[r]=[])).push({name:t,func:n})}}),qi[Sn(w,2).name]=[{name:"wrapper",func:w}],Y.prototype.clone=function(){var e=new Y(this.__wrapped__);return e.__actions__=cn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=cn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=cn(this.__views__),e},Y.prototype.reverse=function(){if(this.__filtered__){var e=new Y(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},Y.prototype.value=function(){var e,t=this.__wrapped__.value(),n=this.__dir__,r=Ss(t),i=0>n,s=r?t.length:0;e=0;for(var o=s,u=this.__views__,a=-1,f=u.length;++a<f;){var l=u[a],c=l.size;switch(l.type){case"drop":e+=c;break;case"dropRight":o-=c;break;case"take":o=Pi(o,e+c);break;case"takeRight":e=Di(e,o-c)}}if(e={start:e,end:o},o=e.start,u=e.end,e=u-o,i=i?u:o-1,o=this.__iteratees__,u=o.length,a=0,f=Pi(e,this.__takeCount__),!r||200>s||s==e&&f==e)return nn(t,this.__actions__);r=[];e:for(;e--&&f>a;){for(i+=n,s=-1,l=t[i];++s<u;){var h=o[s],c=h.type,h=h.iteratee(l);if(2==c)l=h;else if(!h){if(1==c)continue e;break e}}r[a++]=l}return r},d.prototype.chain=function(){return ur(this)},d.prototype.commit=function(){return new G(this.value(),this.__chain__)},d.prototype.concat=rs,d.prototype.plant=function(e){for(var t,n=this;n instanceof Q;){var r=er(n);t?i.__wrapped__=r:t=r;var i=r,n=n.__wrapped__}return i.__wrapped__=e,t},d.prototype.reverse=function(){var e=this.__wrapped__,t=function(e){return e.reverse()};return e instanceof Y?(this.__actions__.length&&(e=new Y(this)),e=e.reverse(),e.__actions__.push({func:ar,args:[t],thisArg:w}),new G(e,this.__chain__)):this.thru(t)},d.prototype.toString=function(){return this.value()+""},d.prototype.run=d.prototype.toJSON=d.prototype.valueOf=d.prototype.value=function(){return nn(this.__wrapped__,this.__actions__)},d}var w,E=/\b__p\+='';/g,S=/\b(__p\+=)''\+/g,x=/(__e\(.*?\)|\b__t\))\+'';/g,T=/&(?:amp|lt|gt|quot|#39|#96);/g,N=/[&<>"'`]/g,C=RegExp(T.source),k=RegExp(N.source),L=/<%-([\s\S]+?)%>/g,A=/<%([\s\S]+?)%>/g,O=/<%=([\s\S]+?)%>/g,M=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_=/^\w*$/,D=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,P=/[\\^$.*+?()[\]{}|]/g,H=RegExp(P.source),B=/[\u0300-\u036f\ufe20-\ufe23]/g,j=/\\(\\)?/g,F=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,I=/\w*$/,q=/^0[xX]/,R=/^\[object .+?Constructor\]$/,U=/^\d+$/,z=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,W=/($^)/,X=/['\n\r\u2028\u2029\\]/g,V=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),$="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object Reflect RegExp Set String TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseFloat parseInt setTimeout".split(" "),J={};J["[object Float32Array]"]=J["[object Float64Array]"]=J["[object Int8Array]"]=J["[object Int16Array]"]=J["[object Int32Array]"]=J["[object Uint8Array]"]=J["[object Uint8ClampedArray]"]=J["[object Uint16Array]"]=J["[object Uint32Array]"]=!0,J["[object Arguments]"]=J["[object Array]"]=J["[object ArrayBuffer]"]=J["[object Boolean]"]=J["[object Date]"]=J["[object Error]"]=J["[object Function]"]=J["[object Map]"]=J["[object Number]"]=J["[object Object]"]=J["[object RegExp]"]=J["[object Set]"]=J["[object String]"]=J["[object WeakMap]"]=!1;var K={};K["[object Arguments]"]=K["[object Array]"]=K["[object ArrayBuffer]"]=K["[object Boolean]"]=K["[object Date]"]=K["[object Float32Array]"]=K["[object Float64Array]"]=K["[object Int8Array]"]=K["[object Int16Array]"]=K["[object Int32Array]"]=K["[object Number]"]=K["[object Object]"]=K["[object RegExp]"]=K["[object String]"]=K["[object Uint8Array]"]=K["[object Uint8ClampedArray]"]=K["[object Uint16Array]"]=K["[object Uint32Array]"]=!0,K["[object Error]"]=K["[object Function]"]=K["[object Map]"]=K["[object Set]"]=K["[object WeakMap]"]=!1;var Q={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},G={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Y={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Z={"function":!0,object:!0},et={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tt=Z[typeof exports]&&exports&&!exports.nodeType?exports:null,nt=Z[typeof module]&&module&&!module.nodeType?module:null,rt=o(tt&&nt&&typeof global=="object"&&global),it=o(Z[typeof self]&&self),st=o(Z[typeof window]&&window),ot=nt&&nt.exports===tt?tt:null,Z=o(Z[typeof this]&&this),ut=rt||st!==(Z&&Z.window)&&st||it||Z||Function("return this")(),at=b();(st||it||{})._=at,typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("underscore",[],function(){return at}):tt&&nt?ot?(nt.exports=at)._=at:tt._=at:ut._=at}.call(this),!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(a,b){function s(e){var t=e.length,r=n.type(e);return"function"===r||n.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e}function A(e,t,r){if(n.isFunction(t))return n.grep(e,function(e,n){return!!t.call(e,n,e)!==r});if(t.nodeType)return n.grep(e,function(e){return e===t!==r});if("string"==typeof t){if(z.test(t))return n.filter(t,e,r);t=n.filter(t,e)}return n.grep(e,function(e){return g.call(t,e)>=0!==r})}function G(e,t){while((e=e[t])&&1!==e.nodeType);return e}function J(e){var t=I[e]={};return n.each(e.match(H)||[],function(e,n){t[n]=!0}),t}function L(){l.removeEventListener("DOMContentLoaded",L,!1),a.removeEventListener("load",L,!1),n.ready()}function N(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+Math.random()}function S(e,t,r){var i;if(void 0===r&&1===e.nodeType)if(i="data-"+t.replace(R,"-$1").toLowerCase(),r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:Q.test(r)?n.parseJSON(r):r}catch(s){}P.set(e,t,r)}else r=void 0;return r}function $(){return!0}function _(){return!1}function ab(){try{return l.activeElement}catch(e){}}function kb(e,t){return n.nodeName(e,"table")&&n.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function lb(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function mb(e){var t=hb.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function nb(e,t){for(var n=0,r=e.length;r>n;n++)O.set(e[n],"globalEval",!t||O.get(t[n],"globalEval"))}function ob(e,t){var r,i,s,o,u,a,f,l;if(1===t.nodeType){if(O.hasData(e)&&(o=O.access(e),u=O.set(t,o),l=o.events)){delete u.handle,u.events={};for(s in l)for(r=0,i=l[s].length;i>r;r++)n.event.add(t,s,l[s][r])}P.hasData(e)&&(a=P.access(e),f=n.extend({},a),P.set(t,f))}}function pb(e,t){var r=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&n.nodeName(e,t)?n.merge([e],r):r}function qb(e,t){var n=t.nodeName.toLowerCase();"input"===n&&U.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function Mb(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var i,s=0,o=t.toLowerCase().match(H)||[];if(n.isFunction(r))while(i=o[s++])"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(r)):(e[i]=e[i]||[]).push(r)}}function Nb(e,t,r,i){function u(l){var h;return s[l]=!0,n.each(e[l]||[],function(e,n){var a=n(t,r,i);return"string"!=typeof a||o||s[a]?o?!(h=a):void 0:(t.dataTypes.unshift(a),u(a),!1)}),h}var s={},o=e===Jb;return u(t.dataTypes[0])||!s["*"]&&u("*")}function Ob(e,t){var r,i,s=n.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((s[r]?e:i||(i={}))[r]=t[r]);return i&&n.extend(!0,e,i),e}function Pb(e,t,n){var r,i,s,o,u=e.contents,a=e.dataTypes;while("*"===a[0])a.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in u)if(u[i]&&u[i].test(r)){a.unshift(i);break}if(a[0]in n)s=a[0];else{for(i in n){if(!a[0]||e.converters[i+" "+a[0]]){s=i;break}o||(o=i)}s=s||o}return s?(s!==a[0]&&a.unshift(s),n[s]):void 0}function Qb(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift())if("*"===s)s=a;else if("*"!==a&&a!==s){if(o=f[a+" "+s]||f["* "+s],!o)for(i in f)if(u=i.split(" "),u[1]===s&&(o=f[a+" "+u[0]]||f["* "+u[0]])){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}return{state:"success",data:t}}function Wb(e,t,r,i){var s;if(n.isArray(t))n.each(t,function(t,n){r||Sb.test(e)?i(e,n):Wb(e+"["+("object"==typeof n?t:"")+"]",n,r,i)});else if(r||"object"!==n.type(t))i(e,t);else for(s in t)Wb(e+"["+s+"]",t[s],r,i)}var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.1 -css,-css/addGetHookIf,-css/curCSS,-css/defaultDisplay,-css/hiddenVisibleSelectors,-css/support,-css/swap,-css/var/cssExpand,-css/var/getStyles,-css/var/isHidden,-css/var/rmargin,-css/var/rnumnonpx,-effects,-effects/Tween,-effects/animatedSelector,-dimensions,-offset,-deprecated,-event-alias,-wrap",n=function(e,t){return new n.fn.init(e,t)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(e,t){return t.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:d.call(this)},pushStack:function(e){var t=n.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return n.each(this,e,t)},map:function(e){return this.pushStack(n.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var e,t,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;for("boolean"==typeof u&&(l=u,u=arguments[a]||{},a++),"object"==typeof u||n.isFunction(u)||(u={}),a===f&&(u=this,a--);f>a;a++)if(null!=(e=arguments[a]))for(t in e)r=u[t],i=e[t],u!==i&&(l&&i&&(n.isPlainObject(i)||(s=n.isArray(i)))?(s?(s=!1,o=r&&n.isArray(r)?r:[]):o=r&&n.isPlainObject(r)?r:{},u[t]=n.extend(l,o,i)):void 0!==i&&(u[t]=i));return u},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===n.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!n.isArray(e)&&e-parseFloat(e)>=0},isPlainObject:function(e){return"object"!==n.type(e)||e.nodeType||n.isWindow(e)?!1:e.constructor&&!j.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?h[i.call(e)]||"object":typeof e},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(e){return e.replace(p,"ms-").replace(q,r)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,u=s(e);if(n){if(u){for(;o>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(u){for(;o>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(o,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(s(Object(e))?n.merge(r,"string"==typeof e?[e]:e):f.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:g.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],s=0,o=e.length,u=!n;o>s;s++)r=!t(e[s],s),r!==u&&i.push(e[s]);return i},map:function(t,n,r){var i,o=0,u=t.length,a=s(t),f=[];if(a)for(;u>o;o++)i=n(t[o],o,r),null!=i&&f.push(i);else for(o in t)i=n(t[o],o,r),null!=i&&f.push(i);return e.apply([],f)},guid:1,proxy:function(e,t){var r,i,s;return"string"==typeof t&&(r=e[t],t=e,e=r),n.isFunction(e)?(i=d.call(arguments,2),s=function(){return e.apply(t||this,i.concat(d.call(arguments)))},s.guid=e.guid=e.guid||n.guid++,s):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){h["[object "+t+"]"]=t.toLowerCase()});var t=a.document.documentElement,u,v=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.msMatchesSelector,w=function(e,t){if(e===t)return u=!0,0;var r=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return r?1&r?e===l||n.contains(l,e)?-1:t===l||n.contains(l,t)?1:0:4&r?-1:1:e.compareDocumentPosition?-1:1};n.extend({find:function(e,t,r,i){var s,o,u=0;if(r=r||[],t=t||l,!e||"string"!=typeof e)return r;if(1!==(o=t.nodeType)&&9!==o)return[];if(i)while(s=i[u++])n.find.matchesSelector(s,e)&&r.push(s);else n.merge(r,t.querySelectorAll(e));return r},unique:function(e){var t,n=[],r=0,i=0;if(u=!1,e.sort(w),u){while(t=e[r++])t===e[r]&&(i=n.push(r));while(i--)e.splice(n[i],1)}return e},text:function(e){var t,r="",i=0,s=e.nodeType;if(s){if(1===s||9===s||11===s)return e.textContent;if(3===s||4===s)return e.nodeValue}else while(t=e[i++])r+=n.text(t);return r},contains:function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&1===r.nodeType&&!!n.contains(r)},isXMLDoc:function(e){return"HTML"!==(e.ownerDocument||e).documentElement.nodeName},expr:{attrHandle:{},match:{bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]/}}}),n.extend(n.find,{matches:function(e,t){return n.find(e,null,null,t)},matchesSelector:function(e,t){return v.call(e,t)},attr:function(e,t){return e.getAttribute(t)}});var x=n.expr.match.needsContext,y=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,z=/^.[^:#\[\.,]*$/;n.filter=function(e,t,r){var i=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?n.find.matchesSelector(i,e)?[i]:[]:n.find.matches(e,n.grep(t,function(e){return 1===e.nodeType}))},n.fn.extend({find:function(e){var t,r=this.length,i=[],s=this;if("string"!=typeof e)return this.pushStack(n(e).filter(function(){for(t=0;r>t;t++)if(n.contains(s[t],this))return!0}));for(t=0;r>t;t++)n.find(e,s[t],i);return i=this.pushStack(r>1?n.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(A(this,e||[],!1))},not:function(e){return this.pushStack(A(this,e||[],!0))},is:function(e){return!!A(this,"string"==typeof e&&x.test(e)?n(e):e||[],!1).length}});var B,C=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,D=n.fn.init=function(e,t){var r,i;if(!e)return this;if("string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:C.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||B).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof n?t[0]:t,n.merge(this,n.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:l,!0)),y.test(r[1])&&n.isPlainObject(t))for(r in t)n.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=l.getElementById(r[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=l,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):n.isFunction(e)?"undefined"!=typeof B.ready?B.ready(e):e(n):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),n.makeArray(e,this))};D.prototype=n.fn,B=n(l);var E=/^(?:parents|prev(?:Until|All))/,F={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(e,t,r){var i=[],s=void 0!==r;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(s&&n(e).is(r))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),n.fn.extend({has:function(e){var t=n(e,this),r=t.length;return this.filter(function(){for(var e=0;r>e;e++)if(n.contains(this,t[e]))return!0})},closest:function(e,t){for(var r,i=0,s=this.length,o=[],u=x.test(e)||"string"!=typeof e?n(e,t||this.context):0;s>i;i++)for(r=this[i];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(u?u.index(r)>-1:1===r.nodeType&&n.find.matchesSelector(r,e))){o.push(r);break}return this.pushStack(o.length>1?n.unique(o):o)},index:function(e){return e?"string"==typeof e?g.call(n(e),this[0]):g.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(n.unique(n.merge(this.get(),n(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),n.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return n.dir(e,"parentNode")},parentsUntil:function(e,t,r){return n.dir(e,"parentNode",r)},next:function(e){return G(e,"nextSibling")},prev:function(e){return G(e,"previousSibling")},nextAll:function(e){return n.dir(e,"nextSibling")},prevAll:function(e){return n.dir(e,"previousSibling")},nextUntil:function(e,t,r){return n.dir(e,"nextSibling",r)},prevUntil:function(e,t,r){return n.dir(e,"previousSibling",r)},siblings:function(e){return n.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return n.sibling(e.firstChild)},contents:function(e){return e.contentDocument||n.merge([],e.childNodes)}},function(e,t){n.fn[e]=function(r,i){var s=n.map(this,t,r);return"Until"!==e.slice(-5)&&(i=r),i&&"string"==typeof i&&(s=n.filter(i,s)),this.length>1&&(F[e]||n.unique(s),E.test(e)&&s.reverse()),this.pushStack(s)}});var H=/\S+/g,I={};n.Callbacks=function(e){e="string"==typeof e?I[e]||J(e):n.extend({},e);var t,r,i,s,o,u,a=[],f=!e.once&&[],l=function(n){for(t=e.memory&&n,r=!0,u=s||0,s=0,o=a.length,i=!0;a&&o>u;u++)if(a[u].apply(n[0],n[1])===!1&&e.stopOnFalse){t=!1;break}i=!1,a&&(f?f.length&&l(f.shift()):t?a=[]:c.disable())},c={add:function(){if(a){var r=a.length;!function u(t){n.each(t,function(t,r){var i=n.type(r);"function"===i?e.unique&&c.has(r)||a.push(r):r&&r.length&&"string"!==i&&u(r)})}(arguments),i?o=a.length:t&&(s=r,l(t))}return this},remove:function(){return a&&n.each(arguments,function(e,t){var r;while((r=n.inArray(t,a,r))>-1)a.splice(r,1),i&&(o>=r&&o--,u>=r&&u--)}),this},has:function(e){return e?n.inArray(e,a)>-1:!!a&&!!a.length},empty:function(){return a=[],o=0,this},disable:function(){return a=f=t=void 0,this},disabled:function(){return!a},lock:function(){return f=void 0,t||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return!a||r&&!f||(t=t||[],t=[e,t.slice?t.slice():t],i?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},n.extend({Deferred:function(e){var t=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],r="pending",i={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var e=arguments;return n.Deferred(function(r){n.each(t,function(t,o){var u=n.isFunction(e[t])&&e[t];s[o[1]](function(){var e=u&&u.apply(this,arguments);e&&n.isFunction(e.promise)?e.promise().done(r.resolve).fail(r.reject).progress(r.notify):r[o[0]+"With"](this===i?r.promise():this,u?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?n.extend(e,i):i}},s={};return i.pipe=i.then,n.each(t,function(e,n){var o=n[2],u=n[3];i[n[1]]=o.add,u&&o.add(function(){r=u},t[1^e][2].disable,t[2][2].lock),s[n[0]]=function(){return s[n[0]+"With"](this===s?i:this,arguments),this},s[n[0]+"With"]=o.fireWith}),i.promise(s),e&&e.call(s,s),s},when:function(e){var t=0,r=d.call(arguments),i=r.length,s=1!==i||e&&n.isFunction(e.promise)?i:0,o=1===s?e:n.Deferred(),u=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?d.call(arguments):r,n===a?o.notifyWith(t,n):--s||o.resolveWith(t,n)}},a,f,l;if(i>1)for(a=new Array(i),f=new Array(i),l=new Array(i);i>t;t++)r[t]&&n.isFunction(r[t].promise)?r[t].promise().done(u(t,l,r)).fail(o.reject).progress(u(t,f,a)):--s;return s||o.resolveWith(l,r),o.promise()}});var K;n.fn.ready=function(e){return n.ready.promise().done(e),this},n.extend({isReady:!1,readyWait:1,holdReady:function(e){e?n.readyWait++:n.ready(!0)},ready:function(e){(e===!0?--n.readyWait:n.isReady)||(n.isReady=!0,e!==!0&&--n.readyWait>0||(K.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}}),n.ready.promise=function(e){return K||(K=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",L,!1),a.addEventListener("load",L,!1))),K.promise(e)},n.ready.promise();var M=n.access=function(e,t,r,i,s,o,u){var a=0,f=e.length,l=null==r;if("object"===n.type(r)){s=!0;for(a in r)n.access(e,t,a,r[a],!0,o,u)}else if(void 0!==i&&(s=!0,n.isFunction(i)||(u=!0),l&&(u?(t.call(e,i),t=null):(l=t,t=function(e,t,r){return l.call(n(e),r)})),t))for(;f>a;a++)t(e[a],r,u?i:i.call(e[a],a,t(e[a],r)));return s?e:l?t.call(e):f?t(e[0],r):o};n.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},N.uid=1,N.accepts=n.acceptData,N.prototype={key:function(e){if(!N.accepts(e))return 0;var t={},r=e[this.expando];if(!r){r=N.uid++;try{t[this.expando]={value:r},Object.defineProperties(e,t)}catch(i){t[this.expando]=r,n.extend(e,t)}}return this.cache[r]||(this.cache[r]={}),r},set:function(e,t,r){var i,s=this.key(e),o=this.cache[s];if("string"==typeof t)o[t]=r;else if(n.isEmptyObject(o))n.extend(this.cache[s],t);else for(i in t)o[i]=t[i];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,r){var i;return void 0===t||t&&"string"==typeof t&&void 0===r?(i=this.get(e,t),void 0!==i?i:this.get(e,n.camelCase(t))):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,i,s,o=this.key(e),u=this.cache[o];if(void 0===t)this.cache[o]={};else{n.isArray(t)?i=t.concat(t.map(n.camelCase)):(s=n.camelCase(t),t in u?i=[t,s]:(i=s,i=i in u?[i]:i.match(H)||[])),r=i.length;while(r--)delete u[i[r]]}},hasData:function(e){return!n.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var O=new N,P=new N,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,R=/([A-Z])/g;n.extend({hasData:function(e){return P.hasData(e)||O.hasData(e)},data:function(e,t,n){return P.access(e,t,n)},removeData:function(e,t){P.remove(e,t)},_data:function(e,t,n){return O.access(e,t,n)},_removeData:function(e,t){O.remove(e,t)}}),n.fn.extend({data:function(e,t){var r,i,s,o=this[0],u=o&&o.attributes;if(void 0===e){if(this.length&&(s=P.get(o),1===o.nodeType&&!O.get(o,"hasDataAttrs"))){r=u.length;while(r--)u[r]&&(i=u[r].name,0===i.indexOf("data-")&&(i=n.camelCase(i.slice(5)),S(o,i,s[i])));O.set(o,"hasDataAttrs",!0)}return s}return"object"==typeof e?this.each(function(){P.set(this,e)}):M(this,function(t){var r,i=n.camelCase(e);if(o&&void 0===t){if(r=P.get(o,e),void 0!==r)return r;if(r=P.get(o,i),void 0!==r)return r;if(r=S(o,i,void 0),void 0!==r)return r}else this.each(function(){var n=P.get(this,i);P.set(this,i,t),-1!==e.indexOf("-")&&void 0!==n&&P.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){P.remove(this,e)})}}),n.extend({queue:function(e,t,r){var i;return e?(t=(t||"fx")+"queue",i=O.get(e,t),r&&(!i||n.isArray(r)?i=O.access(e,t,n.makeArray(r)):i.push(r)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var r=n.queue(e,t),i=r.length,s=r.shift(),o=n._queueHooks(e,t),u=function(){n.dequeue(e,t)};"inprogress"===s&&(s=r.shift(),i--),s&&("fx"===t&&r.unshift("inprogress"),delete o.stop,s.call(e,u,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return O.get(e,r)||O.access(e,r,{empty:n.Callbacks("once memory").add(function(){O.remove(e,[t+"queue",r])})})}}),n.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?n.queue(this[0],e):void 0===t?this:this.each(function(){var r=n.queue(this,e,t);n._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&n.dequeue(this,e)})},dequeue:function(e){return this.each(function(){n.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,i=1,s=n.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(u--)r=O.get(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(t)}});var T=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,U=/^(?:checkbox|radio)$/i;!function(){var e=l.createDocumentFragment(),t=e.appendChild(l.createElement("div")),n=l.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),k.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var V="undefined";k.focusinBubbles="onfocusin"in a;var W=/^key/,X=/^(?:mouse|pointer|contextmenu)|click/,Y=/^(?:focusinfocus|focusoutblur)$/,Z=/^([^.]*)(?:\.(.+)|)$/;n.event={global:{},add:function(e,t,r,i,s){var o,u,a,f,l,c,h,p,d,v,m,g=O.get(e);if(g){r.handler&&(o=r,r=o.handler,s=o.selector),r.guid||(r.guid=n.guid++),(f=g.events)||(f=g.events={}),(u=g.handle)||(u=g.handle=function(t){return typeof n!==V&&n.event.triggered!==t.type?n.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(H)||[""],l=t.length;while(l--)a=Z.exec(t[l])||[],d=m=a[1],v=(a[2]||"").split(".").sort(),d&&(h=n.event.special[d]||{},d=(s?h.delegateType:h.bindType)||d,h=n.event.special[d]||{},c=n.extend({type:d,origType:m,data:i,handler:r,guid:r.guid,selector:s,needsContext:s&&n.expr.match.needsContext.test(s),namespace:v.join(".")},o),(p=f[d])||(p=f[d]=[],p.delegateCount=0,h.setup&&h.setup.call(e,i,v,u)!==!1||e.addEventListener&&e.addEventListener(d,u,!1)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=r.guid)),s?p.splice(p.delegateCount++,0,c):p.push(c),n.event.global[d]=!0)}},remove:function(e,t,r,i,s){var o,u,a,f,l,c,h,p,d,v,m,g=O.hasData(e)&&O.get(e);if(g&&(f=g.events)){t=(t||"").match(H)||[""],l=t.length;while(l--)if(a=Z.exec(t[l])||[],d=m=a[1],v=(a[2]||"").split(".").sort(),d){h=n.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,p=f[d]||[],a=a[2]&&new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=p.length;while(o--)c=p[o],!s&&m!==c.origType||r&&r.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,h.remove&&h.remove.call(e,c));u&&!p.length&&(h.teardown&&h.teardown.call(e,v,g.handle)!==!1||n.removeEvent(e,d,g.handle),delete f[d])}else for(d in f)n.event.remove(e,d+t[l],r,i,!0);n.isEmptyObject(f)&&(delete g.handle,O.remove(e,"events"))}},trigger:function(e,t,r,i){var s,o,u,f,c,h,p,d=[r||l],v=j.call(e,"type")?e.type:e,m=j.call(e,"namespace")?e.namespace.split("."):[];if(o=u=r=r||l,3!==r.nodeType&&8!==r.nodeType&&!Y.test(v+n.event.triggered)&&(v.indexOf(".")>=0&&(m=v.split("."),v=m.shift(),m.sort()),c=v.indexOf(":")<0&&"on"+v,e=e[n.expando]?e:new n.Event(v,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=m.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:n.makeArray(t,[e]),p=n.event.special[v]||{},i||!p.trigger||p.trigger.apply(r,t)!==!1)){if(!i&&!p.noBubble&&!n.isWindow(r)){for(f=p.delegateType||v,Y.test(f+v)||(o=o.parentNode);o;o=o.parentNode)d.push(o),u=o;u===(r.ownerDocument||l)&&d.push(u.defaultView||u.parentWindow||a)}s=0;while((o=d[s++])&&!e.isPropagationStopped())e.type=s>1?f:p.bindType||v,h=(O.get(o,"events")||{})[e.type]&&O.get(o,"handle"),h&&h.apply(o,t),h=c&&o[c],h&&h.apply&&n.acceptData(o)&&(e.result=h.apply(o,t),e.result===!1&&e.preventDefault());return e.type=v,i||e.isDefaultPrevented()||p._default&&p._default.apply(d.pop(),t)!==!1||!n.acceptData(r)||c&&n.isFunction(r[v])&&!n.isWindow(r)&&(u=r[c],u&&(r[c]=null),n.event.triggered=v,r[v](),n.event.triggered=void 0,u&&(r[c]=u)),e.result}},dispatch:function(e){e=n.event.fix(e);var t,r,i,s,o,u=[],a=d.call(arguments),f=(O.get(this,"events")||{})[e.type]||[],l=n.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){u=n.event.handlers.call(this,e,f),t=0;while((s=u[t++])&&!e.isPropagationStopped()){e.currentTarget=s.elem,r=0;while((o=s.handlers[r++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,i=((n.event.special[o.origType]||{}).handle||o.handler).apply(s.elem,a),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()))}return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var r,i,s,o,u=[],a=t.delegateCount,f=e.target;if(a&&f.nodeType&&(!e.button||"click"!==e.type))for(;f!==this;f=f.parentNode||this)if(f.disabled!==!0||"click"!==e.type){for(i=[],r=0;a>r;r++)o=t[r],s=o.selector+" ",void 0===i[s]&&(i[s]=o.needsContext?n(s,this).index(f)>=0:n.find(s,this,null,[f]).length),i[s]&&i.push(o);i.length&&u.push({elem:f,handlers:i})}return a<t.length&&u.push({elem:this,handlers:t.slice(a)}),u},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||l,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[n.expando])return e;var t,r,i,s=e.type,o=e,u=this.fixHooks[s];u||(this.fixHooks[s]=u=X.test(s)?this.mouseHooks:W.test(s)?this.keyHooks:{}),i=u.props?this.props.concat(u.props):this.props,e=new n.Event(o),t=i.length;while(t--)r=i[t],e[r]=o[r];return e.target||(e.target=l),3===e.target.nodeType&&(e.target=e.target.parentNode),u.filter?u.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ab()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===ab()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return n.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,r,i){var s=n.extend(new n.Event,r,{type:e,isSimulated:!0,originalEvent:{}});i?n.event.trigger(s,null,t):n.event.dispatch.call(t,s),s.isDefaultPrevented()&&r.preventDefault()}},n.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},n.Event=function(e,t){return this instanceof n.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?$:_):this.type=e,t&&n.extend(this,t),this.timeStamp=e&&e.timeStamp||n.now(),void (this[n.expando]=!0)):new n.Event(e,t)},n.Event.prototype={isDefaultPrevented:_,isPropagationStopped:_,isImmediatePropagationStopped:_,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=$,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=$,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=$,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){n.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,i=this,s=e.relatedTarget,o=e.handleObj;return(!s||s!==i&&!n.contains(i,s))&&(e.type=o.origType,r=o.handler.apply(this,arguments),e.type=t),r}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(e,t){var r=function(e){n.event.simulate(t,e.target,n.event.fix(e),!0)};n.event.special[t]={setup:function(){var n=this.ownerDocument||this,i=O.access(n,t);i||n.addEventListener(e,r,!0),O.access(n,t,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this,i=O.access(n,t)-1;i?O.access(n,t,i):(n.removeEventListener(e,r,!0),O.remove(n,t))}}}),n.fn.extend({on:function(e,t,r,i,s){var o,u;if("object"==typeof e){"string"!=typeof t&&(r=r||t,t=void 0);for(u in e)this.on(u,t,r,e[u],s);return this}if(null==r&&null==i?(i=t,r=t=void 0):null==i&&("string"==typeof t?(i=r,r=void 0):(i=r,r=t,t=void 0)),i===!1)i=_;else if(!i)return this;return 1===s&&(o=i,i=function(e){return n().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=n.guid++)),this.each(function(){n.event.add(this,e,i,r,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,n(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(s in e)this.off(s,t,e[s]);return this}return(t===!1||"function"==typeof t)&&(r=t,t=void 0),r===!1&&(r=_),this.each(function(){n.event.remove(this,e,r,t)})},trigger:function(e,t){return this.each(function(){n.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];return r?n.event.trigger(e,t,r,!0):void 0}});var bb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,cb=/<([\w:]+)/,db=/<|&#?\w+;/,eb=/<(?:script|style|link)/i,fb=/checked\s*(?:[^=]|=\s*.checked.)/i,gb=/^$|\/(?:java|ecma)script/i,hb=/^true\/(.*)/,ib=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,jb={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};jb.optgroup=jb.option,jb.tbody=jb.tfoot=jb.colgroup=jb.caption=jb.thead,jb.th=jb.td,n.extend({clone:function(e,t,r){var i,s,o,u,a=e.cloneNode(!0),f=n.contains(e.ownerDocument,e);if(!(k.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||n.isXMLDoc(e)))for(u=pb(a),o=pb(e),i=0,s=o.length;s>i;i++)qb(o[i],u[i]);if(t)if(r)for(o=o||pb(e),u=u||pb(a),i=0,s=o.length;s>i;i++)ob(o[i],u[i]);else ob(e,a);return u=pb(a,"script"),u.length>0&&nb(u,!f&&pb(e,"script")),a},buildFragment:function(e,t,r,i){for(var s,o,u,a,f,l,c=t.createDocumentFragment(),h=[],p=0,d=e.length;d>p;p++)if(s=e[p],s||0===s)if("object"===n.type(s))n.merge(h,s.nodeType?[s]:s);else if(db.test(s)){o=o||c.appendChild(t.createElement("div")),u=(cb.exec(s)||["",""])[1].toLowerCase(),a=jb[u]||jb._default,o.innerHTML=a[1]+s.replace(bb,"<$1></$2>")+a[2],l=a[0];while(l--)o=o.lastChild;n.merge(h,o.childNodes),o=c.firstChild,o.textContent=""}else h.push(t.createTextNode(s));c.textContent="",p=0;while(s=h[p++])if((!i||-1===n.inArray(s,i))&&(f=n.contains(s.ownerDocument,s),o=pb(c.appendChild(s),"script"),f&&nb(o),r)){l=0;while(s=o[l++])gb.test(s.type||"")&&r.push(s)}return c},cleanData:function(e){for(var t,r,i,s,o=n.event.special,u=0;void 0!==(r=e[u]);u++){if(n.acceptData(r)&&(s=r[O.expando],s&&(t=O.cache[s]))){if(t.events)for(i in t.events)o[i]?n.event.remove(r,i):n.removeEvent(r,i,t.handle);O.cache[s]&&delete O.cache[s]}delete P.cache[r[P.expando]]}}}),n.fn.extend({text:function(e){return M(this,function(e){return void 0===e?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=kb(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=kb(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var r,i=e?n.filter(e,this):this,s=0;null!=(r=i[s]);s++)t||1!==r.nodeType||n.cleanData(pb(r)),r.parentNode&&(t&&n.contains(r.ownerDocument,r)&&nb(pb(r,"script")),r.parentNode.removeChild(r));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(n.cleanData(pb(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return n.clone(this,e,t)})},html:function(e){return M(this,function(e){var t=this[0]||{},r=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!eb.test(e)&&!jb[(cb.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(bb,"<$1></$2>");try{for(;i>r;r++)t=this[r]||{},1===t.nodeType&&(n.cleanData(pb(t,!1)),t.innerHTML=e);t=0}catch(s){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,n.cleanData(pb(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(t,r){t=e.apply([],t);var i,s,o,u,a,f,l=0,c=this.length,h=this,p=c-1,d=t[0],v=n.isFunction(d);if(v||c>1&&"string"==typeof d&&!k.checkClone&&fb.test(d))return this.each(function(e){var n=h.eq(e);v&&(t[0]=d.call(this,e,n.html())),n.domManip(t,r)});if(c&&(i=n.buildFragment(t,this[0].ownerDocument,!1,this),s=i.firstChild,1===i.childNodes.length&&(i=s),s)){for(o=n.map(pb(i,"script"),lb),u=o.length;c>l;l++)a=i,l!==p&&(a=n.clone(a,!0,!0),u&&n.merge(o,pb(a,"script"))),r.call(this[l],a,l);if(u)for(f=o[o.length-1].ownerDocument,n.map(o,mb),l=0;u>l;l++)a=o[l],gb.test(a.type||"")&&!O.access(a,"globalEval")&&n.contains(f,a)&&(a.src?n._evalUrl&&n._evalUrl(a.src):n.globalEval(a.textContent.replace(ib,"")))}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){n.fn[e]=function(e){for(var r,i=[],s=n(e),o=s.length-1,u=0;o>=u;u++)r=u===o?this:this.clone(!0),n(s[u])[t](r),f.apply(i,r.get());return this.pushStack(i)}}),n.fn.delay=function(e,t){return e=n.fx?n.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=l.createElement("input"),t=l.createElement("select"),n=t.appendChild(l.createElement("option"));e.type="checkbox",k.checkOn=""!==e.value,k.optSelected=n.selected,t.disabled=!0,k.optDisabled=!n.disabled,e=l.createElement("input"),e.value="t",e.type="radio",k.radioValue="t"===e.value}();var rb,sb,tb=n.expr.attrHandle;n.fn.extend({attr:function(e,t){return M(this,n.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){n.removeAttr(this,e)})}}),n.extend({attr:function(e,t,r){var i,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===V?n.prop(e,t,r):(1===o&&n.isXMLDoc(e)||(t=t.toLowerCase(),i=n.attrHooks[t]||(n.expr.match.bool.test(t)?sb:rb)),void 0===r?i&&"get"in i&&null!==(s=i.get(e,t))?s:(s=n.find.attr(e,t),null==s?void 0:s):null!==r?i&&"set"in i&&void 0!==(s=i.set(e,r,t))?s:(e.setAttribute(t,r+""),r):void n.removeAttr(e,t))},removeAttr:function(e,t){var r,i,s=0,o=t&&t.match(H);if(o&&1===e.nodeType)while(r=o[s++])i=n.propFix[r]||r,n.expr.match.bool.test(r)&&(e[i]=!1),e.removeAttribute(r)},attrHooks:{type:{set:function(e,t){if(!k.radioValue&&"radio"===t&&n.nodeName(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}}}),sb={set:function(e,t,r){return t===!1?n.removeAttr(e,r):e.setAttribute(r,r),r}},n.each(n.expr.match.bool.source.match(/\w+/g),function(e,t){var r=tb[t]||n.find.attr;tb[t]=function(e,t,n){var i,s;return n||(s=tb[t],tb[t]=i,i=null!=r(e,t,n)?t.toLowerCase():null,tb[t]=s),i}});var ub=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(e,t){return M(this,n.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[n.propFix[e]||e]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,r){var i,s,o,u=e.nodeType;if(e&&3!==u&&8!==u&&2!==u)return o=1!==u||!n.isXMLDoc(e),o&&(t=n.propFix[t]||t,s=n.propHooks[t]),void 0!==r?s&&"set"in s&&void 0!==(i=s.set(e,r,t))?i:e[t]=r:s&&"get"in s&&null!==(i=s.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||ub.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var vb=/[\t\r\n\f]/g;n.fn.extend({addClass:function(e){var t,r,i,s,o,u,a="string"==typeof e&&e,f=0,l=this.length;if(n.isFunction(e))return this.each(function(t){n(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(H)||[];l>f;f++)if(r=this[f],i=1===r.nodeType&&(r.className?(" "+r.className+" ").replace(vb," "):" ")){o=0;while(s=t[o++])i.indexOf(" "+s+" ")<0&&(i+=s+" ");u=n.trim(i),r.className!==u&&(r.className=u)}return this},removeClass:function(e){var t,r,i,s,o,u,a=0===arguments.length||"string"==typeof e&&e,f=0,l=this.length;if(n.isFunction(e))return this.each(function(t){n(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(H)||[];l>f;f++)if(r=this[f],i=1===r.nodeType&&(r.className?(" "+r.className+" ").replace(vb," "):"")){o=0;while(s=t[o++])while(i.indexOf(" "+s+" ")>=0)i=i.replace(" "+s+" "," ");u=e?n.trim(i):"",r.className!==u&&(r.className=u)}return this},toggleClass:function(e,t){var r=typeof e;return"boolean"==typeof t&&"string"===r?t?this.addClass(e):this.removeClass(e):this.each(n.isFunction(e)?function(r){n(this).toggleClass(e.call(this,r,this.className,t),t)}:function(){if("string"===r){var t,i=0,s=n(this),o=e.match(H)||[];while(t=o[i++])s.hasClass(t)?s.removeClass(t):s.addClass(t)}else(r===V||"boolean"===r)&&(this.className&&O.set(this,"__className__",this.className),this.className=this.className||e===!1?"":O.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(vb," ").indexOf(t)>=0)return!0;return!1}});var wb=/\r/g;n.fn.extend({val:function(e){var t,r,i,s=this[0];if(arguments.length)return i=n.isFunction(e),this.each(function(r){var s;1===this.nodeType&&(s=i?e.call(this,r,n(this).val()):e,null==s?s="":"number"==typeof s?s+="":n.isArray(s)&&(s=n.map(s,function(e){return null==e?"":e+""})),t=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,s,"value")||(this.value=s))});if(s)return t=n.valHooks[s.type]||n.valHooks[s.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(r=t.get(s,"value"))?r:(r=s.value,"string"==typeof r?r.replace(wb,""):null==r?"":r)}}),n.extend({valHooks:{option:{get:function(e){var t=n.find.attr(e,"value");return null!=t?t:n.trim(n.text(e))}},select:{get:function(e){for(var t,r,i=e.options,s=e.selectedIndex,o="select-one"===e.type||0>s,u=o?null:[],a=o?s+1:i.length,f=0>s?a:o?s:0;a>f;f++)if(r=i[f],!(!r.selected&&f!==s||(k.optDisabled?r.disabled:null!==r.getAttribute("disabled"))||r.parentNode.disabled&&n.nodeName(r.parentNode,"optgroup"))){if(t=n(r).val(),o)return t;u.push(t)}return u},set:function(e,t){var r,i,s=e.options,o=n.makeArray(t),u=s.length;while(u--)i=s[u],(i.selected=n.inArray(i.value,o)>=0)&&(r=!0);return r||(e.selectedIndex=-1),o}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(e,t){return n.isArray(t)?e.checked=n.inArray(n(e).val(),t)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){n.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),n.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var xb=n.now(),yb=/\?/;n.parseJSON=function(e){return JSON.parse(e+"")},n.parseXML=function(e){var t,r;if(!e||"string"!=typeof e)return null;try{r=new DOMParser,t=r.parseFromString(e,"text/xml")}catch(i){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+e),t};var zb,Ab,Bb=/#.*$/,Cb=/([?&])_=[^&]*/,Db=/^(.*?):[ \t]*([^\r\n]*)$/gm,Eb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Fb=/^(?:GET|HEAD)$/,Gb=/^\/\//,Hb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ib={},Jb={},Kb="*/".concat("*");try{Ab=location.href}catch(Lb){Ab=l.createElement("a"),Ab.href="",Ab=Ab.href}zb=Hb.exec(Ab.toLowerCase())||[],n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ab,type:"GET",isLocal:Eb.test(zb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ob(Ob(e,n.ajaxSettings),t):Ob(n.ajaxSettings,e)},ajaxPrefilter:Mb(Ib),ajaxTransport:Mb(Jb),ajax:function(e,t){function x(e,t,o,a){var l,g,y,w,S,x=t;2!==b&&(b=2,u&&clearTimeout(u),r=void 0,s=a||"",E.readyState=e>0?4:0,l=e>=200&&300>e||304===e,o&&(w=Pb(c,E,o)),w=Qb(c,w,E,l),l?(c.ifModified&&(S=E.getResponseHeader("Last-Modified"),S&&(n.lastModified[i]=S),S=E.getResponseHeader("etag"),S&&(n.etag[i]=S)),204===e||"HEAD"===c.type?x="nocontent":304===e?x="notmodified":(x=w.state,g=w.data,y=w.error,l=!y)):(y=x,(e||!x)&&(x="error",0>e&&(e=0))),E.status=e,E.statusText=(t||x)+"",l?d.resolveWith(h,[g,x,E]):d.rejectWith(h,[E,x,y]),E.statusCode(m),m=void 0,f&&p.trigger(l?"ajaxSuccess":"ajaxError",[E,c,l?g:y]),v.fireWith(h,[E,x]),f&&(p.trigger("ajaxComplete",[E,c]),--n.active||n.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,s,o,u,a,f,l,c=n.ajaxSetup({},t),h=c.context||c,p=c.context&&(h.nodeType||h.jquery)?n(h):n.event,d=n.Deferred(),v=n.Callbacks("once memory"),m=c.statusCode||{},g={},y={},b=0,w="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!o){o={};while(t=Db.exec(s))o[t[1].toLowerCase()]=t[2]}t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,g[e]=t),this},overrideMimeType:function(e){return b||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else E.always(e[E.status]);return this},abort:function(e){var t=e||w;return r&&r.abort(t),x(0,t),this}};if(d.promise(E).complete=v.add,E.success=E.done,E.error=E.fail,c.url=((e||c.url||Ab)+"").replace(Bb,"").replace(Gb,zb[1]+"//"),c.type=t.method||t.type||c.method||c.type,c.dataTypes=n.trim(c.dataType||"*").toLowerCase().match(H)||[""],null==c.crossDomain&&(a=Hb.exec(c.url.toLowerCase()),c.crossDomain=!(!a||a[1]===zb[1]&&a[2]===zb[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(zb[3]||("http:"===zb[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=n.param(c.data,c.traditional)),Nb(Ib,c,t,E),2===b)return E;f=c.global,f&&0===n.active++&&n.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!Fb.test(c.type),i=c.url,c.hasContent||(c.data&&(i=c.url+=(yb.test(i)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=Cb.test(i)?i.replace(Cb,"$1_="+xb++):i+(yb.test(i)?"&":"?")+"_="+xb++)),c.ifModified&&(n.lastModified[i]&&E.setRequestHeader("If-Modified-Since",n.lastModified[i]),n.etag[i]&&E.setRequestHeader("If-None-Match",n.etag[i])),(c.data&&c.hasContent&&c.contentType!==!1||t.contentType)&&E.setRequestHeader("Content-Type",c.contentType),E.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+Kb+"; q=0.01":""):c.accepts["*"]);for(l in c.headers)E.setRequestHeader(l,c.headers[l]);if(!c.beforeSend||c.beforeSend.call(h,E,c)!==!1&&2!==b){w="abort";for(l in{success:1,error:1,complete:1})E[l](c[l]);if(r=Nb(Jb,c,t,E)){E.readyState=1,f&&p.trigger("ajaxSend",[E,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){E.abort("timeout")},c.timeout));try{b=1,r.send(g,x)}catch(S){if(!(2>b))throw S;x(-1,S)}}else x(-1,"No Transport");return E}return E.abort()},getJSON:function(e,t,r){return n.get(e,t,r,"json")},getScript:function(e,t){return n.get(e,void 0,t,"script")}}),n.each(["get","post"],function(e,t){n[t]=function(e,r,i,s){return n.isFunction(r)&&(s=s||i,i=r,r=void 0),n.ajax({url:e,type:t,dataType:s,data:r,success:i})}}),n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){n.fn[t]=function(e){return this.on(t,e)}}),n._evalUrl=function(e){return n.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};var Rb=/%20/g,Sb=/\[\]$/,Tb=/\r?\n/g,Ub=/^(?:submit|button|image|reset|file)$/i,Vb=/^(?:input|select|textarea|keygen)/i;n.param=function(e,t){var r,i=[],s=function(e,t){t=n.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(e)||e.jquery&&!n.isPlainObject(e))n.each(e,function(){s(this.name,this.value)});else for(r in e)Wb(r,e[r],t,s);return i.join("&").replace(Rb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=n.prop(this,"elements");return e?n.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!n(this).is(":disabled")&&Vb.test(this.nodeName)&&!Ub.test(e)&&(this.checked||!U.test(e))}).map(function(e,t){var r=n(this).val();return null==r?null:n.isArray(r)?n.map(r,function(e){return{name:t.name,value:e.replace(Tb,"\r\n")}}):{name:t.name,value:r.replace(Tb,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Xb=0,Yb={},Zb={0:200,1223:204},$b=n.ajaxSettings.xhr();a.ActiveXObject&&n(a).on("unload",function(){for(var e in Yb)Yb[e]()}),k.cors=!!$b&&"withCredentials"in $b,k.ajax=$b=!!$b,n.ajaxTransport(function(e){var t;return k.cors||$b&&!e.crossDomain?{send:function(n,r){var i,s=e.xhr(),o=++Xb;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)s.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete Yb[o],t=s.onload=s.onerror=null,"abort"===e?s.abort():"error"===e?r(s.status,s.statusText):r(Zb[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:void 0,s.getAllResponseHeaders()))}},s.onload=t(),s.onerror=t("error"),t=Yb[o]=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(u){if(t)throw u}},abort:function(){t&&t()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return n.globalEval(e),e}}}),n.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),n.ajaxTransport("script",function(e){if(e.crossDomain){var t,r;return{send:function(i,s){t=n("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&s("error"===e.type?404:200,e.type)}),l.head.appendChild(t[0])},abort:function(){r&&r()}}}});var _b=[],ac=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=_b.pop()||n.expando+"_"+xb++;return this[e]=!0,e}}),n.ajaxPrefilter("json jsonp",function(e,t,r){var i,s,o,u=e.jsonp!==!1&&(ac.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&ac.test(e.data)&&"data");return u||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=n.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,u?e[u]=e[u].replace(ac,"$1"+i):e.jsonp!==!1&&(e.url+=(yb.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return o||n.error(i+" was not called"),o[0]},e.dataTypes[0]="json",s=a[i],a[i]=function(){o=arguments},r.always(function(){a[i]=s,e[i]&&(e.jsonpCallback=t.jsonpCallback,_b.push(i)),o&&n.isFunction(s)&&s(o[0]),o=s=void 0}),"script"):void 0}),n.parseHTML=function(e,t,r){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(r=t,t=!1),t=t||l;var i=y.exec(e),s=!r&&[];return i?[t.createElement(i[1])]:(i=n.buildFragment([e],t,s),s&&s.length&&n(s).remove(),n.merge([],i.childNodes))};var bc=n.fn.load;n.fn.load=function(e,t,r){if("string"!=typeof e&&bc)return bc.apply(this,arguments);var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=n.trim(e.slice(a)),e=e.slice(0,a)),n.isFunction(t)?(r=t,t=void 0):t&&"object"==typeof t&&(s="POST"),u.length>0&&n.ajax({url:e,type:s,dataType:"html",data:t}).done(function(e){o=arguments,u.html(i?n("<div>").append(n.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){u.each(r,o||[e.responseText,t,e])}),this},"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var cc=a.jQuery,dc=a.$;return n.noConflict=function(e){return a.$===n&&(a.$=dc),e&&a.jQuery===n&&(a.jQuery=cc),n},typeof b===V&&(a.jQuery=a.$=n),n}),function(e){var t=typeof self=="object"&&self.self==self&&self||typeof global=="object"&&global.global==global&&global;if(typeof define=="function"&&define.amd)define("backbone",["underscore","jquery","exports"],function(n,r,i){t.Backbone=e(t,i,n,r)});else if(typeof exports!="undefined"){var n=require("underscore"),r;try{r=require("jquery")}catch(i){}e(t,exports,n,r)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(function(e,t,n,r){var i=e.Backbone,s=Array.prototype.slice;t.VERSION="1.2.3",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var o=function(e,t,r){switch(e){case 1:return function(){return n[t](this[r])};case 2:return function(e){return n[t](this[r],e)};case 3:return function(e,i){return n[t](this[r],a(e,this),i)};case 4:return function(e,i,s){return n[t](this[r],a(e,this),i,s)};default:return function(){var e=s.call(arguments);return e.unshift(this[r]),n[t].apply(n,e)}}},u=function(e,t,r){n.each(t,function(t,i){n[i]&&(e.prototype[i]=o(t,i,r))})},a=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?f(e):n.isString(e)?function(t){return t.get(e)}:e},f=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}},l=t.Events={},c=/\s+/,h=function(e,t,r,i,s){var o=0,u;if(r&&typeof r=="object"){i!==void 0&&"context"in s&&s.context===void 0&&(s.context=i);for(u=n.keys(r);o<u.length;o++)t=h(e,t,u[o],r[u[o]],s)}else if(r&&c.test(r))for(u=r.split(c);o<u.length;o++)t=e(t,u[o],i,s);else t=e(t,r,i,s);return t};l.on=function(e,t,n){return p(this,e,t,n)};var p=function(e,t,n,r,i){e._events=h(d,e._events||{},t,n,{context:r,ctx:e,listening:i});if(i){var s=e._listeners||(e._listeners={});s[i.id]=i}return e};l.listenTo=function(e,t,r){if(!e)return this;var i=e._listenId||(e._listenId=n.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),o=s[i];if(!o){var u=this._listenId||(this._listenId=n.uniqueId("l"));o=s[i]={obj:e,objId:i,id:u,listeningTo:s,count:0}}return p(e,t,r,this,o),this};var d=function(e,t,n,r){if(n){var i=e[t]||(e[t]=[]),s=r.context,o=r.ctx,u=r.listening;u&&u.count++,i.push({callback:n,context:s,ctx:s||o,listening:u})}return e};l.off=function(e,t,n){return this._events?(this._events=h(v,this._events,e,t,{context:n,listeners:this._listeners}),this):this},l.stopListening=function(e,t,r){var i=this._listeningTo;if(!i)return this;var s=e?[e._listenId]:n.keys(i);for(var o=0;o<s.length;o++){var u=i[s[o]];if(!u)break;u.obj.off(t,r,this)}return n.isEmpty(i)&&(this._listeningTo=void 0),this};var v=function(e,t,r,i){if(!e)return;var s=0,o,u=i.context,a=i.listeners;if(!t&&!r&&!u){var f=n.keys(a);for(;s<f.length;s++)o=a[f[s]],delete a[o.id],delete o.listeningTo[o.objId];return}var l=t?[t]:n.keys(e);for(;s<l.length;s++){t=l[s];var c=e[t];if(!c)break;var h=[];for(var p=0;p<c.length;p++){var d=c[p];r&&r!==d.callback&&r!==d.callback._callback||u&&u!==d.context?h.push(d):(o=d.listening,o&&--o.count===0&&(delete a[o.id],delete o.listeningTo[o.objId]))}h.length?e[t]=h:delete e[t]}if(n.size(e))return e};l.once=function(e,t,r){var i=h(m,{},e,t,n.bind(this.off,this));return this.on(i,void 0,r)},l.listenToOnce=function(e,t,r){var i=h(m,{},t,r,n.bind(this.stopListening,this,e));return this.listenTo(e,i)};var m=function(e,t,r,i){if(r){var s=e[t]=n.once(function(){i(t,s),r.apply(this,arguments)});s._callback=r}return e};l.trigger=function(e){if(!this._events)return this;var t=Math.max(0,arguments.length-1),n=Array(t);for(var r=0;r<t;r++)n[r]=arguments[r+1];return h(g,this._events,e,void 0,n),this};var g=function(e,t,n,r){if(e){var i=e[t],s=e.all;i&&s&&(s=s.slice()),i&&y(i,r),s&&y(s,[t].concat(r))}return e},y=function(e,t){var n,r=-1,i=e.length,s=t[0],o=t[1],u=t[2];switch(t.length){case 0:while(++r<i)(n=e[r]).callback.call(n.ctx);return;case 1:while(++r<i)(n=e[r]).callback.call(n.ctx,s);return;case 2:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o);return;case 3:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o,u);return;default:while(++r<i)(n=e[r]).callback.apply(n.ctx,t);return}};l.bind=l.on,l.unbind=l.off,n.extend(t,l);var b=t.Model=function(e,t){var r=e||{};t||(t={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(b.prototype,l,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return this.get(e)!=null},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,r){if(e==null)return this;var i;typeof e=="object"?(i=e,r=t):(i={})[e]=t,r||(r={});if(!this._validate(i,r))return!1;var s=r.unset,o=r.silent,u=[],a=this._changing;this._changing=!0,a||(this._previousAttributes=n.clone(this.attributes),this.changed={});var f=this.attributes,l=this.changed,c=this._previousAttributes;for(var h in i)t=i[h],n.isEqual(f[h],t)||u.push(h),n.isEqual(c[h],t)?delete l[h]:l[h]=t,s?delete f[h]:f[h]=t;this.id=this.get(this.idAttribute);if(!o){u.length&&(this._pending=r);for(var p=0;p<u.length;p++)this.trigger("change:"+u[p],this,f[u[p]],r)}if(a)return this;if(!o)while(this._pending)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return e==null?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t=this._changing?this._previousAttributes:this.attributes,r={};for(var i in e){var s=e[i];if(n.isEqual(t[i],s))continue;r[i]=s}return n.size(r)?r:!1},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,r=e.success;return e.success=function(n){var i=e.parse?t.parse(n,e):n;if(!t.set(i,e))return!1;r&&r.call(e.context,t,n,e),t.trigger("sync",t,n,e)},R(this,e),this.sync("read",this,e)},save:function(e,t,r){var i;e==null||typeof e=="object"?(i=e,r=t):(i={})[e]=t,r=n.extend({validate:!0,parse:!0},r);var s=r.wait;if(i&&!s){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var o=this,u=r.success,a=this.attributes;r.success=function(e){o.attributes=a;var t=r.parse?o.parse(e,r):e;s&&(t=n.extend({},i,t));if(t&&!o.set(t,r))return!1;u&&u.call(r.context,o,e,r),o.trigger("sync",o,e,r)},R(this,r),i&&s&&(this.attributes=n.extend({},a,i));var f=this.isNew()?"create":r.patch?"patch":"update";f==="patch"&&!r.attrs&&(r.attrs=i);var l=this.sync(f,this,r);return this.attributes=a,l},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=e.wait,s=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){i&&s(),r&&r.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var o=!1;return this.isNew()?n.defer(e.success):(R(this,e),o=this.sync("delete",this,e)),i||s(),o},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||q();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.defaults({validate:!0},e))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return r?(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1):!0}});var w={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};u(b,w,"attributes");var E=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},S={add:!0,remove:!0,merge:!0},x={add:!0,remove:!1},T=function(e,t,n){n=Math.min(Math.max(n,0),e.length);var r=Array(e.length-n),i=t.length;for(var s=0;s<r.length;s++)r[s]=e[s+n];for(s=0;s<i;s++)e[s+n]=t[s];for(s=0;s<r.length;s++)e[s+i+n]=r[s]};n.extend(E.prototype,l,{model:b,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,x))},remove:function(e,t){t=n.extend({},t);var r=!n.isArray(e);e=r?[e]:n.clone(e);var i=this._removeModels(e,t);return!t.silent&&i&&this.trigger("update",this,t),r?i[0]:i},set:function(e,t){if(e==null)return;t=n.defaults({},t,S),t.parse&&!this._isModel(e)&&(e=this.parse(e,t));var r=!n.isArray(e);e=r?[e]:e.slice();var i=t.at;i!=null&&(i=+i),i<0&&(i+=this.length+1);var s=[],o=[],u=[],a={},f=t.add,l=t.merge,c=t.remove,h=!1,p=this.comparator&&i==null&&t.sort!==!1,d=n.isString(this.comparator)?this.comparator:null,v;for(var m=0;m<e.length;m++){v=e[m];var g=this.get(v);if(g){if(l&&v!==g){var y=this._isModel(v)?v.attributes:v;t.parse&&(y=g.parse(y,t)),g.set(y,t),p&&!h&&(h=g.hasChanged(d))}a[g.cid]||(a[g.cid]=!0,s.push(g)),e[m]=g}else f&&(v=e[m]=this._prepareModel(v,t),v&&(o.push(v),this._addReference(v,t),a[v.cid]=!0,s.push(v)))}if(c){for(m=0;m<this.length;m++)v=this.models[m],a[v.cid]||u.push(v);u.length&&this._removeModels(u,t)}var b=!1,w=!p&&f&&c;s.length&&w?(b=this.length!=s.length||n.some(this.models,function(e,t){return e!==s[t]}),this.models.length=0,T(this.models,s,0),this.length=this.models.length):o.length&&(p&&(h=!0),T(this.models,o,i==null?this.length:i),this.length=this.models.length),h&&this.sort({silent:!0});if(!t.silent){for(m=0;m<o.length;m++)i!=null&&(t.index=i+m),v=o[m],v.trigger("add",v,this,t);(h||b)&&this.trigger("sort",this,t),(o.length||u.length)&&this.trigger("update",this,t)}return r?e[0]:e},reset:function(e,t){t=t?n.clone(t):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return s.apply(this.models,arguments)},get:function(e){if(e==null)return void 0;var t=this.modelId(this._isModel(e)?e.attributes:e);return this._byId[e]||this._byId[t]||this._byId[e.cid]},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var r=t.length;return n.isFunction(t)&&(t=n.bind(t,this)),r===1||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=n.extend({parse:!0},e);var t=e.success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t.call(e.context,r,n,e),r.trigger("sync",r,n,e)},R(this,e),this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};var r=t.wait;e=this._prepareModel(e,t);if(!e)return!1;r||this.add(e,t);var i=this,s=t.success;return t.success=function(e,t,n){r&&i.add(e,n),s&&s.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;t=t?n.clone(t):{},t.collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_removeModels:function(e,t){var n=[];for(var r=0;r<e.length;r++){var i=this.get(e[r]);if(!i)continue;var s=this.indexOf(i);this.models.splice(s,1),this.length--,t.silent||(t.index=s,i.trigger("remove",i,this,t)),n.push(i),this._removeReference(i,t)}return n.length?n:!1},_isModel:function(e){return e instanceof b},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);n!=null&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);n!=null&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e==="add"||e==="remove")&&n!==this)return;e==="destroy"&&this.remove(t,r);if(e==="change"){var i=this.modelId(t.previousAttributes()),s=this.modelId(t.attributes);i!==s&&(i!=null&&delete this._byId[i],s!=null&&(this._byId[s]=t))}this.trigger.apply(this,arguments)}});var N={forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3};u(E,N,"models");var C=t.View=function(e){this.cid=n.uniqueId("view"),n.extend(this,n.pick(e,L)),this._ensureElement(),this.initialize.apply(this,arguments)},k=/^(\S+)\s*(.*)$/,L=["model","collection","el","id","attributes","className","tagName","events"];n.extend(C.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){e||(e=n.result(this,"events"));if(!e)return this;this.undelegateEvents();for(var t in e){var r=e[t];n.isFunction(r)||(r=this[r]);if(!r)continue;var i=t.match(k);this.delegate(i[1],i[2],n.bind(r,this))}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(!this.el){var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}else this.setElement(n.result(this,"el"))},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,r,i){var s=A[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:s,dataType:"json"};i.url||(o.url=n.result(r,"url")||q()),i.data==null&&r&&(e==="create"||e==="update"||e==="patch")&&(o.contentType="application/json",o.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{});if(i.emulateHTTP&&(s==="PUT"||s==="DELETE"||s==="PATCH")){o.type="POST",i.emulateJSON&&(o.data._method=s);var u=i.beforeSend;i.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",s);if(u)return u.apply(this,arguments)}}o.type!=="GET"&&!i.emulateJSON&&(o.processData=!1);var a=i.error;i.error=function(e,t,n){i.textStatus=t,i.errorThrown=n,a&&a.call(i.context,e,t,n)};var f=i.xhr=t.ajax(n.extend(o,i));return r.trigger("request",r,f,i),f};var A={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var O=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},M=/\((.*?)\)/g,_=/(\(\?)?:\w+/g,D=/\*\w+/g,P=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(O.prototype,l,{initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var s=this;return t.history.route(e,function(n){var o=s._extractParameters(e,n);s.execute(i,o,r)!==!1&&(s.trigger.apply(s,["route:"+r].concat(o)),s.trigger("route",r,o),t.history.trigger("route",s,r,o))}),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(!this.routes)return;this.routes=n.result(this,"routes");var e,t=n.keys(this.routes);while((e=t.pop())!=null)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(P,"\\$&").replace(M,"(?:$1)?").replace(_,function(e,t){return t?e:"([^/?]+)"}).replace(D,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null})}});var H=t.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},B=/^[#\/]|\s+$/g,j=/^\/+|\/+$/g,F=/#.*$/;H.started=!1,n.extend(H.prototype,l,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.getSearch()},matchRoot:function(){var e=this.decodeFragment(this.location.pathname),t=e.slice(0,this.root.length-1)+"/";return t===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return e.charAt(0)==="/"?e.slice(1):e},getFragment:function(e){return e==null&&(this._usePushState||!this._wantsHashChange?e=this.getPath():e=this.getHash()),e.replace(B,"")},start:function(e){if(H.started)throw new Error("Backbone.history has already been started");H.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!this.history&&!!this.history.pushState,this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(j,"/");if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var s=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};this._usePushState?s("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?s("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));if(!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),H.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow));if(t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return this.matchRoot()?(e=this.fragment=this.getFragment(e),n.some(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0})):!1},navigate:function(e,t){if(!H.started)return!1;if(!t||t===!0)t={trigger:!!t};e=this.getFragment(e||"");var n=this.root;if(e===""||e.charAt(0)==="?")n=n.slice(0,-1)||"/";var r=n+e;e=this.decodeFragment(e.replace(F,""));if(this.fragment===e)return;this.fragment=e;if(this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);this._updateHash(this.location,e,t.replace);if(this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;t.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,e,t.replace)}}if(t.trigger)return this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new H;var I=function(e,t){var r=this,i;e&&n.has(e,"constructor")?i=e.constructor:i=function(){return r.apply(this,arguments)},n.extend(i,r,t);var s=function(){this.constructor=i};return s.prototype=r.prototype,i.prototype=new s,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};b.extend=E.extend=O.extend=C.extend=H.extend=I;var q=function(){throw new Error('A "url" property or function must be specified')},R=function(e,t){var n=t.error;t.error=function(r){n&&n.call(t.context,e,r,t),e.trigger("error",e,r,t)}};return t}),function(e,t){if(typeof define=="function"&&define.amd)define("superhero",["backbone","underscore"],function(n,r){return e.Superhero=t(e,n,r)});else if(typeof exports!="undefined"){var n=require("backbone"),r=require("underscore");module.exports=t(e,n,r)}else e.Superhero=t(e,e.Backbone,e._)}(this,function(e,t,n){"use strict";var r={};r.Events=t.Events,r.ajax=t.ajax;var i=function(e,t){var r=(":"+e).replace(/:([a-z])/g,function(e){return e[1].toUpperCase()}),i="on"+r;n.isFunction(this[i])&&this[i](),this.trigger(e,t)};r.createNameSpace=function(e){var t=e.split("."),n=window;for(var r=0,i=t.length;r<i;r++)n=n[t[r]]=n[t[r]]||{};return n},r.Module=function(e){this.options=e||{},n.isFunction(this.initialize)&&this.initialize(this.options)},r.Module.extend=t.View.extend,r.Module.prototype._triggerCallback=i,n.extend(r.Module.prototype,r.Events,{close:function(){this._triggerCallback("close"),this.stopListening(),this.off()}}),r.Router=t.Router.extend({execute:function(e,n){this.trigger("before:route"),this._previousFragment=this._fragment,this._fragment=t.history.getFragment(),t.Router.prototype.execute.apply(this,arguments)},getTransitionData:function(){return{fragment:this._fragment,previousFragment:this._previousFragment}}}),r.history=t.history;var s="state:default",o="state:initialized",u="state:closed",a="state:removed";r.BaseView=t.View.extend({useNative:!0,constructor:function(){this._currentState=s,t.View.apply(this,arguments),n.bindAll(this,"_triggerCallback","_resumeInitializationQueue"),this._appendToInitializationQueue("_initializeUI"),this._resumeInitializationQueue()},setState:function(e){this._currentState=e},getState:function(){return this._currentState},hasState:function(e){return this._currentState===e},enforceState:function(e){var t=Array.prototype.slice.call(arguments);if(t.indexOf(this._currentState)===-1)throw new Error("Superhero.View cannot not change state from "+this._currentState)},close:function(){this.enforceState(o,s),this._triggerCallback("close"),this._disposeUI(),this.undelegateEvents(),this.stopListening(),this.off(),this.el=null,this.$el=null,this.setState(u)},remove:function(){this.enforceState(o,u);var e=this.el;return this.hasState(o)&&this.close(),this._triggerCallback("before:remove"),e.parentNode&&e.parentNode.removeChild(e),this._triggerCallback("remove"),this.setState(a),this},_appendToInitializationQueue:function(e,t){this._initializationQueue=this._initializationQueue||[],!t&&t!==0&&(t=this._initializationQueue.length),this._initializationQueue.splice(t,0,{status:"new",methodName:e})},_setInitializationComplete:function(e){if(!this.hasState(s))return;for(var t=0,n=this._initializationQueue.length;t<n;t++)this._initializationQueue[t].methodName===e&&(this._initializationQueue[t].status="completed");this._resumeInitializationQueue()},_resumeInitializationQueue:function(){if(!this.hasState(s))return;for(var e=0,t=this._initializationQueue.length;e<t;e++){var n=this._initializationQueue[e];if(n.status==="new"){var r=this[n.methodName].call(this);n.status="running",r&&this._setInitializationComplete(n.methodName);return}if(n.status==="running")return}this.setState(o),this._triggerCallback("initialized")},_initializeUI:function(){this._uiBindings=n.clone(this.ui),this.ui={};for(var e in this._uiBindings)if(this._uiBindings.hasOwnProperty(e)){var t=this.el.querySelectorAll(this._uiBindings[e]);this.ui[e]=t.length<=1?t[0]:t}return!0},_disposeUI:function(){for(var e in this.ui)this.ui.hasOwnProperty(e)&&(this.ui[e]=null);this.ui=this._uiBindings,delete this._uiBindings},_triggerCallback:i}),r.Component=r.BaseView.extend({}),r.View=r.BaseView.extend({constructor:function(){var e=arguments[0]||{};e.template&&(this.template=e.template),e.templateData&&(this.templateData=e.templateData),this.template&&this._appendToInitializationQueue("_initializeTemplate",0),e.region&&(this.region=e.region,this._appendToInitializationQueue("_waitOnAddedToRegion")),this._appendToInitializationQueue("_initializeComponents"),r.BaseView.apply(this,arguments)},close:function(){r.BaseView.prototype.close.apply(this,arguments),this._disposeComponents(),this.region=null},updateTemplate:function(e){this._renderTemplate(e)},_initializeTemplate:function(){if(this.template){if(r.TemplateCache.has(this.template))return this._renderTemplate(),!0;var e=this.template;this.listenTo(r.TemplateCache,"template:retrieved",function(t){t.id===e&&(this._renderTemplate(),this._setInitializationComplete("_initializeTemplate"),this.stopListening(r.TemplateCache,"template:retrieved"))}),r.TemplateCache._retrieveTemplate(this.template)}return!1},_renderTemplate:function(e){this._triggerCallback("before:template:rendered");var t=n.extend({},e,this.model,this.templateData);n.isFunction(t.toJSON)&&(t=t.toJSON()),this.el.innerHTML=r.TemplateCache.get(this.template)(t),this._triggerCallback("template:rendered")},_waitOnAddedToRegion:function(){return!1},_addedToRegion:function(){this._setInitializationComplete("_waitOnAddedToRegion"),this._triggerCallback("view:added")},addComponent:function(e,t,r,i){var s=r;n.isString(r)&&(s=this.el.querySelector(r)),i=i||{},i.el=s;var o=new t(i);return this._createdComponentModules.push(o),n.isArray(this.components[e])?this.components[e].push(o):this.components[e]=o,o},_initializeComponents:function(){this._componentBindings=n.clone(this.components),this.components={},this._createdComponentModules=[];for(var e in this._componentBindings)if(this._componentBindings.hasOwnProperty(e)){var t=this._componentBindings[e],r=this.el.querySelectorAll(t.selector);if(r.length===1)this.addComponent(e,t.module||t.type,r[0],t.options);else{this.components[e]=[];for(var i=0,s=r.length;i<s;i++)this.addComponent(e,t.module||t.type,r[i],t.options)}}return!0},_disposeComponents:function(){if(!this._createdComponentModules)return;for(var e=0,t=this._createdComponentModules.length;e<t;e++){var n=this._createdComponentModules[e];n.hasState(o)&&n.close()}this.components=this._componentBindings,delete this._createdComponentModules,delete this._componentBindings}}),r.LayoutView=r.View.extend({constructor:function(){this._appendToInitializationQueue("_initializeRegions"),r.View.apply(this,arguments)},close:function(){r.View.prototype.close.apply(this,arguments),this._disposeRegions()},_initializeRegions:function(){for(var e in this.regions)this.regions.hasOwnProperty(e)&&r.RegionManager.addRegion(e,this.el.querySelector(this.regions[e]));return!0},_disposeRegions:function(){for(var e in this.regions)this.regions.hasOwnProperty(e)&&r.RegionManager.removeRegion(e)}}),r.Collection=t.Collection.extend({}),r.Model=t.Model.extend({parse:function(e){for(var n in this.model)if(this.model.hasOwnProperty(n)){var r=this.model[n],i=e[n];e[n]=new r(i,{parse:!0}),e[n]instanceof t.Model?e[n].urlRoot=this.url()+"/"+n:e[n].url=this.url()+"/"+n}return e},isValid:function(e,t){var r={};r[e]=t;var i=this._executeValidation(r);return n.isEmpty(i)},validate:function(e){var t=this._executeValidation(e);if(!n.isEmpty(t))return t;this.validationError={},this.trigger("valid",this)},_executeValidation:function(e){var t={};for(var r in e){if(!this.validation||!this.validation[r])continue;var i=this.validation[r];n.isFunction(i)&&i(r,e[r])===!1&&(t[r]="invalid"),n.isRegExp(i)&&(i.lastIndex=0,i.test(e[r])===!1&&(t[r]="invalid"))}return t}});var f=r.Module.extend({_registeredRegions:{},addRegions:function(e){for(var t in e)e.hasOwnProperty(t)&&this.addRegion(t,e[t])},addRegion:function(e,t){this._registeredRegions[e]=new r.Region({name:e,el:t})},removeRegion:function(e){var t=this._registeredRegions[e];t.close(),delete this._registeredRegions[e]},get:function(e){return this._registeredRegions[e]}});r.RegionManager=new f,r.Region=r.Module.extend({initialize:function(e){this.name=e.name,this.el=e.el,this._activeViewClass=null,this._activeView=null,this._allowSameView=!1},show:function(e,t,n){if(e!==this._activeViewClass||this._allowSameView)t=t||{},t.region=this,this._transitionData=n,this._pendingView=new e(t),this._needsTransition=this._activeView&&this._activeView!==null||!1,this._needsTransition&&this._detachView(this._activeView),this._triggerCallback("before:view:added",e),this._activeView=this._pendingView,this._activeViewClass=e,this._attachView(this._activeView),this._pendingView=null,this._allowSameView=!1;return this._activeView},allowSameView:function(){this._allowSameView=!0},clear:function(e){this._transitionData=e,this._activeView&&this._detachView(this._activeView,!0)},close:function(){if(!this._activeView)return;this._activeView.remove(),this._activeView=null,this._activeViewClass=null,this.name=null,this.el=null},_attachView:function(e){var t=e.render().el;this._activeView=e,this.el.insertBefore(t,this.el.firstChild),e._addedToRegion(),this._triggerImmediateTransitionIn(e),this._needsTransition||this._triggerTransitionIn(e),this._triggerCallback("view:added")},_detachView:function(e,t){this._activeView=null,this._activeViewClass=null,this._triggerTransitionOut(e,t)},_removeView:function(e,t){e.remove(),this._triggerCallback("view:removed");var n=this._activeView||this._pendingView;!t&&n&&this._triggerTransitionIn(n)},_triggerImmediateTransitionIn:function(e){if(n.isFunction(e.immediateTransitionIn)){if(e.hasState(o))return e.immediateTransitionIn(this._transitionData);this.listenToOnce(e,"initialized",function(){e.immediateTransitionIn(this._transitionData)})}},_triggerTransitionIn:function(e){if(n.isFunction(e.transitionIn)){if(e.hasState(o))return e.transitionIn(this._transitionData);this.listenToOnce(e,"initialized",function(){e.transitionIn(this._transitionData)})}},_triggerTransitionOut:function(e,t){n.isFunction(e.transitionOut)?e.transitionOut(function(){this._removeView(e,t)}.bind(this),this._transitionData):this._removeView(e,t)},_triggerCallback:i});var l=r.Module.extend({_basePath:"/",_templateCache:{},initialize:function(){this._initializeTemplates()},has:function(e){return this._templateCache[e]!==undefined},get:function(e){return this._templateCache[e]},set:function(e,t){this._compileTemplate(e,t)},setBasePath:function(e){this._basePath=e},retrieveTemplate:function(e){this._retrieveTemplate(e)},remove:function(e){this._templateCache[e]=null,delete this._templateCache[e]},_initializeTemplates:function(){var e=document.querySelectorAll('[type="text/template"]');for(var t=0,n=e.length;t<n;t++){var r=e[t],i=r.textContent,s=r.id;r.parentNode.removeChild(r),this._compileTemplate(s,i)}},_retrieveTemplate:function(e,n){var r={url:this._basePath+e,success:function(t){this._compileTemplate(e,t),n&&n.apply(),this._triggerCallback("template:retrieved",{id:e})}.bind(this)};t.ajax(r)},_compileTemplate:function(e,t){this._templateCache[e]=n.template(t)},_triggerCallback:i});return r.TemplateCache=new l,r});var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,n){var r=function(e){var t,n=[],r=e.length;for(t=0;t!==r;n.push(e[t++]));return n},i=function(e,t,n){var r,i,s=e.cycle;for(r in s)i=s[r],e[r]="function"==typeof i?i.call(t[n],n):i[n%i.length];delete e.cycle},s=function(e,t,r){n.call(this,e,t,r),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=s.prototype.render},o=1e-10,u=n._internals,a=u.isSelector,f=u.isArray,l=s.prototype=n.to({},.1,{}),c=[];s.version="1.18.0",l.constructor=s,l.kill()._gc=!1,s.killTweensOf=s.killDelayedCallsTo=n.killTweensOf,s.getTweensOf=n.getTweensOf,s.lagSmoothing=n.lagSmoothing,s.ticker=n.ticker,s.render=n.render,l.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),n.prototype.invalidate.call(this)},l.updateTo=function(e,t){var r,i=this.ratio,s=this.vars.immediateRender||e.immediateRender;t&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(r in e)this.vars[r]=e[r];if(this._initted||s)if(t)this._initted=!1,s&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&n._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var o=this._time;this.render(0,!0,!1),this._initted=!1,this.render(o,!0,!1)}else if(this._time>0||s){this._initted=!1,this._init();for(var u,a=1/(1-i),f=this._firstPT;f;)u=f.s+f.c,f.c*=a,f.s=u-f.c,f=f._next}return this},l.render=function(e,t,n){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var r,i,s,a,f,l,c,h,p=this._dirty?this.totalDuration():this._totalDuration,d=this._time,v=this._totalTime,m=this._cycle,g=this._duration,y=this._rawPrevTime;if(e>=p?(this._totalTime=p,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=g,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(r=!0,i="onComplete",n=n||this._timeline.autoRemoveChildren),0===g&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(e=0),(0===e||0>y||y===o)&&y!==e&&(n=!0,y>o&&(i="onReverseComplete")),this._rawPrevTime=h=!t||e||y===e?e:o)):1e-7>e?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==v||0===g&&y>0)&&(i="onReverseComplete",r=this._reversed),0>e&&(this._active=!1,0===g&&(this._initted||!this.vars.lazy||n)&&(y>=0&&(n=!0),this._rawPrevTime=h=!t||e||y===e?e:o)),this._initted||(n=!0)):(this._totalTime=this._time=e,0!==this._repeat&&(a=g+this._repeatDelay,this._cycle=this._totalTime/a>>0,0!==this._cycle&&this._cycle===this._totalTime/a&&this._cycle--,this._time=this._totalTime-this._cycle*a,this._yoyo&&0!==(1&this._cycle)&&(this._time=g-this._time),this._time>g?this._time=g:0>this._time&&(this._time=0)),this._easeType?(f=this._time/g,l=this._easeType,c=this._easePower,(1===l||3===l&&f>=.5)&&(f=1-f),3===l&&(f*=2),1===c?f*=f:2===c?f*=f*f:3===c?f*=f*f*f:4===c&&(f*=f*f*f*f),this.ratio=1===l?1-f:2===l?f:.5>this._time/g?f/2:1-f/2):this.ratio=this._ease.getRatio(this._time/g)),d===this._time&&!n&&m===this._cycle)return v!==this._totalTime&&this._onUpdate&&(t||this._callback("onUpdate")),void 0;if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=d,this._totalTime=v,this._rawPrevTime=y,this._cycle=m,u.lazyTweens.push(this),this._lazy=[e,t],void 0;this._time&&!r?this.ratio=this._ease.getRatio(this._time/g):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==d&&e>=0&&(this._active=!0),0===v&&(2===this._initted&&e>0&&this._init(),this._startAt&&(e>=0?this._startAt.render(e,t,n):i||(i="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===g)&&(t||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(0>e&&this._startAt&&this._startTime&&this._startAt.render(e,t,n),t||(this._totalTime!==v||r)&&this._callback("onUpdate")),this._cycle!==m&&(t||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),i&&(!this._gc||n)&&(0>e&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(e,t,n),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[i]&&this._callback(i),0===g&&this._rawPrevTime===o&&h!==o&&(this._rawPrevTime=0))},s.to=function(e,t,n){return new s(e,t,n)},s.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new s(e,t,n)},s.fromTo=function(e,t,n,r){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,new s(e,t,r)},s.staggerTo=s.allTo=function(e,t,o,u,l,h,p){u=u||0;var d,v,m,g,y=o.delay||0,b=[],w=function(){o.onComplete&&o.onComplete.apply(o.onCompleteScope||this,arguments),l.apply(p||o.callbackScope||this,h||c)},E=o.cycle,S=o.startAt&&o.startAt.cycle;for(f(e)||("string"==typeof e&&(e=n.selector(e)||e),a(e)&&(e=r(e))),e=e||[],0>u&&(e=r(e),e.reverse(),u*=-1),d=e.length-1,m=0;d>=m;m++){v={};for(g in o)v[g]=o[g];if(E&&i(v,e,m),S){S=v.startAt={};for(g in o.startAt)S[g]=o.startAt[g];i(v.startAt,e,m)}v.delay=y,m===d&&l&&(v.onComplete=w),b[m]=new s(e[m],t,v),y+=u}return b},s.staggerFrom=s.allFrom=function(e,t,n,r,i,o,u){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,s.staggerTo(e,t,n,r,i,o,u)},s.staggerFromTo=s.allFromTo=function(e,t,n,r,i,o,u,a){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,s.staggerTo(e,t,r,i,o,u,a)},s.delayedCall=function(e,t,n,r,i){return new s(t,0,{delay:e,onComplete:t,onCompleteParams:n,callbackScope:r,onReverseComplete:t,onReverseCompleteParams:n,immediateRender:!1,useFrames:i,overwrite:0})},s.set=function(e,t){return new s(e,0,t)},s.isTweening=function(e){return n.getTweensOf(e,!0).length>0};var h=function(e,t){for(var r=[],i=0,s=e._first;s;)s instanceof n?r[i++]=s:(t&&(r[i++]=s),r=r.concat(h(s,t)),i=r.length),s=s._next;return r},p=s.getAllTweens=function(t){return h(e._rootTimeline,t).concat(h(e._rootFramesTimeline,t))};s.killAll=function(e,n,r,i){null==n&&(n=!0),null==r&&(r=!0);var s,o,u,a=p(0!=i),f=a.length,l=n&&r&&i;for(u=0;f>u;u++)o=a[u],(l||o instanceof t||(s=o.target===o.vars.onComplete)&&r||n&&!s)&&(e?o.totalTime(o._reversed?0:o.totalDuration()):o._enabled(!1,!1))},s.killChildTweensOf=function(e,t){if(null!=e){var i,o,l,c,h,p=u.tweenLookup;if("string"==typeof e&&(e=n.selector(e)||e),a(e)&&(e=r(e)),f(e))for(c=e.length;--c>-1;)s.killChildTweensOf(e[c],t);else{i=[];for(l in p)for(o=p[l].target.parentNode;o;)o===e&&(i=i.concat(p[l].tweens)),o=o.parentNode;for(h=i.length,c=0;h>c;c++)t&&i[c].totalTime(i[c].totalDuration()),i[c]._enabled(!1,!1)}}};var d=function(e,n,r,i){n=n!==!1,r=r!==!1,i=i!==!1;for(var s,o,u=p(i),a=n&&r&&i,f=u.length;--f>-1;)o=u[f],(a||o instanceof t||(s=o.target===o.vars.onComplete)&&r||n&&!s)&&o.paused(e)};return s.pauseAll=function(e,t,n){d(!0,e,t,n)},s.resumeAll=function(e,t,n){d(!1,e,t,n)},s.globalTimeScale=function(t){var r=e._rootTimeline,i=n.ticker.time;return arguments.length?(t=t||o,r._startTime=i-(i-r._startTime)*r._timeScale/t,r=e._rootFramesTimeline,i=n.ticker.frame,r._startTime=i-(i-r._startTime)*r._timeScale/t,r._timeScale=e._rootTimeline._timeScale=t,t):r._timeScale},l.progress=function(e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},l.totalProgress=function(e){return arguments.length?this.totalTime(this.totalDuration()*e,!1):this._totalTime/this.totalDuration()},l.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!==(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},l.duration=function(t){return arguments.length?e.prototype.duration.call(this,t):this._duration},l.totalDuration=function(e){return arguments.length?-1===this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},l.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},l.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},l.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},s},!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,n){var r=function(e){t.call(this,e),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var n,r,i=this.vars;for(r in i)n=i[r],a(n)&&-1!==n.join("").indexOf("{self}")&&(i[r]=this._swapSelfInParams(n));a(i.tweens)&&this.add(i.tweens,0,i.align,i.stagger)},i=1e-10,s=n._internals,o=r._internals={},u=s.isSelector,a=s.isArray,f=s.lazyTweens,l=s.lazyRender,c=_gsScope._gsDefine.globals,h=function(e){var t,n={};for(t in e)n[t]=e[t];return n},p=function(e,t,n){var r,i,s=e.cycle;for(r in s)i=s[r],e[r]="function"==typeof i?i.call(t[n],n):i[n%i.length];delete e.cycle},d=o.pauseCallback=function(){},v=function(e){var t,n=[],r=e.length;for(t=0;t!==r;n.push(e[t++]));return n},m=r.prototype=new t;return r.version="1.18.0",m.constructor=r,m.kill()._gc=m._forcingPlayhead=m._hasPause=!1,m.to=function(e,t,r,i){var s=r.repeat&&c.TweenMax||n;return t?this.add(new s(e,t,r),i):this.set(e,r,i)},m.from=function(e,t,r,i){return this.add((r.repeat&&c.TweenMax||n).from(e,t,r),i)},m.fromTo=function(e,t,r,i,s){var o=i.repeat&&c.TweenMax||n;return t?this.add(o.fromTo(e,t,r,i),s):this.set(e,i,s)},m.staggerTo=function(e,t,i,s,o,a,f,l){var c,d,m=new r({onComplete:a,onCompleteParams:f,callbackScope:l,smoothChildTiming:this.smoothChildTiming}),g=i.cycle;for("string"==typeof e&&(e=n.selector(e)||e),e=e||[],u(e)&&(e=v(e)),s=s||0,0>s&&(e=v(e),e.reverse(),s*=-1),d=0;e.length>d;d++)c=h(i),c.startAt&&(c.startAt=h(c.startAt),c.startAt.cycle&&p(c.startAt,e,d)),g&&p(c,e,d),m.to(e[d],t,c,d*s);return this.add(m,o)},m.staggerFrom=function(e,t,n,r,i,s,o,u){return n.immediateRender=0!=n.immediateRender,n.runBackwards=!0,this.staggerTo(e,t,n,r,i,s,o,u)},m.staggerFromTo=function(e,t,n,r,i,s,o,u,a){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,this.staggerTo(e,t,r,i,s,o,u,a)},m.call=function(e,t,r,i){return this.add(n.delayedCall(0,e,t,r),i)},m.set=function(e,t,r){return r=this._parseTimeOrLabel(r,0,!0),null==t.immediateRender&&(t.immediateRender=r===this._time&&!this._paused),this.add(new n(e,0,t),r)},r.exportRoot=function(e,t){e=e||{},null==e.smoothChildTiming&&(e.smoothChildTiming=!0);var i,s,o=new r(e),u=o._timeline;for(null==t&&(t=!0),u._remove(o,!0),o._startTime=0,o._rawPrevTime=o._time=o._totalTime=u._time,i=u._first;i;)s=i._next,t&&i instanceof n&&i.target===i.vars.onComplete||o.add(i,i._startTime-i._delay),i=s;return u.add(o,0),o},m.add=function(i,s,o,u){var f,l,c,h,p,d;if("number"!=typeof s&&(s=this._parseTimeOrLabel(s,0,!0,i)),!(i instanceof e)){if(i instanceof Array||i&&i.push&&a(i)){for(o=o||"normal",u=u||0,f=s,l=i.length,c=0;l>c;c++)a(h=i[c])&&(h=new r({tweens:h})),this.add(h,f),"string"!=typeof h&&"function"!=typeof h&&("sequence"===o?f=h._startTime+h.totalDuration()/h._timeScale:"start"===o&&(h._startTime-=h.delay())),f+=u;return this._uncache(!0)}if("string"==typeof i)return this.addLabel(i,s);if("function"!=typeof i)throw"Cannot add "+i+" into the timeline; it is not a tween, timeline, function, or string.";i=n.delayedCall(0,i)}if(t.prototype.add.call(this,i,s),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(p=this,d=p.rawTime()>i._startTime;p._timeline;)d&&p._timeline.smoothChildTiming?p.totalTime(p._totalTime,!0):p._gc&&p._enabled(!0,!1),p=p._timeline;return this},m.remove=function(t){if(t instanceof e){this._remove(t,!1);var n=t._timeline=t.vars.useFrames?e._rootFramesTimeline:e._rootTimeline;return t._startTime=(t._paused?t._pauseTime:n._time)-(t._reversed?t.totalDuration()-t._totalTime:t._totalTime)/t._timeScale,this}if(t instanceof Array||t&&t.push&&a(t)){for(var r=t.length;--r>-1;)this.remove(t[r]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},m._remove=function(e,n){t.prototype._remove.call(this,e,n);var r=this._last;return r?this._time>r._startTime+r._totalDuration/r._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},m.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},m.insert=m.insertMultiple=function(e,t,n,r){return this.add(e,t||0,n,r)},m.appendMultiple=function(e,t,n,r){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),n,r)},m.addLabel=function(e,t){return this._labels[e]=this._parseTimeOrLabel(t),this},m.addPause=function(e,t,r,i){var s=n.delayedCall(0,d,r,i||this);return s.vars.onComplete=s.vars.onReverseComplete=t,s.data="isPause",this._hasPause=!0,this.add(s,e)},m.removeLabel=function(e){return delete this._labels[e],this},m.getLabelTime=function(e){return null!=this._labels[e]?this._labels[e]:-1},m._parseTimeOrLabel=function(t,n,r,i){var s;if(i instanceof e&&i.timeline===this)this.remove(i);else if(i&&(i instanceof Array||i.push&&a(i)))for(s=i.length;--s>-1;)i[s]instanceof e&&i[s].timeline===this&&this.remove(i[s]);if("string"==typeof n)return this._parseTimeOrLabel(n,r&&"number"==typeof t&&null==this._labels[n]?t-this.duration():0,r);if(n=n||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=this.duration());else{if(s=t.indexOf("="),-1===s)return null==this._labels[t]?r?this._labels[t]=this.duration()+n:n:this._labels[t]+n;n=parseInt(t.charAt(s-1)+"1",10)*Number(t.substr(s+1)),t=s>1?this._parseTimeOrLabel(t.substr(0,s-1),0,r):this.duration()}return Number(t)+n},m.seek=function(e,t){return this.totalTime("number"==typeof e?e:this._parseTimeOrLabel(e),t!==!1)},m.stop=function(){return this.paused(!0)},m.gotoAndPlay=function(e,t){return this.play(e,t)},m.gotoAndStop=function(e,t){return this.pause(e,t)},m.render=function(e,t,n){this._gc&&this._enabled(!0,!1);var r,s,o,u,a,c,h=this._dirty?this.totalDuration():this._totalDuration,p=this._time,d=this._startTime,v=this._timeScale,m=this._paused;if(e>=h)this._totalTime=this._time=h,this._reversed||this._hasPausedChild()||(s=!0,u="onComplete",a=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===e||0>this._rawPrevTime||this._rawPrevTime===i)&&this._rawPrevTime!==e&&this._first&&(a=!0,this._rawPrevTime>i&&(u="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:i,e=h+1e-4;else if(1e-7>e)if(this._totalTime=this._time=0,(0!==p||0===this._duration&&this._rawPrevTime!==i&&(this._rawPrevTime>0||0>e&&this._rawPrevTime>=0))&&(u="onReverseComplete",s=this._reversed),0>e)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(a=s=!0,u="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(a=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:i,0===e&&s)for(r=this._first;r&&0===r._startTime;)r._duration||(s=!1),r=r._next;e=0,this._initted||(a=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!t){if(e>=p)for(r=this._first;r&&e>=r._startTime&&!c;)r._duration||"isPause"!==r.data||r.ratio||0===r._startTime&&0===this._rawPrevTime||(c=r),r=r._next;else for(r=this._last;r&&r._startTime>=e&&!c;)r._duration||"isPause"===r.data&&r._rawPrevTime>0&&(c=r),r=r._prev;c&&(this._time=e=c._startTime,this._totalTime=e+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=e}if(this._time!==p&&this._first||n||a||c){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==p&&e>0&&(this._active=!0),0===p&&this.vars.onStart&&0!==this._time&&(t||this._callback("onStart")),this._time>=p)for(r=this._first;r&&(o=r._next,!this._paused||m);)(r._active||r._startTime<=this._time&&!r._paused&&!r._gc)&&(c===r&&this.pause(),r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)),r=o;else for(r=this._last;r&&(o=r._prev,!this._paused||m);){if(r._active||p>=r._startTime&&!r._paused&&!r._gc){if(c===r){for(c=r._prev;c&&c.endTime()>this._time;)c.render(c._reversed?c.totalDuration()-(e-c._startTime)*c._timeScale:(e-c._startTime)*c._timeScale,t,n),c=c._prev;c=null,this.pause()}r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)}r=o}this._onUpdate&&(t||(f.length&&l(),this._callback("onUpdate"))),u&&(this._gc||(d===this._startTime||v!==this._timeScale)&&(0===this._time||h>=this.totalDuration())&&(s&&(f.length&&l(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[u]&&this._callback(u)))}},m._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof r&&e._hasPausedChild())return!0;e=e._next}return!1},m.getChildren=function(e,t,r,i){i=i||-9999999999;for(var s=[],o=this._first,u=0;o;)i>o._startTime||(o instanceof n?t!==!1&&(s[u++]=o):(r!==!1&&(s[u++]=o),e!==!1&&(s=s.concat(o.getChildren(!0,t,r)),u=s.length))),o=o._next;return s},m.getTweensOf=function(e,t){var r,i,s=this._gc,o=[],u=0;for(s&&this._enabled(!0,!0),r=n.getTweensOf(e),i=r.length;--i>-1;)(r[i].timeline===this||t&&this._contains(r[i]))&&(o[u++]=r[i]);return s&&this._enabled(!1,!0),o},m.recent=function(){return this._recent},m._contains=function(e){for(var t=e.timeline;t;){if(t===this)return!0;t=t.timeline}return!1},m.shiftChildren=function(e,t,n){n=n||0;for(var r,i=this._first,s=this._labels;i;)i._startTime>=n&&(i._startTime+=e),i=i._next;if(t)for(r in s)s[r]>=n&&(s[r]+=e);return this._uncache(!0)},m._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);for(var n=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),r=n.length,i=!1;--r>-1;)n[r]._kill(e,t)&&(i=!0);return i},m.clear=function(e){var t=this.getChildren(!1,!0,!0),n=t.length;for(this._time=this._totalTime=0;--n>-1;)t[n]._enabled(!1,!1);return e!==!1&&(this._labels={}),this._uncache(!0)},m.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},m._enabled=function(e,n){if(e===this._gc)for(var r=this._first;r;)r._enabled(e,!0),r=r._next;return t.prototype._enabled.call(this,e,n)},m.totalTime=function(){this._forcingPlayhead=!0;var t=e.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,t},m.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},m.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t,n,r=0,i=this._last,s=999999999999;i;)t=i._prev,i._dirty&&i.totalDuration(),i._startTime>s&&this._sortChildren&&!i._paused?this.add(i,i._startTime-i._delay):s=i._startTime,0>i._startTime&&!i._paused&&(r-=i._startTime,this._timeline.smoothChildTiming&&(this._startTime+=i._startTime/this._timeScale),this.shiftChildren(-i._startTime,!1,-9999999999),s=0),n=i._startTime+i._totalDuration/i._timeScale,n>r&&(r=n),i=t;this._duration=this._totalDuration=r,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==e&&this.timeScale(this._totalDuration/e),this},m.paused=function(t){if(!t)for(var n=this._first,r=this._time;n;)n._startTime===r&&"isPause"===n.data&&(n._rawPrevTime=0),n=n._next;return e.prototype.paused.apply(this,arguments)},m.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===e._rootFramesTimeline},m.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},r},!0),_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(e,t,n){var r=function(t){e.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},i=1e-10,s=t._internals,o=s.lazyTweens,u=s.lazyRender,a=new n(null,null,1,0),f=r.prototype=new e;return f.constructor=r,f.kill()._gc=!1,r.version="1.18.0",f.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),e.prototype.invalidate.call(this)},f.addCallback=function(e,n,r,i){return this.add(t.delayedCall(0,e,r,i),n)},f.removeCallback=function(e,t){if(e)if(null==t)this._kill(null,e);else for(var n=this.getTweensOf(e,!1),r=n.length,i=this._parseTimeOrLabel(t);--r>-1;)n[r]._startTime===i&&n[r]._enabled(!1,!1);return this},f.removePause=function(t){return this.removeCallback(e._internals.pauseCallback,t)},f.tweenTo=function(e,n){n=n||{};var r,i,s,o={ease:a,useFrames:this.usesFrames(),immediateRender:!1};for(i in n)o[i]=n[i];return o.time=this._parseTimeOrLabel(e),r=Math.abs(Number(o.time)-this._time)/this._timeScale||.001,s=new t(this,r,o),o.onStart=function(){s.target.paused(!0),s.vars.time!==s.target.time()&&r===s.duration()&&s.duration(Math.abs(s.vars.time-s.target.time())/s.target._timeScale),n.onStart&&s._callback("onStart")},s},f.tweenFromTo=function(e,t,n){n=n||{},e=this._parseTimeOrLabel(e),n.startAt={onComplete:this.seek,onCompleteParams:[e],callbackScope:this},n.immediateRender=n.immediateRender!==!1;var r=this.tweenTo(t,n);return r.duration(Math.abs(r.vars.time-e)/this._timeScale||.001)},f.render=function(e,t,n){this._gc&&this._enabled(!0,!1);var r,s,a,f,l,c,h,p=this._dirty?this.totalDuration():this._totalDuration,d=this._duration,v=this._time,m=this._totalTime,g=this._startTime,y=this._timeScale,b=this._rawPrevTime,w=this._paused,E=this._cycle;if(e>=p)this._locked||(this._totalTime=p,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(s=!0,f="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===e||0>b||b===i)&&b!==e&&this._first&&(l=!0,b>i&&(f="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:i,this._yoyo&&0!==(1&this._cycle)?this._time=e=0:(this._time=d,e=d+1e-4);else if(1e-7>e)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==v||0===d&&b!==i&&(b>0||0>e&&b>=0)&&!this._locked)&&(f="onReverseComplete",s=this._reversed),0>e)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=s=!0,f="onReverseComplete"):b>=0&&this._first&&(l=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=d||!t||e||this._rawPrevTime===e?e:i,0===e&&s)for(r=this._first;r&&0===r._startTime;)r._duration||(s=!1),r=r._next;e=0,this._initted||(l=!0)}else if(0===d&&0>b&&(l=!0),this._time=this._rawPrevTime=e,this._locked||(this._totalTime=e,0!==this._repeat&&(c=d+this._repeatDelay,this._cycle=this._totalTime/c>>0,0!==this._cycle&&this._cycle===this._totalTime/c&&this._cycle--,this._time=this._totalTime-this._cycle*c,this._yoyo&&0!==(1&this._cycle)&&(this._time=d-this._time),this._time>d?(this._time=d,e=d+1e-4):0>this._time?this._time=e=0:e=this._time)),this._hasPause&&!this._forcingPlayhead&&!t){if(e=this._time,e>=v)for(r=this._first;r&&e>=r._startTime&&!h;)r._duration||"isPause"!==r.data||r.ratio||0===r._startTime&&0===this._rawPrevTime||(h=r),r=r._next;else for(r=this._last;r&&r._startTime>=e&&!h;)r._duration||"isPause"===r.data&&r._rawPrevTime>0&&(h=r),r=r._prev;h&&(this._time=e=h._startTime,this._totalTime=e+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==E&&!this._locked){var S=this._yoyo&&0!==(1&E),x=S===(this._yoyo&&0!==(1&this._cycle)),T=this._totalTime,N=this._cycle,C=this._rawPrevTime,k=this._time;if(this._totalTime=E*d,E>this._cycle?S=!S:this._totalTime+=d,this._time=v,this._rawPrevTime=0===d?b-1e-4:b,this._cycle=E,this._locked=!0,v=S?0:d,this.render(v,t,0===d),t||this._gc||this.vars.onRepeat&&this._callback("onRepeat"),x&&(v=S?d+1e-4:-0.0001,this.render(v,!0,!1)),this._locked=!1,this._paused&&!w)return;this._time=k,this._totalTime=T,this._cycle=N,this._rawPrevTime=C}if(!(this._time!==v&&this._first||n||l||h))return m!==this._totalTime&&this._onUpdate&&(t||this._callback("onUpdate")),void 0;if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==m&&e>0&&(this._active=!0),0===m&&this.vars.onStart&&0!==this._totalTime&&(t||this._callback("onStart")),this._time>=v)for(r=this._first;r&&(a=r._next,!this._paused||w);)(r._active||r._startTime<=this._time&&!r._paused&&!r._gc)&&(h===r&&this.pause(),r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)),r=a;else for(r=this._last;r&&(a=r._prev,!this._paused||w);){if(r._active||v>=r._startTime&&!r._paused&&!r._gc){if(h===r){for(h=r._prev;h&&h.endTime()>this._time;)h.render(h._reversed?h.totalDuration()-(e-h._startTime)*h._timeScale:(e-h._startTime)*h._timeScale,t,n),h=h._prev;h=null,this.pause()}r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)}r=a}this._onUpdate&&(t||(o.length&&u(),this._callback("onUpdate"))),f&&(this._locked||this._gc||(g===this._startTime||y!==this._timeScale)&&(0===this._time||p>=this.totalDuration())&&(s&&(o.length&&u(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[f]&&this._callback(f)))},f.getActive=function(e,t,n){null==e&&(e=!0),null==t&&(t=!0),null==n&&(n=!1);var r,i,s=[],o=this.getChildren(e,t,n),u=0,a=o.length;for(r=0;a>r;r++)i=o[r],i.isActive()&&(s[u++]=i);return s},f.getLabelAfter=function(e){e||0!==e&&(e=this._time);var t,n=this.getLabelsArray(),r=n.length;for(t=0;r>t;t++)if(n[t].time>e)return n[t].name;return null},f.getLabelBefore=function(e){null==e&&(e=this._time);for(var t=this.getLabelsArray(),n=t.length;--n>-1;)if(e>t[n].time)return t[n].name;return null},f.getLabelsArray=function(){var e,t=[],n=0;for(e in this._labels)t[n++]={time:this._labels[e],name:e};return t.sort(function(e,t){return e.time-t.time}),t},f.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),t):this._time/this.duration()},f.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._totalTime/this.totalDuration()},f.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(e.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},f.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!==(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},f.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},f.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},f.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},f.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.getLabelBefore(this._time+1e-8)},r},!0),function(){var e=180/Math.PI,t=[],n=[],r=[],i={},s=_gsScope._gsDefine.globals,o=function(e,t,n,r){this.a=e,this.b=t,this.c=n,this.d=r,this.da=r-e,this.ca=n-e,this.ba=t-e},u=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",a=function(e,t,n,r){var i={a:e},s={},o={},u={c:r},a=(e+t)/2,f=(t+n)/2,l=(n+r)/2,c=(a+f)/2,h=(f+l)/2,p=(h-c)/8;return i.b=a+(e-a)/4,s.b=c+p,i.c=s.a=(i.b+s.b)/2,s.c=o.a=(c+h)/2,o.b=h-p,u.b=l+(r-l)/4,o.c=u.a=(o.b+u.b)/2,[i,s,o,u]},f=function(e,i,s,o,u){var f,l,c,h,p,d,v,m,g,y,b,w,E,S=e.length-1,x=0,T=e[0].a;for(f=0;S>f;f++)p=e[x],l=p.a,c=p.d,h=e[x+1].d,u?(b=t[f],w=n[f],E=.25*(w+b)*i/(o?.5:r[f]||.5),d=c-(c-l)*(o?.5*i:0!==b?E/b:0),v=c+(h-c)*(o?.5*i:0!==w?E/w:0),m=c-(d+((v-d)*(3*b/(b+w)+.5)/4||0))):(d=c-.5*(c-l)*i,v=c+.5*(h-c)*i,m=c-(d+v)/2),d+=m,v+=m,p.c=g=d,p.b=0!==f?T:T=p.a+.6*(p.c-p.a),p.da=c-l,p.ca=g-l,p.ba=T-l,s?(y=a(l,T,g,c),e.splice(x,1,y[0],y[1],y[2],y[3]),x+=4):x++,T=v;p=e[x],p.b=T,p.c=T+.4*(p.d-T),p.da=p.d-p.a,p.ca=p.c-p.a,p.ba=T-p.a,s&&(y=a(p.a,T,p.c,p.d),e.splice(x,1,y[0],y[1],y[2],y[3]))},l=function(e,r,i,s){var u,a,f,l,c,h,p=[];if(s)for(e=[s].concat(e),a=e.length;--a>-1;)"string"==typeof (h=e[a][r])&&"="===h.charAt(1)&&(e[a][r]=s[r]+Number(h.charAt(0)+h.substr(2)));if(u=e.length-2,0>u)return p[0]=new o(e[0][r],0,0,e[-1>u?0:1][r]),p;for(a=0;u>a;a++)f=e[a][r],l=e[a+1][r],p[a]=new o(f,0,0,l),i&&(c=e[a+2][r],t[a]=(t[a]||0)+(l-f)*(l-f),n[a]=(n[a]||0)+(c-l)*(c-l));return p[a]=new o(e[a][r],0,0,e[a+1][r]),p},c=function(e,s,o,a,c,h){var p,d,v,m,g,y,b,w,E={},S=[],x=h||e[0];c="string"==typeof c?","+c+",":u,null==s&&(s=1);for(d in e[0])S.push(d);if(e.length>1){for(w=e[e.length-1],b=!0,p=S.length;--p>-1;)if(d=S[p],Math.abs(x[d]-w[d])>.05){b=!1;break}b&&(e=e.concat(),h&&e.unshift(h),e.push(e[1]),h=e[e.length-3])}for(t.length=n.length=r.length=0,p=S.length;--p>-1;)d=S[p],i[d]=-1!==c.indexOf(","+d+","),E[d]=l(e,d,i[d],h);for(p=t.length;--p>-1;)t[p]=Math.sqrt(t[p]),n[p]=Math.sqrt(n[p]);if(!a){for(p=S.length;--p>-1;)if(i[d])for(v=E[S[p]],y=v.length-1,m=0;y>m;m++)g=v[m+1].da/n[m]+v[m].da/t[m],r[m]=(r[m]||0)+g*g;for(p=r.length;--p>-1;)r[p]=Math.sqrt(r[p])}for(p=S.length,m=o?4:1;--p>-1;)d=S[p],v=E[d],f(v,s,o,a,i[d]),b&&(v.splice(0,m),v.splice(v.length-m,m));return E},h=function(e,t,n){t=t||"soft";var r,i,s,u,a,f,l,c,h,p,d,v={},m="cubic"===t?3:2,g="soft"===t,y=[];if(g&&n&&(e=[n].concat(e)),null==e||m+1>e.length)throw"invalid Bezier data";for(h in e[0])y.push(h);for(f=y.length;--f>-1;){for(h=y[f],v[h]=a=[],p=0,c=e.length,l=0;c>l;l++)r=null==n?e[l][h]:"string"==typeof (d=e[l][h])&&"="===d.charAt(1)?n[h]+Number(d.charAt(0)+d.substr(2)):Number(d),g&&l>1&&c-1>l&&(a[p++]=(r+a[p-2])/2),a[p++]=r;for(c=p-m+1,p=0,l=0;c>l;l+=m)r=a[l],i=a[l+1],s=a[l+2],u=2===m?0:a[l+3],a[p++]=d=3===m?new o(r,i,s,u):new o(r,(2*i+r)/3,(2*i+s)/3,s);a.length=p}return v},p=function(e,t,n){for(var r,i,s,o,u,a,f,l,c,h,p,d=1/n,v=e.length;--v>-1;)for(h=e[v],s=h.a,o=h.d-s,u=h.c-s,a=h.b-s,r=i=0,l=1;n>=l;l++)f=d*l,c=1-f,r=i-(i=(f*f*o+3*c*(f*u+c*a))*f),p=v*n+l-1,t[p]=(t[p]||0)+r*r},d=function(e,t){t=t>>0||6;var n,r,i,s,o=[],u=[],a=0,f=0,l=t-1,c=[],h=[];for(n in e)p(e[n],o,t);for(i=o.length,r=0;i>r;r++)a+=Math.sqrt(o[r]),s=r%t,h[s]=a,s===l&&(f+=a,s=r/t>>0,c[s]=h,u[s]=f,a=0,h=[]);return{length:f,lengths:u,segments:c}},v=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.4",API:2,global:!0,init:function(e,t,n){this._target=e,t instanceof Array&&(t={values:t}),this._func={},this._round={},this._props=[],this._timeRes=null==t.timeResolution?6:parseInt(t.timeResolution,10);var r,i,s,o,u,a=t.values||[],f={},l=a[0],p=t.autoRotate||n.vars.orientToBezier;this._autoRotate=p?p instanceof Array?p:[["x","y","rotation",p===!0?0:Number(p)||0]]:null;for(r in l)this._props.push(r);for(s=this._props.length;--s>-1;)r=this._props[s],this._overwriteProps.push(r),i=this._func[r]="function"==typeof e[r],f[r]=i?e[r.indexOf("set")||"function"!=typeof e["get"+r.substr(3)]?r:"get"+r.substr(3)]():parseFloat(e[r]),u||f[r]!==a[0][r]&&(u=f);if(this._beziers="cubic"!==t.type&&"quadratic"!==t.type&&"soft"!==t.type?c(a,isNaN(t.curviness)?1:t.curviness,!1,"thruBasic"===t.type,t.correlate,u):h(a,t.type,f),this._segCount=this._beziers[r].length,this._timeRes){var v=d(this._beziers,this._timeRes);this._length=v.length,this._lengths=v.lengths,this._segments=v.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(p=this._autoRotate)for(this._initialRotations=[],p[0]instanceof Array||(this._autoRotate=p=[p]),s=p.length;--s>-1;){for(o=0;3>o;o++)r=p[s][o],this._func[r]="function"==typeof e[r]?e[r.indexOf("set")||"function"!=typeof e["get"+r.substr(3)]?r:"get"+r.substr(3)]:!1;r=p[s][2],this._initialRotations[s]=this._func[r]?this._func[r].call(this._target):this._target[r]}return this._startRatio=n.vars.runBackwards?1:0,!0},set:function(t){var n,r,i,s,o,u,a,f,l,c,h=this._segCount,p=this._func,d=this._target,v=t!==this._startRatio;if(this._timeRes){if(l=this._lengths,c=this._curSeg,t*=this._length,i=this._li,t>this._l2&&h-1>i){for(f=h-1;f>i&&t>=(this._l2=l[++i]););this._l1=l[i-1],this._li=i,this._curSeg=c=this._segments[i],this._s2=c[this._s1=this._si=0]}else if(this._l1>t&&i>0){for(;i>0&&(this._l1=l[--i])>=t;);0===i&&this._l1>t?this._l1=0:i++,this._l2=l[i],this._li=i,this._curSeg=c=this._segments[i],this._s1=c[(this._si=c.length-1)-1]||0,this._s2=c[this._si]}if(n=i,t-=this._l1,i=this._si,t>this._s2&&c.length-1>i){for(f=c.length-1;f>i&&t>=(this._s2=c[++i]););this._s1=c[i-1],this._si=i}else if(this._s1>t&&i>0){for(;i>0&&(this._s1=c[--i])>=t;);0===i&&this._s1>t?this._s1=0:i++,this._s2=c[i],this._si=i}u=(i+(t-this._s1)/(this._s2-this._s1))*this._prec}else n=0>t?0:t>=1?h-1:h*t>>0,u=(t-n*(1/h))*h;for(r=1-u,i=this._props.length;--i>-1;)s=this._props[i],o=this._beziers[s][n],a=(u*u*o.da+3*r*(u*o.ca+r*o.ba))*u+o.a,this._round[s]&&(a=Math.round(a)),p[s]?d[s](a):d[s]=a;if(this._autoRotate){var m,g,y,b,w,E,S,x=this._autoRotate;for(i=x.length;--i>-1;)s=x[i][2],E=x[i][3]||0,S=x[i][4]===!0?1:e,o=this._beziers[x[i][0]],m=this._beziers[x[i][1]],o&&m&&(o=o[n],m=m[n],g=o.a+(o.b-o.a)*u,b=o.b+(o.c-o.b)*u,g+=(b-g)*u,b+=(o.c+(o.d-o.c)*u-b)*u,y=m.a+(m.b-m.a)*u,w=m.b+(m.c-m.b)*u,y+=(w-y)*u,w+=(m.c+(m.d-m.c)*u-w)*u,a=v?Math.atan2(w-y,b-g)*S+E:this._initialRotations[i],p[s]?d[s](a):d[s]=a)}}}),m=v.prototype;v.bezierThrough=c,v.cubicToQuadratic=a,v._autoCSS=!0,v.quadraticToCubic=function(e,t,n){return new o(e,(2*t+e)/3,(2*t+n)/3,n)},v._cssRegister=function(){var e=s.CSSPlugin;if(e){var t=e._internals,n=t._parseToProxy,r=t._setPluginRatio,i=t.CSSPropTween;t._registerComplexSpecialProp("bezier",{parser:function(e,t,s,o,u,a){t instanceof Array&&(t={values:t}),a=new v;var f,l,c,h=t.values,p=h.length-1,d=[],m={};if(0>p)return u;for(f=0;p>=f;f++)c=n(e,h[f],o,u,a,p!==f),d[f]=c.end;for(l in t)m[l]=t[l];return m.values=d,u=new i(e,"bezier",0,0,c.pt,2),u.data=c,u.plugin=a,u.setRatio=r,0===m.autoRotate&&(m.autoRotate=!0),!m.autoRotate||m.autoRotate instanceof Array||(f=m.autoRotate===!0?0:Number(m.autoRotate),m.autoRotate=null!=c.end.left?[["left","top","rotation",f,!1]]:null!=c.end.x?[["x","y","rotation",f,!1]]:!1),m.autoRotate&&(o._transform||o._enableTransforms(!1),c.autoRotate=o._target._gsTransform),a._onInitTween(c.proxy,m,o._tween),u}})}},m._roundProps=function(e,t){for(var n=this._overwriteProps,r=n.length;--r>-1;)(e[n[r]]||e.bezier||e.bezierThrough)&&(this._round[n[r]]=t)},m._kill=function(e){var t,n,r=this._props;for(t in this._beziers)if(t in e)for(delete this._beziers[t],delete this._func[t],n=r.length;--n>-1;)r[n]===t&&r.splice(n,1);return this._super._kill.call(this,e)}}(),_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(e,t){var n,r,i,s,o=function(){e.call(this,"css"),this._overwriteProps.length=0,this.setRatio=o.prototype.setRatio},u=_gsScope._gsDefine.globals,a={},f=o.prototype=new e("css");f.constructor=o,o.version="1.18.0",o.API=2,o.defaultTransformPerspective=0,o.defaultSkewType="compensated",o.defaultSmoothOrigin=!0,f="px",o.suffixMap={top:f,right:f,bottom:f,left:f,width:f,height:f,fontSize:f,padding:f,margin:f,perspective:f,lineHeight:""};var l,c,h,p,d,v,m=/(?:\d|\-\d|\.\d|\-\.\d)+/g,g=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,y=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,b=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,w=/(?:\d|\-|\+|=|#|\.)*/g,E=/opacity *= *([^)]*)/i,S=/opacity:([^;]*)/i,x=/alpha\(opacity *=.+?\)/i,T=/^(rgb|hsl)/,N=/([A-Z])/g,C=/-([a-z])/gi,k=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,L=function(e,t){return t.toUpperCase()},A=/(?:Left|Right|Width)/i,O=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,M=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,_=/,(?=[^\)]*(?:\(|$))/gi,D=Math.PI/180,P=180/Math.PI,H={},B=document,j=function(e){return B.createElementNS?B.createElementNS("http://www.w3.org/1999/xhtml",e):B.createElement(e)},F=j("div"),I=j("img"),q=o._internals={_specialProps:a},R=navigator.userAgent,U=function(){var e=R.indexOf("Android"),t=j("a");return h=-1!==R.indexOf("Safari")&&-1===R.indexOf("Chrome")&&(-1===e||Number(R.substr(e+8,1))>3),d=h&&6>Number(R.substr(R.indexOf("Version/")+8,1)),p=-1!==R.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(R)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(R))&&(v=parseFloat(RegExp.$1)),t?(t.style.cssText="top:1px;opacity:.55;",/^0.55/.test(t.style.opacity)):!1}(),z=function(e){return E.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},W=function(e){window.console&&0},X="",V="",$=function(e,t){t=t||F;var n,r,i=t.style;if(void 0!==i[e])return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),n=["O","Moz","ms","Ms","Webkit"],r=5;--r>-1&&void 0===i[n[r]+e];);return r>=0?(V=3===r?"ms":n[r],X="-"+V.toLowerCase()+"-",V+e):null},J=B.defaultView?B.defaultView.getComputedStyle:function(){},K=o.getStyle=function(e,t,n,r,i){var s;return U||"opacity"!==t?(!r&&e.style[t]?s=e.style[t]:(n=n||J(e))?s=n[t]||n.getPropertyValue(t)||n.getPropertyValue(t.replace(N,"-$1").toLowerCase()):e.currentStyle&&(s=e.currentStyle[t]),null==i||s&&"none"!==s&&"auto"!==s&&"auto auto"!==s?s:i):z(e)},Q=q.convertToPixels=function(e,n,r,i,s){if("px"===i||!i)return r;if("auto"===i||!r)return 0;var u,a,f,l=A.test(n),c=e,h=F.style,p=0>r;if(p&&(r=-r),"%"===i&&-1!==n.indexOf("border"))u=r/100*(l?e.clientWidth:e.clientHeight);else{if(h.cssText="border:0 solid red;position:"+K(e,"position")+";line-height:0;","%"!==i&&c.appendChild&&"v"!==i.charAt(0)&&"rem"!==i)h[l?"borderLeftWidth":"borderTopWidth"]=r+i;else{if(c=e.parentNode||B.body,a=c._gsCache,f=t.ticker.frame,a&&l&&a.time===f)return a.width*r/100;h[l?"width":"height"]=r+i}c.appendChild(F),u=parseFloat(F[l?"offsetWidth":"offsetHeight"]),c.removeChild(F),l&&"%"===i&&o.cacheWidths!==!1&&(a=c._gsCache=c._gsCache||{},a.time=f,a.width=100*(u/r)),0!==u||s||(u=Q(e,n,r,i,!0))}return p?-u:u},G=q.calculateOffset=function(e,t,n){if("absolute"!==K(e,"position",n))return 0;var r="left"===t?"Left":"Top",i=K(e,"margin"+r,n);return e["offset"+r]-(Q(e,t,parseFloat(i),i.replace(w,""))||0)},Y=function(e,t){var n,r,i,s={};if(t=t||J(e,null))if(n=t.length)for(;--n>-1;)i=t[n],(-1===i.indexOf("-transform")||Nt===i)&&(s[i.replace(C,L)]=t.getPropertyValue(i));else for(n in t)(-1===n.indexOf("Transform")||Tt===n)&&(s[n]=t[n]);else if(t=e.currentStyle||e.style)for(n in t)"string"==typeof n&&void 0===s[n]&&(s[n.replace(C,L)]=t[n]);return U||(s.opacity=z(e)),r=jt(e,t,!1),s.rotation=r.rotation,s.skewX=r.skewX,s.scaleX=r.scaleX,s.scaleY=r.scaleY,s.x=r.x,s.y=r.y,kt&&(s.z=r.z,s.rotationX=r.rotationX,s.rotationY=r.rotationY,s.scaleZ=r.scaleZ),s.filters&&delete s.filters,s},Z=function(e,t,n,r,i){var s,o,u,a={},f=e.style;for(o in n)"cssText"!==o&&"length"!==o&&isNaN(o)&&(t[o]!==(s=n[o])||i&&i[o])&&-1===o.indexOf("Origin")&&("number"==typeof s||"string"==typeof s)&&(a[o]="auto"!==s||"left"!==o&&"top"!==o?""!==s&&"auto"!==s&&"none"!==s||"string"!=typeof t[o]||""===t[o].replace(b,"")?s:0:G(e,o),void 0!==f[o]&&(u=new dt(f,o,f[o],u)));if(r)for(o in r)"className"!==o&&(a[o]=r[o]);return{difs:a,firstMPT:u}},et={width:["Left","Right"],height:["Top","Bottom"]},tt=["marginLeft","marginRight","marginTop","marginBottom"],nt=function(e,t,n){var r=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),i=et[t],s=i.length;for(n=n||J(e,null);--s>-1;)r-=parseFloat(K(e,"padding"+i[s],n,!0))||0,r-=parseFloat(K(e,"border"+i[s]+"Width",n,!0))||0;return r},rt=function(e,t){if("contain"===e||"auto"===e||"auto auto"===e)return e+" ";(null==e||""===e)&&(e="0 0");var n=e.split(" "),r=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":n[0],i=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":n[1];return null==i?i="center"===r?"50%":"0":"center"===i&&(i="50%"),("center"===r||isNaN(parseFloat(r))&&-1===(r+"").indexOf("="))&&(r="50%"),e=r+" "+i+(n.length>2?" "+n[2]:""),t&&(t.oxp=-1!==r.indexOf("%"),t.oyp=-1!==i.indexOf("%"),t.oxr="="===r.charAt(1),t.oyr="="===i.charAt(1),t.ox=parseFloat(r.replace(b,"")),t.oy=parseFloat(i.replace(b,"")),t.v=e),t||e},it=function(e,t){return"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)},st=function(e,t){return null==e?t:"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2))+t:parseFloat(e)},ot=function(e,t,n,r){var i,s,o,u,a,f=1e-6;return null==e?u=t:"number"==typeof e?u=e:(i=360,s=e.split("_"),a="="===e.charAt(1),o=(a?parseInt(e.charAt(0)+"1",10)*parseFloat(s[0].substr(2)):parseFloat(s[0]))*(-1===e.indexOf("rad")?1:P)-(a?0:t),s.length&&(r&&(r[n]=t+o),-1!==e.indexOf("short")&&(o%=i,o!==o%(i/2)&&(o=0>o?o+i:o-i)),-1!==e.indexOf("_cw")&&0>o?o=(o+9999999999*i)%i-(0|o/i)*i:-1!==e.indexOf("ccw")&&o>0&&(o=(o-9999999999*i)%i-(0|o/i)*i)),u=t+o),f>u&&u>-f&&(u=0),u},ut={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},at=function(e,t,n){return e=0>e?e+1:e>1?e-1:e,0|255*(1>6*e?t+6*(n-t)*e:.5>e?n:2>3*e?t+6*(n-t)*(2/3-e):t)+.5},ft=o.parseColor=function(e,t){var n,r,i,s,o,u,a,f,l,c,h;if(e)if("number"==typeof e)n=[e>>16,255&e>>8,255&e];else{if(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),ut[e])n=ut[e];else if("#"===e.charAt(0))4===e.length&&(r=e.charAt(1),i=e.charAt(2),s=e.charAt(3),e="#"+r+r+i+i+s+s),e=parseInt(e.substr(1),16),n=[e>>16,255&e>>8,255&e];else if("hsl"===e.substr(0,3))if(n=h=e.match(m),t){if(-1!==e.indexOf("="))return e.match(g)}else o=Number(n[0])%360/360,u=Number(n[1])/100,a=Number(n[2])/100,i=.5>=a?a*(u+1):a+u-a*u,r=2*a-i,n.length>3&&(n[3]=Number(e[3])),n[0]=at(o+1/3,r,i),n[1]=at(o,r,i),n[2]=at(o-1/3,r,i);else n=e.match(m)||ut.transparent;n[0]=Number(n[0]),n[1]=Number(n[1]),n[2]=Number(n[2]),n.length>3&&(n[3]=Number(n[3]))}else n=ut.black;return t&&!h&&(r=n[0]/255,i=n[1]/255,s=n[2]/255,f=Math.max(r,i,s),l=Math.min(r,i,s),a=(f+l)/2,f===l?o=u=0:(c=f-l,u=a>.5?c/(2-f-l):c/(f+l),o=f===r?(i-s)/c+(s>i?6:0):f===i?(s-r)/c+2:(r-i)/c+4,o*=60),n[0]=0|o+.5,n[1]=0|100*u+.5,n[2]=0|100*a+.5),n},lt=function(e,t){var n,r,i,s=e.match(ct)||[],o=0,u=s.length?"":e;for(n=0;s.length>n;n++)r=s[n],i=e.substr(o,e.indexOf(r,o)-o),o+=i.length+r.length,r=ft(r,t),3===r.length&&r.push(1),u+=i+(t?"hsla("+r[0]+","+r[1]+"%,"+r[2]+"%,"+r[3]:"rgba("+r.join(","))+")";return u},ct="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(f in ut)ct+="|"+f+"\\b";ct=RegExp(ct+")","gi"),o.colorStringFilter=function(e){var t,n=e[0]+e[1];ct.lastIndex=0,ct.test(n)&&(t=-1!==n.indexOf("hsl(")||-1!==n.indexOf("hsla("),e[0]=lt(e[0],t),e[1]=lt(e[1],t))},t.defaultStringFilter||(t.defaultStringFilter=o.colorStringFilter);var ht=function(e,t,n,r){if(null==e)return function(e){return e};var i,s=t?(e.match(ct)||[""])[0]:"",o=e.split(s).join("").match(y)||[],u=e.substr(0,e.indexOf(o[0])),a=")"===e.charAt(e.length-1)?")":"",f=-1!==e.indexOf(" ")?" ":",",l=o.length,c=l>0?o[0].replace(m,""):"";return l?i=t?function(e){var t,h,p,d;if("number"==typeof e)e+=c;else if(r&&_.test(e)){for(d=e.replace(_,"|").split("|"),p=0;d.length>p;p++)d[p]=i(d[p]);return d.join(",")}if(t=(e.match(ct)||[s])[0],h=e.split(t).join("").match(y)||[],p=h.length,l>p--)for(;l>++p;)h[p]=n?h[0|(p-1)/2]:o[p];return u+h.join(f)+f+t+a+(-1!==e.indexOf("inset")?" inset":"")}:function(e){var t,s,h;if("number"==typeof e)e+=c;else if(r&&_.test(e)){for(s=e.replace(_,"|").split("|"),h=0;s.length>h;h++)s[h]=i(s[h]);return s.join(",")}if(t=e.match(y)||[],h=t.length,l>h--)for(;l>++h;)t[h]=n?t[0|(h-1)/2]:o[h];return u+t.join(f)+a}:function(e){return e}},pt=function(e){return e=e.split(","),function(t,n,r,i,s,o,u){var a,f=(n+"").split(" ");for(u={},a=0;4>a;a++)u[e[a]]=f[a]=f[a]||f[(a-1)/2>>0];return i.parse(t,u,s,o)}},dt=(q._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,n,r,i,s=this.data,o=s.proxy,u=s.firstMPT,a=1e-6;u;)t=o[u.v],u.r?t=Math.round(t):a>t&&t>-a&&(t=0),u.t[u.p]=t,u=u._next;if(s.autoRotate&&(s.autoRotate.rotation=o.rotation),1===e)for(u=s.firstMPT;u;){if(n=u.t,n.type){if(1===n.type){for(i=n.xs0+n.s+n.xs1,r=1;n.l>r;r++)i+=n["xn"+r]+n["xs"+(r+1)];n.e=i}}else n.e=n.s+n.xs0;u=u._next}},function(e,t,n,r,i){this.t=e,this.p=t,this.v=n,this.r=i,r&&(r._prev=this,this._next=r)}),vt=(q._parseToProxy=function(e,t,n,r,i,s){var o,u,a,f,l,c=r,h={},p={},d=n._transform,v=H;for(n._transform=null,H=t,r=l=n.parse(e,t,r,i),H=v,s&&(n._transform=d,c&&(c._prev=null,c._prev&&(c._prev._next=null)));r&&r!==c;){if(1>=r.type&&(u=r.p,p[u]=r.s+r.c,h[u]=r.s,s||(f=new dt(r,"s",u,f,r.r),r.c=0),1===r.type))for(o=r.l;--o>0;)a="xn"+o,u=r.p+"_"+a,p[u]=r.data[a],h[u]=r[a],s||(f=new dt(r,a,u,f,r.rxp[a]));r=r._next}return{proxy:h,end:p,firstMPT:f,pt:l}},q.CSSPropTween=function(e,t,r,i,o,u,a,f,l,c,h){this.t=e,this.p=t,this.s=r,this.c=i,this.n=a||t,e instanceof vt||s.push(this.n),this.r=f,this.type=u||0,l&&(this.pr=l,n=!0),this.b=void 0===c?r:c,this.e=void 0===h?r+i:h,o&&(this._next=o,o._prev=this)}),mt=function(e,t,n,r,i,s){var o=new vt(e,t,n,r-n,i,-1,s);return o.b=n,o.e=o.xs0=r,o},gt=o.parseComplex=function(e,t,n,r,i,s,o,u,a,f){n=n||s||"",o=new vt(e,t,0,0,o,f?2:1,null,!1,u,n,r),r+="";var c,h,p,d,v,y,b,w,E,S,x,T,N,C=n.split(", ").join(",").split(" "),k=r.split(", ").join(",").split(" "),L=C.length,A=l!==!1;for((-1!==r.indexOf(",")||-1!==n.indexOf(","))&&(C=C.join(" ").replace(_,", ").split(" "),k=k.join(" ").replace(_,", ").split(" "),L=C.length),L!==k.length&&(C=(s||"").split(" "),L=C.length),o.plugin=a,o.setRatio=f,ct.lastIndex=0,c=0;L>c;c++)if(d=C[c],v=k[c],w=parseFloat(d),w||0===w)o.appendXtra("",w,it(v,w),v.replace(g,""),A&&-1!==v.indexOf("px"),!0);else if(i&&ct.test(d))T=","===v.charAt(v.length-1)?"),":")",N=-1!==v.indexOf("hsl")&&U,d=ft(d,N),v=ft(v,N),E=d.length+v.length>6,E&&!U&&0===v[3]?(o["xs"+o.l]+=o.l?" transparent":"transparent",o.e=o.e.split(k[c]).join("transparent")):(U||(E=!1),N?o.appendXtra(E?"hsla(":"hsl(",d[0],it(v[0],d[0]),",",!1,!0).appendXtra("",d[1],it(v[1],d[1]),"%,",!1).appendXtra("",d[2],it(v[2],d[2]),E?"%,":"%"+T,!1):o.appendXtra(E?"rgba(":"rgb(",d[0],v[0]-d[0],",",!0,!0).appendXtra("",d[1],v[1]-d[1],",",!0).appendXtra("",d[2],v[2]-d[2],E?",":T,!0),E&&(d=4>d.length?1:d[3],o.appendXtra("",d,(4>v.length?1:v[3])-d,T,!1))),ct.lastIndex=0;else if(y=d.match(m)){if(b=v.match(g),!b||b.length!==y.length)return o;for(p=0,h=0;y.length>h;h++)x=y[h],S=d.indexOf(x,p),o.appendXtra(d.substr(p,S-p),Number(x),it(b[h],x),"",A&&"px"===d.substr(S+x.length,2),0===h),p=S+x.length;o["xs"+o.l]+=d.substr(p)}else o["xs"+o.l]+=o.l?" "+d:d;if(-1!==r.indexOf("=")&&o.data){for(T=o.xs0+o.data.s,c=1;o.l>c;c++)T+=o["xs"+c]+o.data["xn"+c];o.e=T+o["xs"+c]}return o.l||(o.type=-1,o.xs0=o.e),o.xfirst||o},yt=9;for(f=vt.prototype,f.l=f.pr=0;--yt>0;)f["xn"+yt]=0,f["xs"+yt]="";f.xs0="",f._next=f._prev=f.xfirst=f.data=f.plugin=f.setRatio=f.rxp=null,f.appendXtra=function(e,t,n,r,i,s){var o=this,u=o.l;return o["xs"+u]+=s&&u?" "+e:e||"",n||0===u||o.plugin?(o.l++,o.type=o.setRatio?2:1,o["xs"+o.l]=r||"",u>0?(o.data["xn"+u]=t+n,o.rxp["xn"+u]=i,o["xn"+u]=t,o.plugin||(o.xfirst=new vt(o,"xn"+u,t,n,o.xfirst||o,0,o.n,i,o.pr),o.xfirst.xs0=0),o):(o.data={s:t+n},o.rxp={},o.s=t,o.c=n,o.r=i,o)):(o["xs"+u]+=t+(r||""),o)};var bt=function(e,t){t=t||{},this.p=t.prefix?$(e)||e:e,a[e]=a[this.p]=this,this.format=t.formatter||ht(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},wt=q._registerComplexSpecialProp=function(e,t,n){"object"!=typeof t&&(t={parser:n});var r,i,s=e.split(","),o=t.defaultValue;for(n=n||[o],r=0;s.length>r;r++)t.prefix=0===r&&t.prefix,t.defaultValue=n[r]||o,i=new bt(s[r],t)},Et=function(e){if(!a[e]){var t=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";wt(e,{parser:function(e,n,r,i,s,o,f){var l=u.com.greensock.plugins[t];return l?(l._cssRegister(),a[r].parse(e,n,r,i,s,o,f)):(W("Error: "+t+" js file not loaded."),s)}})}};f=bt.prototype,f.parseComplex=function(e,t,n,r,i,s){var o,u,a,f,l,c,h=this.keyword;if(this.multi&&(_.test(n)||_.test(t)?(u=t.replace(_,"|").split("|"),a=n.replace(_,"|").split("|")):h&&(u=[t],a=[n])),a){for(f=a.length>u.length?a.length:u.length,o=0;f>o;o++)t=u[o]=u[o]||this.dflt,n=a[o]=a[o]||this.dflt,h&&(l=t.indexOf(h),c=n.indexOf(h),l!==c&&(-1===c?u[o]=u[o].split(h).join(""):-1===l&&(u[o]+=" "+h)));t=u.join(", "),n=a.join(", ")}return gt(e,this.p,t,n,this.clrs,this.dflt,r,this.pr,i,s)},f.parse=function(e,t,n,r,s,o){return this.parseComplex(e.style,this.format(K(e,this.p,i,!1,this.dflt)),this.format(t),s,o)},o.registerSpecialProp=function(e,t,n){wt(e,{parser:function(e,r,i,s,o,u){var a=new vt(e,i,0,0,o,2,i,!1,n);return a.plugin=u,a.setRatio=t(e,r,s._tween,i),a},priority:n})},o.useSVGTransformAttr=h||p;var St,xt="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Tt=$("transform"),Nt=X+"transform",Ct=$("transformOrigin"),kt=null!==$("perspective"),Lt=q.Transform=function(){this.perspective=parseFloat(o.defaultTransformPerspective)||0,this.force3D=o.defaultForce3D!==!1&&kt?o.defaultForce3D||"auto":!1},At=window.SVGElement,Ot=function(e,t,n){var r,i=B.createElementNS("http://www.w3.org/2000/svg",e),s=/([a-z])([A-Z])/g;for(r in n)i.setAttributeNS(null,r.replace(s,"$1-$2").toLowerCase(),n[r]);return t.appendChild(i),i},Mt=B.documentElement,_t=function(){var e,t,n,r=v||/Android/i.test(R)&&!window.chrome;return B.createElementNS&&!r&&(e=Ot("svg",Mt),t=Ot("rect",e,{width:100,height:50,x:100}),n=t.getBoundingClientRect().width,t.style[Ct]="50% 50%",t.style[Tt]="scaleX(0.5)",r=n===t.getBoundingClientRect().width&&(!p||!kt),Mt.removeChild(e)),r}(),Dt=function(e,t,n,r,i){var s,u,a,f,l,c,h,p,d,v,m,g,y,b,w=e._gsTransform,E=Bt(e,!0);w&&(y=w.xOrigin,b=w.yOrigin),(!r||2>(s=r.split(" ")).length)&&(h=e.getBBox(),t=rt(t).split(" "),s=[(-1!==t[0].indexOf("%")?parseFloat(t[0])/100*h.width:parseFloat(t[0]))+h.x,(-1!==t[1].indexOf("%")?parseFloat(t[1])/100*h.height:parseFloat(t[1]))+h.y]),n.xOrigin=f=parseFloat(s[0]),n.yOrigin=l=parseFloat(s[1]),r&&E!==Ht&&(c=E[0],h=E[1],p=E[2],d=E[3],v=E[4],m=E[5],g=c*d-h*p,u=f*(d/g)+l*(-p/g)+(p*m-d*v)/g,a=f*(-h/g)+l*(c/g)-(c*m-h*v)/g,f=n.xOrigin=s[0]=u,l=n.yOrigin=s[1]=a),w&&(i||i!==!1&&o.defaultSmoothOrigin!==!1?(u=f-y,a=l-b,w.xOffset+=u*E[0]+a*E[2]-u,w.yOffset+=u*E[1]+a*E[3]-a):w.xOffset=w.yOffset=0),e.setAttribute("data-svg-origin",s.join(" "))},Pt=function(e){return!!(At&&"function"==typeof e.getBBox&&e.getCTM&&(!e.parentNode||e.parentNode.getBBox&&e.parentNode.getCTM))},Ht=[1,0,0,1,0,0],Bt=function(e,t){var n,r,i,s,o,u=e._gsTransform||new Lt,a=1e5;if(Tt?r=K(e,Nt,null,!0):e.currentStyle&&(r=e.currentStyle.filter.match(O),r=r&&4===r.length?[r[0].substr(4),Number(r[2].substr(4)),Number(r[1].substr(4)),r[3].substr(4),u.x||0,u.y||0].join(","):""),n=!r||"none"===r||"matrix(1, 0, 0, 1, 0, 0)"===r,(u.svg||e.getBBox&&Pt(e))&&(n&&-1!==(e.style[Tt]+"").indexOf("matrix")&&(r=e.style[Tt],n=0),i=e.getAttribute("transform"),n&&i&&(-1!==i.indexOf("matrix")?(r=i,n=0):-1!==i.indexOf("translate")&&(r="matrix(1,0,0,1,"+i.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",n=0))),n)return Ht;for(i=(r||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],yt=i.length;--yt>-1;)s=Number(i[yt]),i[yt]=(o=s-(s|=0))?(0|o*a+(0>o?-0.5:.5))/a+s:s;return t&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i},jt=q.getTransform=function(e,n,r,s){if(e._gsTransform&&r&&!s)return e._gsTransform;var u,a,f,l,c,h,p=r?e._gsTransform||new Lt:new Lt,d=0>p.scaleX,v=2e-5,m=1e5,g=kt?parseFloat(K(e,Ct,n,!1,"0 0 0").split(" ")[2])||p.zOrigin||0:0,y=parseFloat(o.defaultTransformPerspective)||0;if(p.svg=!!e.getBBox&&!!Pt(e),p.svg&&(Dt(e,K(e,Ct,i,!1,"50% 50%")+"",p,e.getAttribute("data-svg-origin")),St=o.useSVGTransformAttr||_t),u=Bt(e),u!==Ht){if(16===u.length){var b,w,E,S,x,T=u[0],N=u[1],C=u[2],k=u[3],L=u[4],A=u[5],O=u[6],M=u[7],_=u[8],D=u[9],H=u[10],B=u[12],j=u[13],F=u[14],I=u[11],q=Math.atan2(O,H);p.zOrigin&&(F=-p.zOrigin,B=_*F-u[12],j=D*F-u[13],F=H*F+p.zOrigin-u[14]),p.rotationX=q*P,q&&(S=Math.cos(-q),x=Math.sin(-q),b=L*S+_*x,w=A*S+D*x,E=O*S+H*x,_=L*-x+_*S,D=A*-x+D*S,H=O*-x+H*S,I=M*-x+I*S,L=b,A=w,O=E),q=Math.atan2(_,H),p.rotationY=q*P,q&&(S=Math.cos(-q),x=Math.sin(-q),b=T*S-_*x,w=N*S-D*x,E=C*S-H*x,D=N*x+D*S,H=C*x+H*S,I=k*x+I*S,T=b,N=w,C=E),q=Math.atan2(N,T),p.rotation=q*P,q&&(S=Math.cos(-q),x=Math.sin(-q),T=T*S+L*x,w=N*S+A*x,A=N*-x+A*S,O=C*-x+O*S,N=w),p.rotationX&&Math.abs(p.rotationX)+Math.abs(p.rotation)>359.9&&(p.rotationX=p.rotation=0,p.rotationY+=180),p.scaleX=(0|Math.sqrt(T*T+N*N)*m+.5)/m,p.scaleY=(0|Math.sqrt(A*A+D*D)*m+.5)/m,p.scaleZ=(0|Math.sqrt(O*O+H*H)*m+.5)/m,p.skewX=0,p.perspective=I?1/(0>I?-I:I):0,p.x=B,p.y=j,p.z=F,p.svg&&(p.x-=p.xOrigin-(p.xOrigin*T-p.yOrigin*L),p.y-=p.yOrigin-(p.yOrigin*N-p.xOrigin*A))}else if(!(kt&&!s&&u.length&&p.x===u[4]&&p.y===u[5]&&(p.rotationX||p.rotationY)||void 0!==p.x&&"none"===K(e,"display",n))){var R=u.length>=6,U=R?u[0]:1,z=u[1]||0,W=u[2]||0,X=R?u[3]:1;p.x=u[4]||0,p.y=u[5]||0,f=Math.sqrt(U*U+z*z),l=Math.sqrt(X*X+W*W),c=U||z?Math.atan2(z,U)*P:p.rotation||0,h=W||X?Math.atan2(W,X)*P+c:p.skewX||0,Math.abs(h)>90&&270>Math.abs(h)&&(d?(f*=-1,h+=0>=c?180:-180,c+=0>=c?180:-180):(l*=-1,h+=0>=h?180:-180)),p.scaleX=f,p.scaleY=l,p.rotation=c,p.skewX=h,kt&&(p.rotationX=p.rotationY=p.z=0,p.perspective=y,p.scaleZ=1),p.svg&&(p.x-=p.xOrigin-(p.xOrigin*U+p.yOrigin*W),p.y-=p.yOrigin-(p.xOrigin*z+p.yOrigin*X))}p.zOrigin=g;for(a in p)v>p[a]&&p[a]>-v&&(p[a]=0)}return r&&(e._gsTransform=p,p.svg&&(St&&e.style[Tt]?t.delayedCall(.001,function(){Rt(e.style,Tt)}):!St&&e.getAttribute("transform")&&t.delayedCall(.001,function(){e.removeAttribute("transform")}))),p},Ft=function(e){var t,n,r=this.data,i=-r.rotation*D,s=i+r.skewX*D,o=1e5,u=(0|Math.cos(i)*r.scaleX*o)/o,a=(0|Math.sin(i)*r.scaleX*o)/o,f=(0|Math.sin(s)*-r.scaleY*o)/o,l=(0|Math.cos(s)*r.scaleY*o)/o,c=this.t.style,h=this.t.currentStyle;if(h){n=a,a=-f,f=-n,t=h.filter,c.filter="";var p,d,m=this.t.offsetWidth,g=this.t.offsetHeight,y="absolute"!==h.position,b="progid:DXImageTransform.Microsoft.Matrix(M11="+u+", M12="+a+", M21="+f+", M22="+l,S=r.x+m*r.xPercent/100,x=r.y+g*r.yPercent/100;if(null!=r.ox&&(p=(r.oxp?.01*m*r.ox:r.ox)-m/2,d=(r.oyp?.01*g*r.oy:r.oy)-g/2,S+=p-(p*u+d*a),x+=d-(p*f+d*l)),y?(p=m/2,d=g/2,b+=", Dx="+(p-(p*u+d*a)+S)+", Dy="+(d-(p*f+d*l)+x)+")"):b+=", sizingMethod='auto expand')",c.filter=-1!==t.indexOf("DXImageTransform.Microsoft.Matrix(")?t.replace(M,b):b+" "+t,(0===e||1===e)&&1===u&&0===a&&0===f&&1===l&&(y&&-1===b.indexOf("Dx=0, Dy=0")||E.test(t)&&100!==parseFloat(RegExp.$1)||-1===t.indexOf(t.indexOf("Alpha"))&&c.removeAttribute("filter")),!y){var T,N,C,k=8>v?1:-1;for(p=r.ieOffsetX||0,d=r.ieOffsetY||0,r.ieOffsetX=Math.round((m-((0>u?-u:u)*m+(0>a?-a:a)*g))/2+S),r.ieOffsetY=Math.round((g-((0>l?-l:l)*g+(0>f?-f:f)*m))/2+x),yt=0;4>yt;yt++)N=tt[yt],T=h[N],n=-1!==T.indexOf("px")?parseFloat(T):Q(this.t,N,parseFloat(T),T.replace(w,""))||0,C=n!==r[N]?2>yt?-r.ieOffsetX:-r.ieOffsetY:2>yt?p-r.ieOffsetX:d-r.ieOffsetY,c[N]=(r[N]=Math.round(n-C*(0===yt||2===yt?1:k)))+"px"}}},It=q.set3DTransformRatio=q.setTransformRatio=function(e){var t,n,r,i,s,o,u,a,f,l,c,h,d,v,m,g,y,b,w,E,S,x,T,N=this.data,C=this.t.style,k=N.rotation,L=N.rotationX,A=N.rotationY,O=N.scaleX,M=N.scaleY,_=N.scaleZ,P=N.x,H=N.y,B=N.z,j=N.svg,F=N.perspective,I=N.force3D;if(!((1!==e&&0!==e||"auto"!==I||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&I||B||F||A||L)||!!St&&!!j||!kt)return k||N.skewX||j?(k*=D,x=N.skewX*D,T=1e5,t=Math.cos(k)*O,i=Math.sin(k)*O,n=Math.sin(k-x)*-M,s=Math.cos(k-x)*M,x&&"simple"===N.skewType&&(y=Math.tan(x),y=Math.sqrt(1+y*y),n*=y,s*=y,N.skewY&&(t*=y,i*=y)),j&&(P+=N.xOrigin-(N.xOrigin*t+N.yOrigin*n)+N.xOffset,H+=N.yOrigin-(N.xOrigin*i+N.yOrigin*s)+N.yOffset,St&&(N.xPercent||N.yPercent)&&(v=this.t.getBBox(),P+=.01*N.xPercent*v.width,H+=.01*N.yPercent*v.height),v=1e-6,v>P&&P>-v&&(P=0),v>H&&H>-v&&(H=0)),w=(0|t*T)/T+","+(0|i*T)/T+","+(0|n*T)/T+","+(0|s*T)/T+","+P+","+H+")",j&&St?this.t.setAttribute("transform","matrix("+w):C[Tt]=(N.xPercent||N.yPercent?"translate("+N.xPercent+"%,"+N.yPercent+"%) matrix(":"matrix(")+w):C[Tt]=(N.xPercent||N.yPercent?"translate("+N.xPercent+"%,"+N.yPercent+"%) matrix(":"matrix(")+O+",0,0,"+M+","+P+","+H+")",void 0;if(p&&(v=1e-4,v>O&&O>-v&&(O=_=2e-5),v>M&&M>-v&&(M=_=2e-5),!F||N.z||N.rotationX||N.rotationY||(F=0)),k||N.skewX)k*=D,m=t=Math.cos(k),g=i=Math.sin(k),N.skewX&&(k-=N.skewX*D,m=Math.cos(k),g=Math.sin(k),"simple"===N.skewType&&(y=Math.tan(N.skewX*D),y=Math.sqrt(1+y*y),m*=y,g*=y,N.skewY&&(t*=y,i*=y))),n=-g,s=m;else{if(!(A||L||1!==_||F||j))return C[Tt]=(N.xPercent||N.yPercent?"translate("+N.xPercent+"%,"+N.yPercent+"%) translate3d(":"translate3d(")+P+"px,"+H+"px,"+B+"px)"+(1!==O||1!==M?" scale("+O+","+M+")":""),void 0;t=s=1,n=i=0}f=1,r=o=u=a=l=c=0,h=F?-1/F:0,d=N.zOrigin,v=1e-6,E=",",S="0",k=A*D,k&&(m=Math.cos(k),g=Math.sin(k),u=-g,l=h*-g,r=t*g,o=i*g,f=m,h*=m,t*=m,i*=m),k=L*D,k&&(m=Math.cos(k),g=Math.sin(k),y=n*m+r*g,b=s*m+o*g,a=f*g,c=h*g,r=n*-g+r*m,o=s*-g+o*m,f*=m,h*=m,n=y,s=b),1!==_&&(r*=_,o*=_,f*=_,h*=_),1!==M&&(n*=M,s*=M,a*=M,c*=M),1!==O&&(t*=O,i*=O,u*=O,l*=O),(d||j)&&(d&&(P+=r*-d,H+=o*-d,B+=f*-d+d),j&&(P+=N.xOrigin-(N.xOrigin*t+N.yOrigin*n)+N.xOffset,H+=N.yOrigin-(N.xOrigin*i+N.yOrigin*s)+N.yOffset),v>P&&P>-v&&(P=S),v>H&&H>-v&&(H=S),v>B&&B>-v&&(B=0)),w=N.xPercent||N.yPercent?"translate("+N.xPercent+"%,"+N.yPercent+"%) matrix3d(":"matrix3d(",w+=(v>t&&t>-v?S:t)+E+(v>i&&i>-v?S:i)+E+(v>u&&u>-v?S:u),w+=E+(v>l&&l>-v?S:l)+E+(v>n&&n>-v?S:n)+E+(v>s&&s>-v?S:s),L||A?(w+=E+(v>a&&a>-v?S:a)+E+(v>c&&c>-v?S:c)+E+(v>r&&r>-v?S:r),w+=E+(v>o&&o>-v?S:o)+E+(v>f&&f>-v?S:f)+E+(v>h&&h>-v?S:h)+E):w+=",0,0,0,0,1,0,",w+=P+E+H+E+B+E+(F?1+ -B/F:1)+")",C[Tt]=w};f=Lt.prototype,f.x=f.y=f.z=f.skewX=f.skewY=f.rotation=f.rotationX=f.rotationY=f.zOrigin=f.xPercent=f.yPercent=f.xOffset=f.yOffset=0,f.scaleX=f.scaleY=f.scaleZ=1,wt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(e,t,n,r,s,u,a){if(r._lastParsedTransform===a)return s;r._lastParsedTransform=a;var f,l,c,h,p,d,v,m,g,y,b=e._gsTransform,w=e.style,E=1e-6,S=xt.length,x=a,T={},N="transformOrigin";if(a.display?(h=K(e,"display"),w.display="block",f=jt(e,i,!0,a.parseTransform),w.display=h):f=jt(e,i,!0,a.parseTransform),r._transform=f,"string"==typeof x.transform&&Tt)h=F.style,h[Tt]=x.transform,h.display="block",h.position="absolute",B.body.appendChild(F),l=jt(F,null,!1),B.body.removeChild(F),l.perspective||(l.perspective=f.perspective),null!=x.xPercent&&(l.xPercent=st(x.xPercent,f.xPercent)),null!=x.yPercent&&(l.yPercent=st(x.yPercent,f.yPercent));else if("object"==typeof x){if(l={scaleX:st(null!=x.scaleX?x.scaleX:x.scale,f.scaleX),scaleY:st(null!=x.scaleY?x.scaleY:x.scale,f.scaleY),scaleZ:st(x.scaleZ,f.scaleZ),x:st(x.x,f.x),y:st(x.y,f.y),z:st(x.z,f.z),xPercent:st(x.xPercent,f.xPercent),yPercent:st(x.yPercent,f.yPercent),perspective:st(x.transformPerspective,f.perspective)},m=x.directionalRotation,null!=m)if("object"==typeof m)for(h in m)x[h]=m[h];else x.rotation=m;"string"==typeof x.x&&-1!==x.x.indexOf("%")&&(l.x=0,l.xPercent=st(x.x,f.xPercent)),"string"==typeof x.y&&-1!==x.y.indexOf("%")&&(l.y=0,l.yPercent=st(x.y,f.yPercent)),l.rotation=ot("rotation"in x?x.rotation:"shortRotation"in x?x.shortRotation+"_short":"rotationZ"in x?x.rotationZ:f.rotation,f.rotation,"rotation",T),kt&&(l.rotationX=ot("rotationX"in x?x.rotationX:"shortRotationX"in x?x.shortRotationX+"_short":f.rotationX||0,f.rotationX,"rotationX",T),l.rotationY=ot("rotationY"in x?x.rotationY:"shortRotationY"in x?x.shortRotationY+"_short":f.rotationY||0,f.rotationY,"rotationY",T)),l.skewX=null==x.skewX?f.skewX:ot(x.skewX,f.skewX),l.skewY=null==x.skewY?f.skewY:ot(x.skewY,f.skewY),(c=l.skewY-f.skewY)&&(l.skewX+=c,l.rotation+=c)}for(kt&&null!=x.force3D&&(f.force3D=x.force3D,v=!0),f.skewType=x.skewType||f.skewType||o.defaultSkewType,d=f.force3D||f.z||f.rotationX||f.rotationY||l.z||l.rotationX||l.rotationY||l.perspective,d||null==x.scale||(l.scaleZ=1);--S>-1;)n=xt[S],p=l[n]-f[n],(p>E||-E>p||null!=x[n]||null!=H[n])&&(v=!0,s=new vt(f,n,f[n],p,s),n in T&&(s.e=T[n]),s.xs0=0,s.plugin=u,r._overwriteProps.push(s.n));return p=x.transformOrigin,f.svg&&(p||x.svgOrigin)&&(g=f.xOffset,y=f.yOffset,Dt(e,rt(p),l,x.svgOrigin,x.smoothOrigin),s=mt(f,"xOrigin",(b?f:l).xOrigin,l.xOrigin,s,N),s=mt(f,"yOrigin",(b?f:l).yOrigin,l.yOrigin,s,N),(g!==f.xOffset||y!==f.yOffset)&&(s=mt(f,"xOffset",b?g:f.xOffset,f.xOffset,s,N),s=mt(f,"yOffset",b?y:f.yOffset,f.yOffset,s,N)),p=St?null:"0px 0px"),(p||kt&&d&&f.zOrigin)&&(Tt?(v=!0,n=Ct,p=(p||K(e,n,i,!1,"50% 50%"))+"",s=new vt(w,n,0,0,s,-1,N),s.b=w[n],s.plugin=u,kt?(h=f.zOrigin,p=p.split(" "),f.zOrigin=(p.length>2&&(0===h||"0px"!==p[2])?parseFloat(p[2]):h)||0,s.xs0=s.e=p[0]+" "+(p[1]||"50%")+" 0px",s=new vt(f,"zOrigin",0,0,s,-1,s.n),s.b=h,s.xs0=s.e=f.zOrigin):s.xs0=s.e=p):rt(p+"",f)),v&&(r._transformType=f.svg&&St||!d&&3!==this._transformType?2:3),s},prefix:!0}),wt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),wt("borderRadius",{defaultValue:"0px",parser:function(e,t,n,s,o){t=this.format(t);var u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],T=e.style;for(v=parseFloat(e.offsetWidth),m=parseFloat(e.offsetHeight),u=t.split(" "),a=0;x.length>a;a++)this.p.indexOf("border")&&(x[a]=$(x[a])),c=l=K(e,x[a],i,!1,"0px"),-1!==c.indexOf(" ")&&(l=c.split(" "),c=l[0],l=l[1]),h=f=u[a],p=parseFloat(c),y=c.substr((p+"").length),b="="===h.charAt(1),b?(d=parseInt(h.charAt(0)+"1",10),h=h.substr(2),d*=parseFloat(h),g=h.substr((d+"").length-(0>d?1:0))||""):(d=parseFloat(h),g=h.substr((d+"").length)),""===g&&(g=r[n]||y),g!==y&&(w=Q(e,"borderLeft",p,y),E=Q(e,"borderTop",p,y),"%"===g?(c=100*(w/v)+"%",l=100*(E/m)+"%"):"em"===g?(S=Q(e,"borderLeft",1,"em"),c=w/S+"em",l=E/S+"em"):(c=w+"px",l=E+"px"),b&&(h=parseFloat(c)+d+g,f=parseFloat(l)+d+g)),o=gt(T,x[a],c+" "+l,h+" "+f,!1,"0px",o);return o},prefix:!0,formatter:ht("0px 0px 0px 0px",!1,!0)}),wt("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,n,r,s,o){var u,a,f,l,c,h,p="background-position",d=i||J(e,null),m=this.format((d?v?d.getPropertyValue(p+"-x")+" "+d.getPropertyValue(p+"-y"):d.getPropertyValue(p):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),g=this.format(t);if(-1!==m.indexOf("%")!=(-1!==g.indexOf("%"))&&(h=K(e,"backgroundImage").replace(k,""),h&&"none"!==h)){for(u=m.split(" "),a=g.split(" "),I.setAttribute("src",h),f=2;--f>-1;)m=u[f],l=-1!==m.indexOf("%"),l!==(-1!==a[f].indexOf("%"))&&(c=0===f?e.offsetWidth-I.width:e.offsetHeight-I.height,u[f]=l?parseFloat(m)/100*c+"px":100*(parseFloat(m)/c)+"%");m=u.join(" ")}return this.parseComplex(e.style,m,g,s,o)},formatter:rt}),wt("backgroundSize",{defaultValue:"0 0",formatter:rt}),wt("perspective",{defaultValue:"0px",prefix:!0}),wt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),wt("transformStyle",{prefix:!0}),wt("backfaceVisibility",{prefix:!0}),wt("userSelect",{prefix:!0}),wt("margin",{parser:pt("marginTop,marginRight,marginBottom,marginLeft")}),wt("padding",{parser:pt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),wt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,n,r,s,o){var u,a,f;return 9>v?(a=e.currentStyle,f=8>v?" ":",",u="rect("+a.clipTop+f+a.clipRight+f+a.clipBottom+f+a.clipLeft+")",t=this.format(t).split(",").join(f)):(u=this.format(K(e,this.p,i,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,u,t,s,o)}}),wt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),wt("autoRound,strictUnits",{parser:function(e,t,n,r,i){return i}}),wt("border",{defaultValue:"0px solid #000",parser:function(e,t,n,r,s,o){return this.parseComplex(e.style,this.format(K(e,"borderTopWidth",i,!1,"0px")+" "+K(e,"borderTopStyle",i,!1,"solid")+" "+K(e,"borderTopColor",i,!1,"#000")),this.format(t),s,o)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(ct)||["#000"])[0]}}),wt("borderWidth",{parser:pt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),wt("float,cssFloat,styleFloat",{parser:function(e,t,n,r,i){var s=e.style,o="cssFloat"in s?"cssFloat":"styleFloat";return new vt(s,o,0,0,i,-1,n,!1,0,s[o],t)}});var qt=function(e){var t,n=this.t,r=n.filter||K(this.data,"filter")||"",i=0|this.s+this.c*e;100===i&&(-1===r.indexOf("atrix(")&&-1===r.indexOf("radient(")&&-1===r.indexOf("oader(")?(n.removeAttribute("filter"),t=!K(this.data,"filter")):(n.filter=r.replace(x,""),t=!0)),t||(this.xn1&&(n.filter=r=r||"alpha(opacity="+i+")"),-1===r.indexOf("pacity")?0===i&&this.xn1||(n.filter=r+" alpha(opacity="+i+")"):n.filter=r.replace(E,"opacity="+i))};wt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,n,r,s,o){var u=parseFloat(K(e,"opacity",i,!1,"1")),a=e.style,f="autoAlpha"===n;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+u),f&&1===u&&"hidden"===K(e,"visibility",i)&&0!==t&&(u=0),U?s=new vt(a,"opacity",u,t-u,s):(s=new vt(a,"opacity",100*u,100*(t-u),s),s.xn1=f?1:0,a.zoom=1,s.type=2,s.b="alpha(opacity="+s.s+")",s.e="alpha(opacity="+(s.s+s.c)+")",s.data=e,s.plugin=o,s.setRatio=qt),f&&(s=new vt(a,"visibility",0,0,s,-1,null,!1,0,0!==u?"inherit":"hidden",0===t?"hidden":"inherit"),s.xs0="inherit",r._overwriteProps.push(s.n),r._overwriteProps.push(n)),s}});var Rt=function(e,t){t&&(e.removeProperty?(("ms"===t.substr(0,2)||"webkit"===t.substr(0,6))&&(t="-"+t),e.removeProperty(t.replace(N,"-$1").toLowerCase())):e.removeAttribute(t))},Ut=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.setAttribute("class",0===e?this.b:this.e);for(var t=this.data,n=this.t.style;t;)t.v?n[t.p]=t.v:Rt(n,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};wt("className",{parser:function(e,t,r,s,o,u,a){var f,l,c,h,p,d=e.getAttribute("class")||"",v=e.style.cssText;if(o=s._classNamePT=new vt(e,r,0,0,o,2),o.setRatio=Ut,o.pr=-11,n=!0,o.b=d,l=Y(e,i),c=e._gsClassPT){for(h={},p=c.data;p;)h[p.p]=1,p=p._next;c.setRatio(1)}return e._gsClassPT=o,o.e="="!==t.charAt(1)?t:d.replace(RegExp("\\s*\\b"+t.substr(2)+"\\b"),"")+("+"===t.charAt(0)?" "+t.substr(2):""),e.setAttribute("class",o.e),f=Z(e,l,Y(e),a,h),e.setAttribute("class",d),o.data=f.firstMPT,e.style.cssText=v,o=o.xfirst=s.parse(e,f.difs,o,u)}});var zt=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var t,n,r,i,s,o=this.t.style,u=a.transform.parse;if("all"===this.e)o.cssText="",i=!0;else for(t=this.e.split(" ").join("").split(","),r=t.length;--r>-1;)n=t[r],a[n]&&(a[n].parse===u?i=!0:n="transformOrigin"===n?Ct:a[n].p),Rt(o,n);i&&(Rt(o,Tt),s=this.t._gsTransform,s&&(s.svg&&this.t.removeAttribute("data-svg-origin"),delete this.t._gsTransform))}};for(wt("clearProps",{parser:function(e,t,r,i,s){return s=new vt(e,r,0,0,s,2),s.setRatio=zt,s.e=t,s.pr=-10,s.data=i._tween,n=!0,s}}),f="bezier,throwProps,physicsProps,physics2D".split(","),yt=f.length;yt--;)Et(f[yt]);f=o.prototype,f._firstPT=f._lastParsedTransform=f._transform=null,f._onInitTween=function(e,t,u){if(!e.nodeType)return!1;this._target=e,this._tween=u,this._vars=t,l=t.autoRound,n=!1,r=t.suffixMap||o.suffixMap,i=J(e,""),s=this._overwriteProps;var f,p,v,m,g,y,b,w,E,x=e.style;if(c&&""===x.zIndex&&(f=K(e,"zIndex",i),("auto"===f||""===f)&&this._addLazySet(x,"zIndex",0)),"string"==typeof t&&(m=x.cssText,f=Y(e,i),x.cssText=m+";"+t,f=Z(e,f,Y(e)).difs,!U&&S.test(t)&&(f.opacity=parseFloat(RegExp.$1)),t=f,x.cssText=m),this._firstPT=p=t.className?a.className.parse(e,t.className,"className",this,null,null,t):this.parse(e,t,null),this._transformType){for(E=3===this._transformType,Tt?h&&(c=!0,""===x.zIndex&&(b=K(e,"zIndex",i),("auto"===b||""===b)&&this._addLazySet(x,"zIndex",0)),d&&this._addLazySet(x,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(E?"visible":"hidden"))):x.zoom=1,v=p;v&&v._next;)v=v._next;w=new vt(e,"transform",0,0,null,2),this._linkCSSP(w,null,v),w.setRatio=Tt?It:Ft,w.data=this._transform||jt(e,i,!0),w.tween=u,w.pr=-1,s.pop()}if(n){for(;p;){for(y=p._next,v=m;v&&v.pr>p.pr;)v=v._next;(p._prev=v?v._prev:g)?p._prev._next=p:m=p,(p._next=v)?v._prev=p:g=p,p=y}this._firstPT=m}return!0},f.parse=function(e,t,n,s){var o,u,f,c,h,p,d,v,m,g,y=e.style;for(o in t)p=t[o],u=a[o],u?n=u.parse(e,p,o,this,n,s,t):(h=K(e,o,i)+"",m="string"==typeof p,"color"===o||"fill"===o||"stroke"===o||-1!==o.indexOf("Color")||m&&T.test(p)?(m||(p=ft(p),p=(p.length>3?"rgba(":"rgb(")+p.join(",")+")"),n=gt(y,o,h,p,!0,"transparent",n,0,s)):!m||-1===p.indexOf(" ")&&-1===p.indexOf(",")?(f=parseFloat(h),d=f||0===f?h.substr((f+"").length):"",(""===h||"auto"===h)&&("width"===o||"height"===o?(f=nt(e,o,i),d="px"):"left"===o||"top"===o?(f=G(e,o,i),d="px"):(f="opacity"!==o?0:1,d="")),g=m&&"="===p.charAt(1),g?(c=parseInt(p.charAt(0)+"1",10),p=p.substr(2),c*=parseFloat(p),v=p.replace(w,"")):(c=parseFloat(p),v=m?p.replace(w,""):""),""===v&&(v=o in r?r[o]:d),p=c||0===c?(g?c+f:c)+v:t[o],d!==v&&""!==v&&(c||0===c)&&f&&(f=Q(e,o,f,d),"%"===v?(f/=Q(e,o,100,"%")/100,t.strictUnits!==!0&&(h=f+"%")):"em"===v||"rem"===v?f/=Q(e,o,1,v):"px"!==v&&(c=Q(e,o,c,v),v="px"),g&&(c||0===c)&&(p=c+f+v)),g&&(c+=f),!f&&0!==f||!c&&0!==c?void 0!==y[o]&&(p||"NaN"!=p+""&&null!=p)?(n=new vt(y,o,c||f||0,0,n,-1,o,!1,0,h,p),n.xs0="none"!==p||"display"!==o&&-1===o.indexOf("Style")?p:h):W("invalid "+o+" tween value: "+t[o]):(n=new vt(y,o,f,c-f,n,0,o,l!==!1&&("px"===v||"zIndex"===o),0,h,p),n.xs0=v)):n=gt(y,o,h,p,!0,null,n,0,s)),s&&n&&!n.plugin&&(n.plugin=s);return n},f.setRatio=function(e){var t,n,r,i=this._firstPT,s=1e-6;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-0.000001)for(;i;){if(t=i.c*e+i.s,i.r?t=Math.round(t):s>t&&t>-s&&(t=0),i.type)if(1===i.type)if(r=i.l,2===r)i.t[i.p]=i.xs0+t+i.xs1+i.xn1+i.xs2;else if(3===r)i.t[i.p]=i.xs0+t+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3;else if(4===r)i.t[i.p]=i.xs0+t+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3+i.xn3+i.xs4;else if(5===r)i.t[i.p]=i.xs0+t+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3+i.xn3+i.xs4+i.xn4+i.xs5;else{for(n=i.xs0+t+i.xs1,r=1;i.l>r;r++)n+=i["xn"+r]+i["xs"+(r+1)];i.t[i.p]=n}else-1===i.type?i.t[i.p]=i.xs0:i.setRatio&&i.setRatio(e);else i.t[i.p]=t+i.xs0;i=i._next}else for(;i;)2!==i.type?i.t[i.p]=i.b:i.setRatio(e),i=i._next;else for(;i;){if(2!==i.type)if(i.r&&-1!==i.type)if(t=Math.round(i.s+i.c),i.type){if(1===i.type){for(r=i.l,n=i.xs0+t+i.xs1,r=1;i.l>r;r++)n+=i["xn"+r]+i["xs"+(r+1)];i.t[i.p]=n}}else i.t[i.p]=t+i.xs0;else i.t[i.p]=i.e;else i.setRatio(e);i=i._next}},f._enableTransforms=function(e){this._transform=this._transform||jt(this._target,i,!0),this._transformType=this._transform.svg&&St||!e&&3!==this._transformType?2:3};var Wt=function(){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};f._addLazySet=function(e,t,n){var r=this._firstPT=new vt(e,t,0,0,this._firstPT,2);r.e=n,r.setRatio=Wt,r.data=this},f._linkCSSP=function(e,t,n,r){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,r=!0),n?n._next=e:r||null!==this._firstPT||(this._firstPT=e),e._next=t,e._prev=n),e},f._kill=function(t){var n,r,i,s=t;if(t.autoAlpha||t.alpha){s={};for(r in t)s[r]=t[r];s.opacity=1,s.autoAlpha&&(s.visibility=1)}return t.className&&(n=this._classNamePT)&&(i=n.xfirst,i&&i._prev?this._linkCSSP(i._prev,n._next,i._prev._prev):i===this._firstPT&&(this._firstPT=n._next),n._next&&this._linkCSSP(n._next,n._next._next,i._prev),this._classNamePT=null),e.prototype._kill.call(this,s)};var Xt=function(e,t,n){var r,i,s,o;if(e.slice)for(i=e.length;--i>-1;)Xt(e[i],t,n);else for(r=e.childNodes,i=r.length;--i>-1;)s=r[i],o=s.type,s.style&&(t.push(Y(s)),n&&n.push(s)),1!==o&&9!==o&&11!==o||!s.childNodes.length||Xt(s,t,n)};return o.cascadeTo=function(e,n,r){var i,s,o,u,a=t.to(e,n,r),f=[a],l=[],c=[],h=[],p=t._internals.reservedProps;for(e=a._targets||a.target,Xt(e,l,h),a.render(n,!0,!0),Xt(e,c),a.render(0,!0,!0),a._enabled(!0),i=h.length;--i>-1;)if(s=Z(h[i],l[i],c[i]),s.firstMPT){s=s.difs;for(o in r)p[o]&&(s[o]=r[o]);u={};for(o in s)u[o]=l[i][o];f.push(t.fromTo(h[i],n,u,s))}return f},e.activate([o]),o},!0),function(){var e=_gsScope._gsDefine.plugin({propName:"roundProps",version:"1.5",priority:-1,API:2,init:function(e,t,n){return this._tween=n,!0}}),t=function(e){for(;e;)e.f||e.blob||(e.r=1),e=e._next},n=e.prototype;n._onInitAllProps=function(){for(var e,n,r,i=this._tween,s=i.vars.roundProps.join?i.vars.roundProps:i.vars.roundProps.split(","),o=s.length,u={},a=i._propLookup.roundProps;--o>-1;)u[s[o]]=1;for(o=s.length;--o>-1;)for(e=s[o],n=i._firstPT;n;)r=n._next,n.pg?n.t._roundProps(u,!0):n.n===e&&(2===n.f&&n.t?t(n.t._firstPT):(this._add(n.t,e,n.s,n.c),r&&(r._prev=n._prev),n._prev?n._prev._next=r:i._firstPT===n&&(i._firstPT=r),n._next=n._prev=null,i._propLookup[e]=a)),n=r;return!1},n._add=function(e,t,n,r){this._addTween(e,t,n,n+r,t,!0),this._overwriteProps.push(t)}}(),function(){_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.5.0",init:function(e,t){var n;if("function"!=typeof e.setAttribute)return!1;for(n in t)this._addTween(e,"setAttribute",e.getAttribute(n)+"",t[n]+"",n,!1,n),this._overwriteProps.push(n);return!0}})}(),_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.2.1",API:2,init:function(e,t){"object"!=typeof t&&(t={rotation:t}),this.finals={};var n,r,i,s,o,u,a=t.useRadians===!0?2*Math.PI:360,f=1e-6;for(n in t)"useRadians"!==n&&(u=(t[n]+"").split("_"),r=u[0],i=parseFloat("function"!=typeof e[n]?e[n]:e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)]()),s=this.finals[n]="string"==typeof r&&"="===r.charAt(1)?i+parseInt(r.charAt(0)+"1",10)*Number(r.substr(2)):Number(r)||0,o=s-i,u.length&&(r=u.join("_"),-1!==r.indexOf("short")&&(o%=a,o!==o%(a/2)&&(o=0>o?o+a:o-a)),-1!==r.indexOf("_cw")&&0>o?o=(o+9999999999*a)%a-(0|o/a)*a:-1!==r.indexOf("ccw")&&o>0&&(o=(o-9999999999*a)%a-(0|o/a)*a)),(o>f||-f>o)&&(this._addTween(e,n,i,i+o,n),this._overwriteProps.push(n)));return!0},set:function(e){var t;if(1!==e)this._super.setRatio.call(this,e);else for(t=this._firstPT;t;)t.f?t.t[t.p](this.finals[t.p]):t.t[t.p]=this.finals[t.p],t=t._next}})._autoCSS=!0,_gsScope._gsDefine("easing.Back",["easing.Ease"],function(e){var t,n,r,i=_gsScope.GreenSockGlobals||_gsScope,s=i.com.greensock,o=2*Math.PI,u=Math.PI/2,a=s._class,f=function(t,n){var r=a("easing."+t,function(){},!0),i=r.prototype=new e;return i.constructor=r,i.getRatio=n,r},l=e.register||function(){},c=function(e,t,n,r){var i=a("easing."+e,{easeOut:new t,easeIn:new n,easeInOut:new r},!0);return l(i,e),i},h=function(e,t,n){this.t=e,this.v=t,n&&(this.next=n,n.prev=this,this.c=n.v-t,this.gap=n.t-e)},p=function(t,n){var r=a("easing."+t,function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1},!0),i=r.prototype=new e;return i.constructor=r,i.getRatio=n,i.config=function(e){return new r(e)},r},d=c("Back",p("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),p("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),p("BackInOut",function(e){return 1>(e*=2)?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),v=a("easing.SlowMo",function(e,t,n){t=t||0===t?t:.7,null==e?e=.7:e>1&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=n===!0},!0),m=v.prototype=new e;return m.constructor=v,m.getRatio=function(e){var t=e+(.5-e)*this._p;return this._p1>e?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},v.ease=new v(.7,.7),m.config=v.config=function(e,t,n){return new v(e,t,n)},t=a("easing.SteppedEase",function(e){e=e||1,this._p1=1/e,this._p2=e+1},!0),m=t.prototype=new e,m.constructor=t,m.getRatio=function(e){return 0>e?e=0:e>=1&&(e=.999999999),(this._p2*e>>0)*this._p1},m.config=t.config=function(e){return new t(e)},n=a("easing.RoughEase",function(t){t=t||{};for(var n,r,i,s,o,u,a=t.taper||"none",f=[],l=0,c=0|(t.points||20),p=c,d=t.randomize!==!1,v=t.clamp===!0,m=t.template instanceof e?t.template:null,g="number"==typeof t.strength?.4*t.strength:.4;--p>-1;)n=d?Math.random():1/c*p,r=m?m.getRatio(n):n,"none"===a?i=g:"out"===a?(s=1-n,i=s*s*g):"in"===a?i=n*n*g:.5>n?(s=2*n,i=.5*s*s*g):(s=2*(1-n),i=.5*s*s*g),d?r+=Math.random()*i-.5*i:p%2?r+=.5*i:r-=.5*i,v&&(r>1?r=1:0>r&&(r=0)),f[l++]={x:n,y:r};for(f.sort(function(e,t){return e.x-t.x}),u=new h(1,1,null),p=c;--p>-1;)o=f[p],u=new h(o.x,o.y,u);this._prev=new h(0,0,0!==u.t?u:u.next)},!0),m=n.prototype=new e,m.constructor=n,m.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&t.t>=e;)t=t.prev;return this._prev=t,t.v+(e-t.t)/t.gap*t.c},m.config=function(e){return new n(e)},n.ease=new n,c("Bounce",f("BounceOut",function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),f("BounceIn",function(e){return 1/2.75>(e=1-e)?1-7.5625*e*e:2/2.75>e?1-(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),f("BounceInOut",function(e){var t=.5>e;return e=t?1-2*e:2*e-1,e=1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5})),c("Circ",f("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),f("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),f("CircInOut",function(e){return 1>(e*=2)?-0.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)})),r=function(t,n,r){var i=a("easing."+t,function(e,t){this._p1=e>=1?e:1,this._p2=(t||r)/(1>e?e:1),this._p3=this._p2/o*(Math.asin(1/this._p1)||0),this._p2=o/this._p2},!0),s=i.prototype=new e;return s.constructor=i,s.getRatio=n,s.config=function(e,t){return new i(e,t)},i},c("Elastic",r("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*this._p2)+1},.3),r("ElasticIn",function(e){return-(this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2))},.3),r("ElasticInOut",function(e){return 1>(e*=2)?-0.5*this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2):.5*this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*this._p2)+1},.45)),c("Expo",f("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),f("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),f("ExpoInOut",function(e){return 1>(e*=2)?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))})),c("Sine",f("SineOut",function(e){return Math.sin(e*u)}),f("SineIn",function(e){return-Math.cos(e*u)+1}),f("SineInOut",function(e){return-0.5*(Math.cos(Math.PI*e)-1)})),a("easing.EaseLookup",{find:function(t){return e.map[t]}},!0),l(i.SlowMo,"SlowMo","ease,"),l(n,"RoughEase","ease,"),l(t,"SteppedEase","ease,"),d},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(e,t){"use strict";var n=e.GreenSockGlobals=e.GreenSockGlobals||e;if(!n.TweenLite){var r,i,s,o,u,a=function(e){var t,r=e.split("."),i=n;for(t=0;r.length>t;t++)i[r[t]]=i=i[r[t]]||{};return i},f=a("com.greensock"),l=1e-10,c=function(e){var t,n=[],r=e.length;for(t=0;t!==r;n.push(e[t++]));return n},h=function(){},p=function(){var e=Object.prototype.toString,t=e.call([]);return function(n){return null!=n&&(n instanceof Array||"object"==typeof n&&!!n.push&&e.call(n)===t)}}(),d={},v=function(r,i,s,o){this.sc=d[r]?d[r].sc:[],d[r]=this,this.gsClass=null,this.func=s;var u=[];this.check=function(f){for(var l,c,h,p,m,g=i.length,y=g;--g>-1;)(l=d[i[g]]||new v(i[g],[])).gsClass?(u[g]=l.gsClass,y--):f&&l.sc.push(this);if(0===y&&s)for(c=("com.greensock."+r).split("."),h=c.pop(),p=a(c.join("."))[h]=this.gsClass=s.apply(s,u),o&&(n[h]=p,m="undefined"!=typeof module&&module.exports,!m&&"function"==typeof define&&define.amd?define((e.GreenSockAMDPath?e.GreenSockAMDPath+"/":"")+r.split(".").pop(),[],function(){return p}):r===t&&m&&(module.exports=p)),g=0;this.sc.length>g;g++)this.sc[g].check()},this.check(!0)},m=e._gsDefine=function(e,t,n,r){return new v(e,t,n,r)},g=f._class=function(e,t,n){return t=t||function(){},m(e,[],function(){return t},n),t};m.globals=n;var y=[0,0,1,1],b=[],w=g("easing.Ease",function(e,t,n,r){this._func=e,this._type=n||0,this._power=r||0,this._params=t?y.concat(t):y},!0),E=w.map={},S=w.register=function(e,t,n,r){for(var i,s,o,u,a=t.split(","),l=a.length,c=(n||"easeIn,easeOut,easeInOut").split(",");--l>-1;)for(s=a[l],i=r?g("easing."+s,null,!0):f.easing[s]||{},o=c.length;--o>-1;)u=c[o],E[s+"."+u]=E[u+s]=i[u]=e.getRatio?e:e[u]||new e};for(s=w.prototype,s._calcEnd=!1,s.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,n=this._power,r=1===t?1-e:2===t?e:.5>e?2*e:2*(1-e);return 1===n?r*=r:2===n?r*=r*r:3===n?r*=r*r*r:4===n&&(r*=r*r*r*r),1===t?1-r:2===t?r:.5>e?r/2:1-r/2},r=["Linear","Quad","Cubic","Quart","Quint,Strong"],i=r.length;--i>-1;)s=r[i]+",Power"+i,S(new w(null,null,1,i),s,"easeOut",!0),S(new w(null,null,2,i),s,"easeIn"+(0===i?",easeNone":"")),S(new w(null,null,3,i),s,"easeInOut");E.linear=f.easing.Linear.easeIn,E.swing=f.easing.Quad.easeInOut;var x=g("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});s=x.prototype,s.addEventListener=function(e,t,n,r,i){i=i||0;var s,a,f=this._listeners[e],l=0;for(null==f&&(this._listeners[e]=f=[]),a=f.length;--a>-1;)s=f[a],s.c===t&&s.s===n?f.splice(a,1):0===l&&i>s.pr&&(l=a+1);f.splice(l,0,{c:t,s:n,up:r,pr:i}),this!==o||u||o.wake()},s.removeEventListener=function(e,t){var n,r=this._listeners[e];if(r)for(n=r.length;--n>-1;)if(r[n].c===t)return r.splice(n,1),void 0},s.dispatchEvent=function(e){var t,n,r,i=this._listeners[e];if(i)for(t=i.length,n=this._eventTarget;--t>-1;)r=i[t],r&&(r.up?r.c.call(r.s||n,{type:e,target:n}):r.c.call(r.s||n))};var T=e.requestAnimationFrame,N=e.cancelAnimationFrame,C=Date.now||function(){return(new Date).getTime()},k=C();for(r=["ms","moz","webkit","o"],i=r.length;--i>-1&&!T;)T=e[r[i]+"RequestAnimationFrame"],N=e[r[i]+"CancelAnimationFrame"]||e[r[i]+"CancelRequestAnimationFrame"];g("Ticker",function(e,t){var n,r,i,s,a,f=this,c=C(),p=t!==!1&&T,d=500,v=33,m="tick",g=function(e){var t,o,u=C()-k;u>d&&(c+=u-v),k+=u,f.time=(k-c)/1e3,t=f.time-a,(!n||t>0||e===!0)&&(f.frame++,a+=t+(t>=s?.004:s-t),o=!0),e!==!0&&(i=r(g)),o&&f.dispatchEvent(m)};x.call(f),f.time=f.frame=0,f.tick=function(){g(!0)},f.lagSmoothing=function(e,t){d=e||1/l,v=Math.min(t,d,0)},f.sleep=function(){null!=i&&(p&&N?N(i):clearTimeout(i),r=h,i=null,f===o&&(u=!1))},f.wake=function(){null!==i?f.sleep():f.frame>10&&(k=C()-d+5),r=0===n?h:p&&T?T:function(e){return setTimeout(e,0|1e3*(a-f.time)+1)},f===o&&(u=!0),g(2)},f.fps=function(e){return arguments.length?(n=e,s=1/(n||60),a=this.time+s,f.wake(),void 0):n},f.useRAF=function(e){return arguments.length?(f.sleep(),p=e,f.fps(n),void 0):p},f.fps(e),setTimeout(function(){p&&5>f.frame&&f.useRAF(!1)},1500)}),s=f.Ticker.prototype=new f.events.EventDispatcher,s.constructor=f.Ticker;var L=g("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=t.immediateRender===!0,this.data=t.data,this._reversed=t.reversed===!0,$){u||o.wake();var n=this.vars.useFrames?V:$;n.add(this,n._time),this.vars.paused&&this.paused(!0)}});o=L.ticker=new f.Ticker,s=L.prototype,s._dirty=s._gc=s._initted=s._paused=!1,s._totalTime=s._time=0,s._rawPrevTime=-1,s._next=s._last=s._onUpdate=s._timeline=s.timeline=null,s._paused=!1;var A=function(){u&&C()-k>2e3&&o.wake(),setTimeout(A,2e3)};A(),s.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},s.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},s.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},s.seek=function(e,t){return this.totalTime(Number(e),t!==!1)},s.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,t!==!1,!0)},s.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},s.render=function(){},s.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},s.isActive=function(){var e,t=this._timeline,n=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime())>=n&&n+this.totalDuration()/this._timeScale>e},s._enabled=function(e,t){return u||o.wake(),this._gc=!e,this._active=this.isActive(),t!==!0&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},s._kill=function(){return this._enabled(!1,!1)},s.kill=function(e,t){return this._kill(e,t),this},s._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},s._swapSelfInParams=function(e){for(var t=e.length,n=e.concat();--t>-1;)"{self}"===e[t]&&(n[t]=this);return n},s._callback=function(e){var t=this.vars;t[e].apply(t[e+"Scope"]||t.callbackScope||this,t[e+"Params"]||b)},s.eventCallback=function(e,t,n,r){if("on"===(e||"").substr(0,2)){var i=this.vars;if(1===arguments.length)return i[e];null==t?delete i[e]:(i[e]=t,i[e+"Params"]=p(n)&&-1!==n.join("").indexOf("{self}")?this._swapSelfInParams(n):n,i[e+"Scope"]=r),"onUpdate"===e&&(this._onUpdate=t)}return this},s.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},s.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},s.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},s.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},s.totalTime=function(e,t,n){if(u||o.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>e&&!n&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,i=this._timeline;if(e>r&&!n&&(e=r),this._startTime=(this._paused?this._pauseTime:i._time)-(this._reversed?r-e:e)/this._timeScale,i._dirty||this._uncache(!1),i._timeline)for(;i._timeline;)i._timeline._time!==(i._startTime+i._totalTime)/i._timeScale&&i.totalTime(i._totalTime,!0),i=i._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==e||0===this._duration)&&(P.length&&K(),this.render(e,t,!1),P.length&&K())}return this},s.progress=s.totalProgress=function(e,t){var n=this.duration();return arguments.length?this.totalTime(n*e,t):n?this._time/n:this.ratio},s.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},s.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},s.timeScale=function(e){if(!arguments.length)return this._timeScale;if(e=e||l,this._timeline&&this._timeline.smoothChildTiming){var t=this._pauseTime,n=t||0===t?t:this._timeline.totalTime();this._startTime=n-(n-this._startTime)*this._timeScale/e}return this._timeScale=e,this._uncache(!1)},s.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},s.paused=function(e){if(!arguments.length)return this._paused;var t,n,r=this._timeline;return e!=this._paused&&r&&(u||e||o.wake(),t=r.rawTime(),n=t-this._pauseTime,!e&&r.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==n&&this._initted&&this.duration()&&(t=r.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,this.render(t,t===this._totalTime,!0))),this._gc&&!e&&this._enabled(!0,!1),this};var O=g("core.SimpleTimeline",function(e){L.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});s=O.prototype=new L,s.constructor=O,s.kill()._gc=!1,s._first=s._last=s._recent=null,s._sortChildren=!1,s.add=s.insert=function(e,t){var n,r;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),n=this._last,this._sortChildren)for(r=e._startTime;n&&n._startTime>r;)n=n._prev;return n?(e._next=n._next,n._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=n,this._recent=e,this._timeline&&this._uncache(!0),this},s._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},s.render=function(e,t,n){var r,i=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;i;)r=i._next,(i._active||e>=i._startTime&&!i._paused)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(e-i._startTime)*i._timeScale,t,n):i.render((e-i._startTime)*i._timeScale,t,n)),i=r},s.rawTime=function(){return u||o.wake(),this._totalTime};var M=g("TweenLite",function(t,n,r){if(L.call(this,n,r),this.render=M.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:M.selector(t)||t;var i,s,o,u=t.jquery||t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType),a=this.vars.overwrite;if(this._overwrite=a=null==a?X[M.defaultOverwrite]:"number"==typeof a?a>>0:X[a],(u||t instanceof Array||t.push&&p(t))&&"number"!=typeof t[0])for(this._targets=o=c(t),this._propLookup=[],this._siblings=[],i=0;o.length>i;i++)s=o[i],s?"string"!=typeof s?s.length&&s!==e&&s[0]&&(s[0]===e||s[0].nodeType&&s[0].style&&!s.nodeType)?(o.splice(i--,1),this._targets=o=o.concat(c(s))):(this._siblings[i]=Q(s,this,!1),1===a&&this._siblings[i].length>1&&Y(s,this,null,1,this._siblings[i])):(s=o[i--]=M.selector(s),"string"==typeof s&&o.splice(i+1,1)):o.splice(i--,1);else this._propLookup={},this._siblings=Q(t,this,!1),1===a&&this._siblings.length>1&&Y(t,this,null,1,this._siblings);(this.vars.immediateRender||0===n&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-l,this.render(-this._delay))},!0),_=function(t){return t&&t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType)},D=function(e,t){var n,r={};for(n in e)W[n]||n in t&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!R[n]||R[n]&&R[n]._autoCSS)||(r[n]=e[n],delete e[n]);e.css=r};s=M.prototype=new L,s.constructor=M,s.kill()._gc=!1,s.ratio=0,s._firstPT=s._targets=s._overwrittenProps=s._startAt=null,s._notifyPluginsOfEnabled=s._lazy=!1,M.version="1.18.0",M.defaultEase=s._ease=new w(null,null,1,1),M.defaultOverwrite="auto",M.ticker=o,M.autoSleep=120,M.lagSmoothing=function(e,t){o.lagSmoothing(e,t)},M.selector=e.$||e.jQuery||function(t){var n=e.$||e.jQuery;return n?(M.selector=n,n(t)):"undefined"==typeof document?t:document.querySelectorAll?document.querySelectorAll(t):document.getElementById("#"===t.charAt(0)?t.substr(1):t)};var P=[],H={},B=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,j=function(e){for(var t,n=this._firstPT,r=1e-6;n;)t=n.blob?e?this.join(""):this.start:n.c*e+n.s,n.r?t=Math.round(t):r>t&&t>-r&&(t=0),n.f?n.fp?n.t[n.p](n.fp,t):n.t[n.p](t):n.t[n.p]=t,n=n._next},F=function(e,t,n,r){var i,s,o,u,a,f,l,c=[e,t],h=0,p="",d=0;for(c.start=e,n&&(n(c),e=c[0],t=c[1]),c.length=0,i=e.match(B)||[],s=t.match(B)||[],r&&(r._next=null,r.blob=1,c._firstPT=r),a=s.length,u=0;a>u;u++)l=s[u],f=t.substr(h,t.indexOf(l,h)-h),p+=f||!u?f:",",h+=f.length,d?d=(d+1)%5:"rgba("===f.substr(-5)&&(d=1),l===i[u]||u>=i.length?p+=l:(p&&(c.push(p),p=""),o=parseFloat(i[u]),c.push(o),c._firstPT={_next:c._firstPT,t:c,p:c.length-1,s:o,c:("="===l.charAt(1)?parseInt(l.charAt(0)+"1",10)*parseFloat(l.substr(2)):parseFloat(l)-o)||0,f:0,r:d&&4>d}),h+=l.length;return p+=t.substr(h),p&&c.push(p),c.setRatio=j,c},I=function(e,t,n,r,i,s,o,u){var a,f,l="get"===n?e[t]:n,c=typeof e[t],h="string"==typeof r&&"="===r.charAt(1),p={t:e,p:t,s:l,f:"function"===c,pg:0,n:i||t,r:s,pr:0,c:h?parseInt(r.charAt(0)+"1",10)*parseFloat(r.substr(2)):parseFloat(r)-l||0};return"number"!==c&&("function"===c&&"get"===n&&(f=t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3),p.s=l=o?e[f](o):e[f]()),"string"==typeof l&&(o||isNaN(l))?(p.fp=o,a=F(l,r,u||M.defaultStringFilter,p),p={t:a,p:"setRatio",s:0,c:1,f:2,pg:0,n:i||t,pr:0}):h||(p.c=parseFloat(r)-parseFloat(l)||0)),p.c?((p._next=this._firstPT)&&(p._next._prev=p),this._firstPT=p,p):void 0},q=M._internals={isArray:p,isSelector:_,lazyTweens:P,blobDif:F},R=M._plugins={},U=q.tweenLookup={},z=0,W=q.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1},X={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},V=L._rootFramesTimeline=new O,$=L._rootTimeline=new O,J=30,K=q.lazyRender=function(){var e,t=P.length;for(H={};--t>-1;)e=P[t],e&&e._lazy!==!1&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);P.length=0};$._startTime=o.time,V._startTime=o.frame,$._active=V._active=!0,setTimeout(K,1),L._updateRoot=M.render=function(){var e,t,n;if(P.length&&K(),$.render((o.time-$._startTime)*$._timeScale,!1,!1),V.render((o.frame-V._startTime)*V._timeScale,!1,!1),P.length&&K(),o.frame>=J){J=o.frame+(parseInt(M.autoSleep,10)||120);for(n in U){for(t=U[n].tweens,e=t.length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete U[n]}if(n=$._first,(!n||n._paused)&&M.autoSleep&&!V._first&&1===o._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||o.sleep()}}},o.addEventListener("tick",L._updateRoot);var Q=function(e,t,n){var r,i,s=e._gsTweenID;if(U[s||(e._gsTweenID=s="t"+z++)]||(U[s]={target:e,tweens:[]}),t&&(r=U[s].tweens,r[i=r.length]=t,n))for(;--i>-1;)r[i]===t&&r.splice(i,1);return U[s].tweens},G=function(e,t,n,r){var i,s,o=e.vars.onOverwrite;return o&&(i=o(e,t,n,r)),o=M.onOverwrite,o&&(s=o(e,t,n,r)),i!==!1&&s!==!1},Y=function(e,t,n,r,i){var s,o,u,a;if(1===r||r>=4){for(a=i.length,s=0;a>s;s++)if((u=i[s])!==t)u._gc||u._kill(null,e,t)&&(o=!0);else if(5===r)break;return o}var f,c=t._startTime+l,h=[],p=0,d=0===t._duration;for(s=i.length;--s>-1;)(u=i[s])===t||u._gc||u._paused||(u._timeline!==t._timeline?(f=f||Z(t,0,d),0===Z(u,f,d)&&(h[p++]=u)):c>=u._startTime&&u._startTime+u.totalDuration()/u._timeScale>c&&((d||!u._initted)&&2e-10>=c-u._startTime||(h[p++]=u)));for(s=p;--s>-1;)if(u=h[s],2===r&&u._kill(n,e,t)&&(o=!0),2!==r||!u._firstPT&&u._initted){if(2!==r&&!G(u,t))continue;u._enabled(!1,!1)&&(o=!0)}return o},Z=function(e,t,n){for(var r=e._timeline,i=r._timeScale,s=e._startTime;r._timeline;){if(s+=r._startTime,i*=r._timeScale,r._paused)return-100;r=r._timeline}return s/=i,s>t?s-t:n&&s===t||!e._initted&&2*l>s-t?l:(s+=e.totalDuration()/e._timeScale/i)>t+l?0:s-t-l};s._init=function(){var e,t,n,r,i,s=this.vars,o=this._overwrittenProps,u=this._duration,a=!!s.immediateRender,f=s.ease;if(s.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),i={};for(r in s.startAt)i[r]=s.startAt[r];if(i.overwrite=!1,i.immediateRender=!0,i.lazy=a&&s.lazy!==!1,i.startAt=i.delay=null,this._startAt=M.to(this.target,0,i),a)if(this._time>0)this._startAt=null;else if(0!==u)return}else if(s.runBackwards&&0!==u)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(a=!1),n={};for(r in s)W[r]&&"autoCSS"!==r||(n[r]=s[r]);if(n.overwrite=0,n.data="isFromStart",n.lazy=a&&s.lazy!==!1,n.immediateRender=a,this._startAt=M.to(this.target,0,n),a){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=f=f?f instanceof w?f:"function"==typeof f?new w(f,s.easeParams):E[f]||M.defaultEase:M.defaultEase,s.easeParams instanceof Array&&f.config&&(this._ease=f.config.apply(f,s.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(e=this._targets.length;--e>-1;)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],o?o[e]:null)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,o);if(t&&M._onPluginEvent("_onInitAllProps",this),o&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),s.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=s.onUpdate,this._initted=!0},s._initProps=function(t,n,r,i){var s,o,u,a,f,l;if(null==t)return!1;H[t._gsTweenID]&&K(),this.vars.css||t.style&&t!==e&&t.nodeType&&R.css&&this.vars.autoCSS!==!1&&D(this.vars,t);for(s in this.vars)if(l=this.vars[s],W[s])l&&(l instanceof Array||l.push&&p(l))&&-1!==l.join("").indexOf("{self}")&&(this.vars[s]=l=this._swapSelfInParams(l,this));else if(R[s]&&(a=new R[s])._onInitTween(t,this.vars[s],this)){for(this._firstPT=f={_next:this._firstPT,t:a,p:"setRatio",s:0,c:1,f:1,n:s,pg:1,pr:a._priority},o=a._overwriteProps.length;--o>-1;)n[a._overwriteProps[o]]=this._firstPT;(a._priority||a._onInitAllProps)&&(u=!0),(a._onDisable||a._onEnable)&&(this._notifyPluginsOfEnabled=!0),f._next&&(f._next._prev=f)}else n[s]=I.call(this,t,s,"get",l,s,0,null,this.vars.stringFilter);return i&&this._kill(i,t)?this._initProps(t,n,r,i):this._overwrite>1&&this._firstPT&&r.length>1&&Y(t,this,n,this._overwrite,r)?(this._kill(n,t),this._initProps(t,n,r,i)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(H[t._gsTweenID]=!0),u)},s.render=function(e,t,n){var r,i,s,o,u=this._time,a=this._duration,f=this._rawPrevTime;if(e>=a)this._totalTime=this._time=a,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(r=!0,i="onComplete",n=n||this._timeline.autoRemoveChildren),0===a&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(e=0),(0===e||0>f||f===l&&"isPause"!==this.data)&&f!==e&&(n=!0,f>l&&(i="onReverseComplete")),this._rawPrevTime=o=!t||e||f===e?e:l);else if(1e-7>e)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==u||0===a&&f>0)&&(i="onReverseComplete",r=this._reversed),0>e&&(this._active=!1,0===a&&(this._initted||!this.vars.lazy||n)&&(f>=0&&(f!==l||"isPause"!==this.data)&&(n=!0),this._rawPrevTime=o=!t||e||f===e?e:l)),this._initted||(n=!0);else if(this._totalTime=this._time=e,this._easeType){var c=e/a,h=this._easeType,p=this._easePower;(1===h||3===h&&c>=.5)&&(c=1-c),3===h&&(c*=2),1===p?c*=c:2===p?c*=c*c:3===p?c*=c*c*c:4===p&&(c*=c*c*c*c),this.ratio=1===h?1-c:2===h?c:.5>e/a?c/2:1-c/2}else this.ratio=this._ease.getRatio(e/a);if(this._time!==u||n){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=u,this._rawPrevTime=f,P.push(this),this._lazy=[e,t],void 0;this._time&&!r?this.ratio=this._ease.getRatio(this._time/a):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==u&&e>=0&&(this._active=!0),0===u&&(this._startAt&&(e>=0?this._startAt.render(e,t,n):i||(i="_dummyGS")),this.vars.onStart&&(0!==this._time||0===a)&&(t||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(0>e&&this._startAt&&e!==-0.0001&&this._startAt.render(e,t,n),t||(this._time!==u||r)&&this._callback("onUpdate")),i&&(!this._gc||n)&&(0>e&&this._startAt&&!this._onUpdate&&e!==-0.0001&&this._startAt.render(e,t,n),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[i]&&this._callback(i),0===a&&this._rawPrevTime===l&&o!==l&&(this._rawPrevTime=0))}},s._kill=function(e,t,n){if("all"===e&&(e=null),null!=e||null!=t&&t!==this.target){t="string"!=typeof t?t||this._targets||this.target:M.selector(t)||t;var r,i,s,o,u,a,f,l,c,h=n&&this._time&&n._startTime===this._startTime&&this._timeline===n._timeline;if((p(t)||_(t))&&"number"!=typeof t[0])for(r=t.length;--r>-1;)this._kill(e,t[r],n)&&(a=!0);else{if(this._targets){for(r=this._targets.length;--r>-1;)if(t===this._targets[r]){u=this._propLookup[r]||{},this._overwrittenProps=this._overwrittenProps||[],i=this._overwrittenProps[r]=e?this._overwrittenProps[r]||{}:"all";break}}else{if(t!==this.target)return!1;u=this._propLookup,i=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(u){if(f=e||u,l=e!==i&&"all"!==i&&e!==u&&("object"!=typeof e||!e._tempKill),n&&(M.onOverwrite||this.vars.onOverwrite)){for(s in f)u[s]&&(c||(c=[]),c.push(s));if((c||!e)&&!G(this,n,t,c))return!1}for(s in f)(o=u[s])&&(h&&(o.f?o.t[o.p](o.s):o.t[o.p]=o.s,a=!0),o.pg&&o.t._kill(f)&&(a=!0),o.pg&&0!==o.t._overwriteProps.length||(o._prev?o._prev._next=o._next:o===this._firstPT&&(this._firstPT=o._next),o._next&&(o._next._prev=o._prev),o._next=o._prev=null),delete u[s]),l&&(i[s]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return a}return this._lazy=!1,this._enabled(!1,!1)},s.invalidate=function(){return this._notifyPluginsOfEnabled&&M._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],L.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-l,this.render(-this._delay)),this},s._enabled=function(e,t){if(u||o.wake(),e&&this._gc){var n,r=this._targets;if(r)for(n=r.length;--n>-1;)this._siblings[n]=Q(r[n],this,!0);else this._siblings=Q(this.target,this,!0)}return L.prototype._enabled.call(this,e,t),this._notifyPluginsOfEnabled&&this._firstPT?M._onPluginEvent(e?"_onEnable":"_onDisable",this):!1},M.to=function(e,t,n){return new M(e,t,n)},M.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new M(e,t,n)},M.fromTo=function(e,t,n,r){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,new M(e,t,r)},M.delayedCall=function(e,t,n,r,i){return new M(t,0,{delay:e,onComplete:t,onCompleteParams:n,callbackScope:r,onReverseComplete:t,onReverseCompleteParams:n,immediateRender:!1,lazy:!1,useFrames:i,overwrite:0})},M.set=function(e,t){return new M(e,0,t)},M.getTweensOf=function(e,t){if(null==e)return[];e="string"!=typeof e?e:M.selector(e)||e;var n,r,i,s;if((p(e)||_(e))&&"number"!=typeof e[0]){for(n=e.length,r=[];--n>-1;)r=r.concat(M.getTweensOf(e[n],t));for(n=r.length;--n>-1;)for(s=r[n],i=n;--i>-1;)s===r[i]&&r.splice(n,1)}else for(r=Q(e).concat(),n=r.length;--n>-1;)(r[n]._gc||t&&!r[n].isActive())&&r.splice(n,1);return r},M.killTweensOf=M.killDelayedCallsTo=function(e,t,n){"object"==typeof t&&(n=t,t=!1);for(var r=M.getTweensOf(e,t),i=r.length;--i>-1;)r[i]._kill(n,e)};var et=g("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=et.prototype},!0);if(s=et.prototype,et.version="1.18.0",et.API=2,s._firstPT=null,s._addTween=I,s.setRatio=j,s._kill=function(e){var t,n=this._overwriteProps,r=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=n.length;--t>-1;)null!=e[n[t]]&&n.splice(t,1);for(;r;)null!=e[r.n]&&(r._next&&(r._next._prev=r._prev),r._prev?(r._prev._next=r._next,r._prev=null):this._firstPT===r&&(this._firstPT=r._next)),r=r._next;return!1},s._roundProps=function(e,t){for(var n=this._firstPT;n;)(e[this._propName]||null!=n.n&&e[n.n.split(this._propName+"_").join("")])&&(n.r=t),n=n._next},M._onPluginEvent=function(e,t){var n,r,i,s,o,u=t._firstPT;if("_onInitAllProps"===e){for(;u;){for(o=u._next,r=i;r&&r.pr>u.pr;)r=r._next;(u._prev=r?r._prev:s)?u._prev._next=u:i=u,(u._next=r)?r._prev=u:s=u,u=o}u=t._firstPT=i}for(;u;)u.pg&&"function"==typeof u.t[e]&&u.t[e]()&&(n=!0),u=u._next;return n},et.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===et.API&&(R[(new e[t])._propName]=e[t]);return!0},m.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,n=e.propName,r=e.priority||0,i=e.overwriteProps,s={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},o=g("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",function(){et.call(this,n,r),this._overwriteProps=i||[]},e.global===!0),u=o.prototype=new et(n);u.constructor=o,o.API=e.API;for(t in s)"function"==typeof e[t]&&(u[s[t]]=e[t]);return o.version=e.version,et.activate([o]),o},r=e._gsQueue){for(i=0;r.length>i;i++)r[i]();for(s in d)d[s].func||e.console.log("GSAP encountered missing dependency: com.greensock."+s)}u=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenMax"),define("tweenmax",function(){}),define("shared/utils/ResizeManager",["underscore","superhero"],function(e,t){var n=t.Module.extend({initialize:function(){e.bindAll(this,"_windowResizeHandler"),this._updateValues(),this.setupEventListeners()},setupEventListeners:function(){var e=Settings.isTablet?"orientationchange":"resize";window.addEventListener(e,this._windowResizeHandler)},viewportWidth:function(){return this._viewportWidth||0},viewportHeight:function(){return this._viewportHeight||0},documentWidth:function(){var e=document.body,t=document.documentElement;return Math.max(e.scrollWidth,e.offsetWidth,t.clientWidth,t.scrollWidth,t.offsetWidth)},documentHeight:function(){var e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)},forceResize:function(){this._updateValues(),this.trigger("resize",{target:this})},_updateValues:function(){this._viewportWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0),this._viewportHeight=Math.max(document.documentElement.clientHeight,window.innerHeight||0)},_windowResizeHandler:function(e){this._updateValues(),this.trigger("resize",{target:this})}});return new n}),define("shared/utils/ScrollManager",["underscore","superhero","shared/utils/ResizeManager"],function(e,t,n){var r=t.Module.extend({_isScrollEnabled:!0,_scrollTop:0,_scrollLeft:0,_registeredScrollNotifications:[],initialize:function(){e.bindAll(this,"_scrollHandler","scrollEndHandler","_checkElementScrolledIntoView","_onUpdateScrollTo"),this._offsetCalculationsTick=0,this._offsetCalculationsInterval=200,this.scrollTop(0),this.setupEventListeners(),window.scroll=this},setupEventListeners:function(){window.addEventListener("scroll",this._scrollHandler)},enableScroll:function(){this._isScrollEnabled=!0},disableScroll:function(){this._isScrollEnabled=!1},calculateScrollDuration:function(e,t){var n=Math.abs(t-this._scrollTop)/1500;return n/3},scrollTo:function(e,t,n,r,i){n==="auto"?n=this.calculateScrollDuration(e,t):n!==0&&(n=n||this.calculateScrollDuration(e,t)),r=r||SlowMo.easeInOut,i=i||function(){},TweenMax.to(this,n,{scrollLeft:e,_scrollTop:-t,ease:r,onComplete:i,onUpdate:this._onUpdateScrollTo})},_onUpdateScrollTo:function(){this.scrollTop(this._scrollTop)},scrollTop:function(e){return e!==undefined&&(document.body.scrollTop=document.documentElement.scrollTop=e),-this._scrollTop},maxScrollY:function(){return document.body.scrollHeight-window.innerHeight},registerElementScrollNotification:function(t,n,r){r=r||0;var i=e.uniqueId("scrollnotification_");this._registeredScrollNotifications.push({id:i,element:t,userOffset:r,callback:n}),this._scrollNotificationsAdded=!0,this._checkElementScrolledIntoView()},resetElementScrollNotifications:function(){this.rafID&&cancelAnimationFrame(this.rafID),this._offsetCalculationsTick=0,this._offsetCalculationsInterval=200,this._registeredScrollNotifications=[]},_calculateElementOffsets:function(){if(this._scrollNotificationsAdded||this._offsetCalculationsTick%this._offsetCalculationsInterval===0){for(var e=0,t=this._registeredScrollNotifications.length;e<t;e++){var n=this._registeredScrollNotifications[e];n.offsetTop=this._getElementGlobalOffsetTop(n.element)+n.userOffset}this._registeredScrollNotifications.sort(function(e,t){return e.offsetTop-t.offsetTop}),this._offsetCalculationsInterval*=2}this._scrollNotificationsAdded=!1,this._offsetCalculationsTick++},_checkElementScrolledIntoView:function(){this._calculateElementOffsets();var e=this._scrollTop+n.viewportHeight();for(var t=0,r=this._registeredScrollNotifications.length;t<r;t++){var i=this._registeredScrollNotifications[t];if(!(i&&e>i.offsetTop))break;i.callback.call(this,i.element),this.trigger("scrolled:in:viewport",{id:i.id})}this._registeredScrollNotifications.splice(0,t)},_getElementGlobalOffsetTop:function(e){var t=0;for(;;){t+=e.offsetTop;if(e.offsetParent===null)break;e=e.offsetParent}return t},_updateValues:function(){this._scrollTop=document.body.scrollTop||document.documentElement.scrollTop},_scrollHandler:function(e){this._updateValues(),this.trigger("scroll",{y:this._scrollTop}),this._checkElementScrolledIntoView()},scrollEndHandler:function(e){}});return new r}),define("desktop/views/components/FullscreenVideoComponent",["superhero","shared/utils/ResizeManager"],function(e,t){return e.View.extend({template:"overlay/video",className:"fullscreen-video-overlay",ui:{video:".fullscreen-video",progressBar:".progress-bar--line",progressIndicator:".progress-indicator",playButton:".button-video-play-container",playButtonIcon:".button-play--icon",playButtonInverse:".button-play-fullscreen--inverse",playButtonInverseInner:".button-play-fullscreen--inverse-inner",pauseButton:".button-video-pause",videoControls:".video-controls",soundButton:".button-video-sound",soundButtonInverse:".button-video-sound-content--inverse",soundButtonInverseInner:".button-video-sound-content--inverse--inner",soundIcon:".button-video-sound--icon",closeButton:".video-close",closeButtonInverted:".button-video-close--inverted",closeButtonInvertedIcon:".button-video-close--icon--inverted",currentTime:".progress-time--current",totalTime:".progress-time--total"},events:{"click .button-video-play-container":"_buttonPlayClickHandler","click .button-video-sound":"_buttonVideoMuteClickHandler","click .video-close":"_buttonCloseClickHandler",mousemove:"_videoMouseMoveHandler",mouseup:"_videoMouseUpHandler","mouseover .button-video-play-container":"_playButtonMouseOverHandler","mouseleave .button-video-play-container":"_playButtonMouseLeaveHandler","mouseover .button-video-sound":"_soundButtonMouseOverHandler","mouseleave .button-video-sound":"_soundButtonMouseLeaveHandler"},options:null,_resizeVideoDone:!1,_videoLoaded:!1,videoDuration:0,progressBarWidth:0,oldCurrentTime:0,videoMuted:!1,scrubbingVideo:!1,startIndicatorPosition:0,controlsVisible:!1,hideControlsTimeout:null,closeButtonHeight:0,initialize:function(e){0,this.options=e||{},this._resizeVideoDone=!1,this._videoLoaded=!1,this._vimeoControls="?autoplay=1&title=0&byline=0&portrait=0&api=1&player_id=player1",this.videoDuration=0,this.progressBar=0,this.oldCurrentTime=0,this.videoMuted=!1,this.scrubbingVideo=!1,this.startIndicatorPosition=0,this.controlsVisible=!1,this.hideControlsTimeout=null,this.closeButtonHeight=0,com.chapterone.applicationView.disableBodyScroll(),_.bindAll(this,"_closeButtonMouseEnterHandler","_closeButtonMouseLeaveHandler")},onInitialized:function(){if(!this.options.videoUrl)return;var e=this;setTimeout(function(){e.closeButtonHeight=e.ui.closeButton.offsetHeight,e._build(),e._setupEventListeners()},0)},transitionIn:function(){com.chapterone.applicationView.overlayVisible(),TweenMax.from(this.el,.4,{opacity:0,force3D:!0,ease:Quad.easeOut})},transitionOut:function(e){TweenMax.to(this.el,.4,{opacity:0,force3D:!0,ease:Quad.easeOut,onComplete:function(){com.chapterone.applicationView.overlayHidden(),e()}})},_setupEventListeners:function(){this.listenTo(t,"resize",this._resizeHandler),this.ui.video.addEventListener("loadedmetadata",this._videoMetadataLoadHandler),this.ui.video.addEventListener("canplay",this._videoLoadHandler),this.ui.closeButton.addEventListener("mouseenter",this._closeButtonMouseEnterHandler),this.ui.closeButton.addEventListener("mouseleave",this._closeButtonMouseLeaveHandler)},onClose:function(){com.chapterone.applicationView.enableBodyScroll()},_build:function(){this._placeVideo(),TweenMax.to(this.ui.closeButton,.4,{y:this.closeButtonHeight,ease:Quad.easeOut})},_videoMetadataLoadHandler:function(){this.videoDuration=this.ui.video.duration,this._setTime(),this._resizeVideo(!0)},_videoLoadHandler:function(){this._videoLoaded=!0,this._checkVideoDone()},_rebuildComponent:function(){this.closeButtonHeight=this.ui.closeButton.offsetHeight,this._resizeVideo(!1),this.controlsVisible&&TweenMax.set(this.ui.closeButton,{y:this.closeButtonHeight,ease:Quad.easeOut})},_placeVideo:function(){this.ui.video.src=this.options.videoUrl+this._vimeoControls,0,this.options.videoPoster&&(this.ui.video.poster=this.options.videoPoster)},_resizeVideo:function(e){},_closeButtonMouseEnterHandler:function(){TweenMax.to(this.ui.closeButtonInverted,.7,{y:this.closeButtonHeight,ease:Expo.easeInOut,force3D:!0}),TweenMax.to(this.ui.closeButtonInvertedIcon,.7,{y:-this.closeButtonHeight,ease:Expo.easeInOut,force3D:!0})},_closeButtonMouseLeaveHandler:function(){TweenMax.to([this.ui.closeButtonInverted,this.ui.closeButtonInvertedIcon],.7,{y:0,ease:Expo.easeIn,force3D:!0})},_buttonCloseClickHandler:function(){0,e.RegionManager.get("overlay").clear()},_resizeHandler:function(){this._rebuildComponent()}})}),define("desktop/views/components/HeroComponent",["superhero","shared/utils/ResizeManager","desktop/views/components/FullscreenVideoComponent"],function(e,t,n){return e.Component.extend({ui:{image:".hero-image",video:".hero-video",heroHeader:".hero-header",heroContent:".hero-content",heroBody:".hero-content p",heroButtonContainer:".hero-button-container",playButtonContainer:".hero-button-container",playButton:".button-play",playButtonInitial:".button-play-initial",playButtonInitialIcon:".button-play--icon-initial",playButtonInverse:".button-play--inverse",playButtonInverseIcon:".button-play--icon--inverse",scrollIndicator:".hero-scroll-indicator",heroFooterProduced:".hero-footer-produced",heroFooterPresented:".hero-footer-presented"},events:{"click .button-regular--trailer":"_playButtonClickHandler","click .hero-scroll-indicator":"_scrollIndicatorClickHandler","mouseover .button-play-container":"_buttonPlayMouseEnterHandler","mouseleave .button-play-container":"_buttonPlayMouseLeaveHandler","mouseenter .hero-scroll-indicator":"_scrollIndicatorMouseEnterHandler","mouseleave .hero-scroll-indicator":"_scrollIndicatorMouseLeaveHandler","mouseenter .button-hero--watch":"_buttonWatchHeroMouseEnterHandler","mouseleave .button-hero--watch":"_buttonWatchHeroMouseLeaveHandler","mouseenter .button-hero--order":"_buttonOrderHeroMouseEnterHandler","mouseleave .button-hero--order":"_buttonOrderHeroMouseLeaveHandler"},MIN_RATIO:.75,heroHeight:0,videoWidth:0,videoHeight:0,heroMaxHeight:null,videoLoaded:!1,videoInactive:!1,isWebkit:!1,introTime:3,heroVisualType:"image",timeline:null,options:{},initialize:function(e){0,this.MIN_RATIO=.75,this.heroHeight=0,this.videoWidth=0,this.videoHeight=0,this.introTime=3,this.heroMaxHeight=null,this.videoLoaded=!1,this.videoInactive=!1,this.timeline=null,this.heroVisualType="image",this.options=e||{},this.isWebkit="WebkitAppearance"in document.documentElement.style,_.bindAll(this,"_imageLoadHandler","_videoLoadHandler","_videoMetadataLoadHandler","_updateHeader","_videoEndedHandler")},onInitialized:function(){this.heroMaxHeight=this.el.getAttribute("data-max-height")||null,this._setupEventListeners(),this.ui.video?this.heroVisualType="video":this.ui.image&&(this.ui.image.style.display="block",TweenMax.to(this.ui.image,.3,{opacity:.7,ease:Linear.easeNone})),this._build()},_setupEventListeners:function(){this.listenTo(t,"resize",this._resizeHandler),this.ui.image&&this.ui.image.addEventListener("load",this._imageLoadHandler),this.ui.video&&(this.ui.video.addEventListener("loadedmetadata",this._videoMetadataLoadHandler),this.ui.video.addEventListener("canplay",this._videoLoadHandler),this.ui.video.addEventListener("ended",this._videoEndedHandler)),this.listenTo(com.chapterone.applicationRouter,"route",this._routeChangeHandler)},onClose:function(){this.ui.image&&this.ui.image.removeEventListener("load",this._imageLoadHandler),this.ui.video&&(this.ui.video.removeEventListener("loadedmetadata",this._videoMetadataLoadHandler),this.ui.video.removeEventListener("canplay",this._videoLoadHandler),this.ui.video.removeEventListener("ended",this._videoEndHandler))},getHeight:function(){return this.el.offsetHeight},hideHero:function(){this.el.style.visibility="hidden"},showHero:function(){this.el.style.visibility="visible"},playVideo:function(){if(!this.ui.video)return;this.videoInactive=!1,this._playVideo()},pauseVideo:function(){if(!this.ui.video)return;this.videoInactive=!0,this._pauseVideo()},updateHeroTransparency:function(e,t){if(!this.ui.video&&!this.ui.image)return;if(!this.isWebkit){var n=.7;e&&(n=0),TweenMax.to(this.ui[this.heroVisualType],t,{opacity:n});return}var r={currentGrayScale:1,targetGrayScale:0,currentOpacity:0,targetOpacity:.7};e&&(r={currentGrayScale:0,targetGrayScale:1,currentOpacity:.7,targetOpacity:0}),TweenMax.to(r,t,{currentGrayScale:r.targetGrayScale,currentOpacity:r.targetOpacity,onUpdateParams:[r],onUpdate:this._updateHeader})},_updateHeader:function(e){TweenMax.set(this.ui[this.heroVisualType],{"-webkit-filter":"grayscale("+e.currentGrayScale+")",filter:"grayscale("+e.currentGrayScale+")"})},_getRatio:function(e,t){return e/t},_build:function(){this.options.home?this.el.style.height=t.viewportHeight()+"px":this._sizeHero(),this._createScrollIconAnimation()},_repositionHeroContent:function(){this.ui.heroHeader&&TweenMax.set(this.ui.heroHeader,{y:-(t.viewportHeight()/9)-this.ui.heroHeader.offsetHeight*.5,x:-(this.ui.heroHeader.offsetWidth*.5),force3D:!0}),this.ui.heroBody&&TweenMax.set(this.ui.heroBody,{y:t.viewportHeight()/9-this.ui.heroBody.offsetHeight*.5,x:-(this.ui.heroBody.offsetWidth*.5),force3D:!0}),this.ui.heroButtonOrder&&TweenMax.set(this.ui.heroButtonOrder,{y:t.viewportHeight()/45,x:-(this.ui.heroButtonOrder.offsetWidth*.5),force3D:!0})},_sizeHero:function(){var e=t.viewportWidth(),n=t.viewportHeight()*.9,r=this._getRatio(e,n),i,s;s=Math.max(this.MIN_RATIO,r),this.heroHeight=Math.round(e/s),this.heroMaxHeight&&this.heroHeight>this.heroMaxHeight&&(this.heroHeight=this.heroMaxHeight),this.el.style.height=this.heroHeight+"px"},_hideHeroImage:function(){this.ui.image&&(this.ui.image.style.opacity=0)},_createScrollIconAnimation:function(){this.ui.scrollIndicator&&TweenMax.fromTo(this.ui.scrollIndicator,.5,{opacity:.5,y:10},{opacity:1,y:5,ease:Power3.easeInOut,force3D:!0,repeat:-1,yoyo:!0})},_sizeHeroBackgroundImage:function(){this._getCurrentPage();if(!this.ui.image)return;var e=com.chapterone.getCoverSize(this.el.offsetWidth,this.el.offsetHeight,this.ui.image.width,this.ui.image.height);this.ui.image.style.width=e.width+"px",this.ui.image.style.height=e.height+"px",this._secondLevelLocation!=="partners"&&(this.ui.image.style.top=e.y+"px"),this.ui.image.style.left=e.x+"px"},_sizeHeroBackgroundVideo:function(){if(!this.ui.video)return;var e=com.chapterone.getCoverSize(this.el.offsetWidth,this.el.offsetHeight,this.videoWidth,this.videoHeight);this.ui.video.style.width=e.width+"px",this.ui.video.style.top=e.y+"px",this.ui.video.style.left=e.x+"px"},_getCurrentPage:function(){var e=window.location.pathname.split("/");this._secondLevelLocation=e[1]},_playVideo:function(){if(!this.ui.video||this.videoInactive)return;this.ui.video.play()},_pauseVideo:function(){if(!this.ui.video)return;this.ui.video.pause()},_resetVideoPlayPosition:function(){var e=this;this.ui.video.currentTime=this.introTime,setTimeout(function(){e.ui.video.play()},0)},_showFullscreenVideo:function(){var t=this.ui.playButtonContainer.getAttribute("data-video-url"),r=this.ui.playButtonContainer.getAttribute("data-video-poster");e.RegionManager.get("overlay").show(n,{videoUrl:t,videoPoster:r})},_resizeHandler:function(){this.options.home?(this.el.style.height=t.viewportHeight()+"px",this._repositionHeroContent()):this._sizeHero(),this._sizeHeroBackgroundImage(),this._sizeHeroBackgroundVideo()},_imageLoadHandler:function(){this._sizeHeroBackgroundImage()},_videoMetadataLoadHandler:function(e){this.videoWidth=e.target.clientWidth,this.videoHeight=e.target.clientHeight},_videoLoadHandler:function(){if(this.videoLoaded)return;this.videoLoaded=!0,this._hideHeroImage(),this._sizeHeroBackgroundVideo(),this.trigger("video:canplay")},_videoEndedHandler:function(){this._resetVideoPlayPosition()},_playButtonClickHandler:function(e){e.preventDefault(),this._showFullscreenVideo()},_scrollIndicatorClickHandler:function(){this.trigger("clicked:scrollindicator")},_routeChangeHandler:function(e){e!=="home"?this._pauseVideo():this._playVideo()},_scrollIndicatorMouseEnterHandler:function(){TweenMax.to(this.ui.scrollIndicator,.3,{y:-25,opacity:1,ease:Quad.easeInOut}),TweenMax.to(this.ui.heroFooterPresented,.3,{opacity:0,ease:Linear.easeNone}),TweenMax.to(this.ui.heroFooterProduced,.3,{opacity:0,ease:Linear.easeNone})},_scrollIndicatorMouseLeaveHandler:function(){TweenMax.to(this.ui.scrollIndicator,.4,{y:5,ease:Quad.easeInOut}),TweenMax.to(this.ui.heroFooterPresented,.6,{opacity:1,ease:Linear.easeNone}),TweenMax.to(this.ui.heroFooterProduced,.6,{opacity:1,ease:Linear.easeNone}),this._createScrollIconAnimation()}})}),define("desktop/views/components/grid-items/GridItemPhotoComponent",["superhero","shared/utils/ResizeManager"],function(e,t){return e.View.extend({ui:{container:".grid-item--photo-container",image:".grid-item--photo-image",hoverBackground:".grid-item--hover-background--small"},photoType:"small",elWidth:0,elHeight:0,options:{},initialize:function(e){this.elWidth=0,this.elHeight=0,this.options=e||{},this._setPhotoType(),this._resizeImage(),_.bindAll(this,"_resizeHandler","_photoMouseEnterHandler","_photoMouseLeaveHandler")},onInitialized:function(){this._setupEventListeners()},_setupEventListeners:function(){this.listenTo(t,"resize",this._resizeHandler),this.ui.container.addEventListener("mouseenter",this._photoMouseEnterHandler,!1),this.ui.container.addEventListener("mouseleave",this._photoMouseLeaveHandler,!1)},onClose:function(){this.ui.container.removeEventListener("mouseenter",this._photoMouseEnterHandler,!1),this.ui.container.removeEventListener("mouseleave",this._photoMouseLeaveHandler,!1)},_setPhotoType:function(){this.el.classList.contains("grid-item--w2-h1")?this.photoType="wide":this.el.classList.contains("grid-item--w1-h2")?this.photoType="tall":this.el.classList.contains("grid-item--w3-h1")?this.photoType="extraWide":this.el.classList.contains("grid-item--w3-h2")&&(this.photoType="extraWideTall")},_resizeImage:function(){var e=this.el.querySelector(".grid-item--photo-image");this.elWidth=this.options.elementSize.width,this.elHeight=this.options.elementSize.height,this._sizeImage(e)},_sizeImage:function(e){var t=com.chapterone.getCoverSize(this.elWidth,this.elHeight,this.model.data.image_width,this.model.data.image_height),n=Math.round(t.width*1.2),r=Math.round(t.height*1.2);this.imageWidth=n,this.imageHeight=r,e.style.width=n+"px",e.style.height=r+"px",e.style.top=Math.round((this.elHeight-r)*.5)+"px",e.style.left=Math.round((this.elWidth-n)*.5)+"px"},_showHoverEffect:function(){TweenMax.to(this.ui.image,1.1,{y:24,ease:Power3.easeInOut,force3D:!0}),TweenMax.to(this.ui.hoverBackground,1.1,{opacity:1,y:this.ui.hoverBackground.offsetHeight*.1,ease:Power3.easeInOut,force3D:!0})},_hideHoverEffect:function(){TweenMax.to(this.ui.image,1.2,{y:0,ease:Power3.easeInOut,force3D:!0}),TweenMax.to(this.ui.hoverBackground,1.2,{opacity:0,y:0,ease:Power3.easeInOut,force3D:!0})},_photoMouseEnterHandler:function(e){var t=e.target;if(!t.classList.contains("grid-item--hoverable"))return;this._showHoverEffect()},_photoMouseLeaveHandler:function(e){var t=e.target;if(!t.classList.contains("grid-item--hoverable"))return;this._hideHoverEffect()},_resizeHandler:function(){this.elWidth=this.el.offsetWidth,this.elHeight=this.el.offsetHeight,this._sizeImage(this.ui.image)}})}),define("desktop/views/components/grid-items/GridItemInstagramComponent",["superhero","shared/utils/ResizeManager"],function(e,t){return e.Component.extend({ui:{image:".grid-item--instagram-image",content:".grid-content--instagram"},elWidth:0,elHeight:0,options:{},initialize:function(e){this.elWidth=0,this.elHeight=0,this.options=e||{},this._resizeImage(),_.bindAll(this,"_imageLoadHandler","_resizeHandler","_mouseEnterHandler","_mouseLeaveHandler")},onInitialized:function(){this._setupEventListeners()},_setupEventListeners:function(){this.listenTo(t,"resize",this._resizeHandler),this.ui.content&&(this.el.addEventListener("mouseenter",this._mouseEnterHandler),this.el.addEventListener("mouseleave",this._mouseLeaveHandler))},onClose:function(){this.ui.content&&(this.el.removeEventListener("mouseenter",this._mouseEnterHandler),this.el.removeEventListener("mouseleave",this._mouseLeaveHandler))},_resizeImage:function(){var e=this.el.querySelector(".grid-item--instagram-image");this.elWidth=this.options.elementSize.width,this.elHeight=this.options.elementSize.height,this._sizeImage(e)},_sizeImage:function(e){var t=com.chapterone.getCoverSize(this.elWidth,this.elHeight,this.model.data.image_width,this.model.data.image_height);e.style.width=t.width+"px",e.style.height=t.height+"px",e.style.top=t.y+"px",e.style.left=t.x+"px"},_imageLoadHandler:function(){this._sizeImage()},_resizeHandler:function(){this.elWidth=this.el.offsetWidth,this.elHeight=this.el.offsetHeight,this._sizeImage(this.ui.image)},_mouseEnterHandler:function(){TweenMax.to(this.ui.content,.4,{y:-64,ease:Quad.easeOut,force3D:!0})},_mouseLeaveHandler:function(){TweenMax.to(this.ui.content,.4,{y:0,ease:Quad.easeOut,force3D:!0})}})}),define("desktop/views/components/grid-items/GridItemArticleComponent",["superhero","shared/utils/ResizeManager"],function(e,t){return e.Component.extend({ui:{container:".grid-item--article-container",content:".grid-content--article",image:".grid-item--article-image",hoverBackground:".grid-item--article-hover-background",contentBackground:".grid-content--article-background",readMore:".grid-item--read-more",hoverBackgroundSmall:".grid-item--hover-background--small"},articleType:"small",elWidth:0,elHeight:0,options:{},initialize:function(e){this.elWidth=0,this.elHeight=0,this.options=e||{},this._setArticleType(),this._resizeImage(),_.bindAll(this,"_resizeHandler","_articleMouseEnterHandler","_articleMouseLeaveHandler")},onInitialized:function(){this._setupEventListeners()},_setupEventListeners:function(){this.listenTo(t,"resize",this._resizeHandler),this.ui.container.addEventListener("mouseenter",this._articleMouseEnterHandler,!1),this.ui.container.addEventListener("mouseleave",this._articleMouseLeaveHandler,!1)},onClose:function(){this.ui.container.removeEventListener("mouseenter",this._articleMouseEnterHandler,!1),this.ui.container.removeEventListener("mouseleave",this._articleMouseLeaveHandler,!1)},_setArticleType:function(){this.el.classList.contains("grid-item--w2-h1")?this.articleType="wide":this.el.classList.contains("grid-item--w1-h2")&&(this.articleType="tall")},_resizeImage:function(){var e=this.el.querySelector(".grid-item--article-image");this.elWidth=this.options.elementSize.width,this.elHeight=this.options.elementSize.height,this._sizeImage(e)},_sizeImage:function(e){var t=com.chapterone.getCoverSize(this.elWidth,this.elHeight,this.model.data.image_width,this.model.data.image_height),n=Math.round(t.width*1.2),r=Math.round(t.height*1.2);this.imageWidth=n,this.imageHeight=r,e.style.width=n+"px",e.style.height=r+"px",e.style.top=Math.round((this.elHeight-r)*.5)+"px",e.style.left=Math.round((this.elWidth-n)*.5)+"px"},_showHoverEffectSmall:function(){TweenMax.to(this.ui.image,1.1,{y:24,ease:Power3.easeInOut,force3D:!0}),TweenMax.to(this.ui.hoverBackgroundSmall,1.1,{opacity:1,y:this.ui.hoverBackgroundSmall.offsetHeight*.1,ease:Power3.easeInOut,force3D:!0})},_hideHoverEffectSmall:function(){TweenMax.to(this.ui.image,1.2,{y:0,ease:Power3.easeInOut,force3D:!0}),TweenMax.to(this.ui.hoverBackgroundSmall,1.2,{opacity:0,y:0,ease:Power3.easeInOut,force3D:!0})},_showHoverEffectWide:function(){TweenMax.to(this.ui.contentBackground,1.1,{x:24,opacity:1,ease:Power3.easeInOut,force3D:!0}),TweenMax.to(this.ui.hoverBackground,1.1,{x:24,ease:Power3.easeInOut,force3D:!0}),TweenMax.to(this.ui.content,1.1,{x:24,ease:Power3.easeInOut,force3D:!0}),TweenMax.to(this.ui.readMore,1.1,{x:-24,ease:Power3.easeInOut,force3D:!0}),TweenMax.to(this.ui.image,1.1,{x:-Math.round((this.el.offsetWidth-this.imageWidth)*.25),ease:Power3.easeInOut,force3D:!0})},_hideHoverEffectWide:function(){TweenMax.to(this.ui.contentBackground,1.2,{x:0,opacity:.5,ease:Power3.easeInOut,force3D:!0}),TweenMax.to(this.ui.hoverBackground,1.2,{x:0,ease:Power3.easeInOut,force3D:!0}),TweenMax.to(this.ui.content,1.2,{x:0,ease:Power3.easeInOut,force3D:!0}),TweenMax.to(this.ui.readMore,1.2,{x:0,ease:Power3.easeInOut,force3D:!0}),TweenMax.to(this.ui.image,1.2,{x:0,ease:Power3.easeInOut,force3D:!0})},_showHoverEffectTall:function(){TweenMax.to(this.ui.contentBackground,1.1,{y:24,opacity:1,ease:Power3.easeInOut,force3D:!0}),TweenMax.to(this.ui.hoverBackground,1.1,{y:24,ease:Power3.easeInOut,force3D:!0}),TweenMax.to(this.ui.content,1.1,{y:24,ease:Power3.easeInOut,force3D:!0}),TweenMax.to(this.ui.readMore,1.1,{y:-24,ease:Power3.easeInOut,force3D:!0}),TweenMax.to(this.ui.image,1.1,{y:-Math.round((this.el.offsetHeight-this.imageHeight)*.25),ease:Power3.easeInOut,force3D:!0})},_hideHoverEffectTall:function(){TweenMax.to(this.ui.contentBackground,1.2,{y:0,opacity:.5,ease:Power3.easeInOut,force3D:!0}),TweenMax.to(this.ui.hoverBackground,1.2,{y:0,ease:Power3.easeInOut,force3D:!0}),TweenMax.to(this.ui.content,1.2,{y:0,ease:Power3.easeInOut,force3D:!0}),TweenMax.to(this.ui.readMore,1.2,{y:0,ease:Power3.easeInOut,force3D:!0}),TweenMax.to(this.ui.image,1.2,{y:0,ease:Power3.easeInOut,force3D:!0})},_imageLoadHandler:function(){this._sizeImage()},_resizeHandler:function(){this.elWidth=this.el.offsetWidth,this.elHeight=this.el.offsetHeight,this._sizeImage(this.ui.image)},_articleMouseEnterHandler:function(e){var t=e.target;if(!t.classList.contains("grid-item--hoverable"))return;this.articleType==="small"?this._showHoverEffectSmall():this.articleType==="wide"?this._showHoverEffectWide():this.articleType==="tall"&&this._showHoverEffectTall()},_articleMouseLeaveHandler:function(e){var t=e.target;if(!t.classList.contains("grid-item--hoverable"))return;this.articleType==="small"?this._hideHoverEffectSmall():this.articleType==="wide"?this._hideHoverEffectWide():this.articleType==="tall"&&this._hideHoverEffectTall()}})}),define("desktop/views/components/grid-items/GridItemVideoComponent",["superhero","shared/utils/ResizeManager","desktop/views/components/FullscreenVideoComponent"],function(e,t,n){return e.Component.extend({ui:{video:".grid-item-video--video",image:".grid-item-video--poster",playButtonContainer:".button-play-container",playButtonInverse:".button-play--inverse",playButtonInverseIcon:".button-play--icon--inverse"},events:{"click .button-play":"_playButtonClickHandler","mouseenter .grid-item-video--overlay":"_buttonPlayMouseEnterHandler","mouseleave .grid-item-video--overlay":"_buttonPlayMouseLeaveHandler"},elWidth:0,elHeight:0,buttonIsAnimating:!1,buttonOutIsAnimating:!1,model:null,options:{},initialize:function(e){this.elWidth=0,this.elHeight=0,this.options=e||{},this.model=e.model||null,this._resizeImage(),_.bindAll(this,"_resizeHandler","_imageLoadHandler","_videoLoadHandler","_buttonFinishedAnimating")},onInitialized:function(){this._setupEventListeners()},_setupEventListeners:function(){this.listenTo(t,"resize",this._resizeHandler),!this.ui.image&&this.ui.video&&this.ui.video.addEventListener("loadedmetadata",this._videoLoadHandler)},onClose:function(){!this.ui.image&&this.ui.video&&this.ui.video.removeEventListener("loadedmetadata",this._videoLoadHandler)},_resizeImage:function(){var e=this.el.querySelector(".grid-item-video--poster");this.elWidth=this.options.elementSize.width,this.elHeight=this.options.elementSize.height;if(!e)return;this._sizeImage(e)},_sizeImage:function(e){var t=com.chapterone.getCoverSize(this.elWidth,this.elHeight,this.model.data.image_width,this.model.data.image_height);e.style.width=t.width+"px",e.style.height=t.height+"px",e.style.top=t.y+"px",e.style.left=t.x+"px"},_resizeVideo:function(){if(!this.ui.video)return;var e=this.ui.video.offsetWidth,t=this.ui.video.offsetHeight,n=com.chapterone.getCoverSize(this.elWidth,this.elHeight,e,t),r=Math.round(n.width*1.2),i=Math.round(n.height*1.2);this.ui.video.style.width=r+"px",this.ui.video.style.height=i+"px",this.ui.video.style.top=Math.round((this.elHeight-i)*.5)+"px",this.ui.video.style.left=Math.round((this.elWidth-r)*.5)+"px"},_openFullscreenVideo:function(){var t=this.model.data.vimeo_url,r=this.model.data.image_url;e.RegionManager.get("overlay").show(n,{videoUrl:t,videoPoster:r})},_imageLoadHandler:function(e){this._resizeVideo()},_videoLoadHandler:function(){this._resizeVideo()},_resizeHandler:function(){this.elWidth=this.el.offsetWidth,this.elHeight=this.el.offsetHeight,this.ui.image?this._sizeImage(this.ui.image):this.ui.video&&this._resizeVideo()},_playButtonClickHandler:function(){this._openFullscreenVideo()},_buttonPlayMouseEnterHandler:function(){if(!this.buttonIsAnimating){this.buttonIsAnimating=!0;var e=this.ui.playButtonContainer.offsetWidth;TweenMax.to(this.ui.playButtonInverse,.7,{x:e,ease:Expo.easeInOut,force3D:!0}),TweenMax.to(this.ui.playButtonInverseIcon,.7,{x:-e,ease:Expo.easeInOut,force3D:!0,onComplete:this._buttonFinishedAnimating})}},_buttonPlayMouseLeaveHandler:function(){this.buttonIsAnimating||(this.buttonIsAnimating=!0,TweenMax.to([this.ui.playButtonInverse,this.ui.playButtonInverseIcon],.7,{x:0,ease:Expo.easeIn,force3D:!0,onComplete:this._buttonFinishedAnimating})),this.buttonIsAnimating&&(this.buttonOutIsAnimating=!0)},_buttonFinishedAnimating:function(){this.buttonIsAnimating=!1,0,this.buttonOutIsAnimating&&(TweenMax.to([this.ui.playButtonInverse,this.ui.playButtonInverseIcon],.7,{x:0,ease:Expo.easeIn,force3D:!0}),this.buttonOutIsAnimating=!1)}})}),define("desktop/views/components/grid-items/GridItemHighlightComponent",["superhero","shared/utils/ResizeManager"],function(e,t){return e.Component.extend({ui:{container:".grid-item--highlight-container",image:".grid-item--highlight-image",headerContainer:".highlight-header-container",titleContainer:".header--highlight--inverse",title:".inversed-title--highlight",border:".grid-item-header-border--highlight"},timeline:null,elWidth:0,elHeight:0,options:{},initialize:function(e){this.timeline=null,this.elWidth=0,this.elHeight=0,this.options=e||{},this._resizeImage(),_.bindAll(this,"_highlightMouseEnterHandler","_highlightMouseLeaveHandler")},onInitialized:function(){this._setupEventListeners()},_setupEventListeners:function(){this.listenTo(t,"resize",this._resizeHandler),this.ui.container.addEventListener("mouseenter",this._highlightMouseEnterHandler,!1),this.ui.container.addEventListener("mouseleave",this._highlightMouseLeaveHandler,!1)},onClose:function(){this.ui.container.removeEventListener("mouseenter",this._highlightMouseEnterHandler,!1),this.ui.container.removeEventListener("mouseleave",this._highlightMouseLeaveHandler,!1)},_createHoverTimeline:function(){this.timeline=new TimelineMax({paused:!0}),this.timeline.insert(TweenMax.to(this.ui.image,.6,{opacity:1,scale:1.1,ease:Quad.easeOut,force3D:!0}))},_resizeImage:function(){var e=this.el.querySelector(".grid-item--highlight-image");this.elWidth=this.options.elementSize.width,this.elHeight=this.options.elementSize.height,this._sizeImage(e)},_sizeImage:function(e){var t=com.chapterone.getCoverSize(this.elWidth,this.elHeight,this.model.data.image_width,this.model.data.image_height);e.style.width=t.width+"px",e.style.height=t.height+"px",e.style.top=t.y+"px",e.style.left=t.x+"px"},_showHoverEffect:function(){this.timeline||this._createHoverTimeline(),this.timeline.timeScale(1),this.timeline.play()},_hideHoverEffect:function(){this.timeline.timeScale(1.2),this.timeline.reverse()},_highlightMouseEnterHandler:function(e){var t=e.target;if(!t.classList.contains("grid-item--hoverable"))return;this._showHoverEffect()},_highlightMouseLeaveHandler:function(e){var t=e.target;if(!t.classList.contains("grid-item--hoverable"))return;this._hideHoverEffect()},_resizeHandler:function(){this.elWidth=this.el.offsetWidth,this.elHeight=this.el.offsetHeight,this._sizeImage(this.ui.image)}})}),define("desktop/views/components/FullscreenSliderComponent",["superhero","shared/utils/ResizeManager"],function(e,t){return e.View.extend({template:"overlay/slideshow",className:"fullscreen-slideshow-overlay",ui:{slides:".slideshow-slide",images:".slideshow-slide--visual",captions:".slideshow-slide--caption",countCurrent:".slideshow-count--current",countTotal:".slideshow-count--total",imageShade:".slideshow-slide--shade",slideshowFullscreen:".slideshow-fullscreen",buttonNextInverted:".button-slideshow--next--inverted",buttonNextInnerInverted:".button-slideshow-inverted--inner-next",buttonNextIcon:".slideshow--next-icon",buttonNextIconInverted:".slideshow--next-icon--inverted",buttonPrevInverted:".button-slideshow--prev--inverted",buttonPrevInnerInverted:".button-slideshow-inverted--inner-prev",buttonPrevIcon:".slideshow--prev-icon",buttonPrevIconInverted:".slideshow--prev-icon--inverted",buttonCloseInverted:".button-slideshow-close--inverted",buttonCloseIconInverted:".button-slideshow-close--icon--inverted"},events:{"click .slideshow-next":"_buttonNextClickHandler","click .slideshow-prev":"_buttonPrevClickHandler","mouseenter .slideshow-next":"_buttonNextMouseEnterHandler","mouseleave .slideshow-next":"_buttonNextMouseLeaveHandler","mouseenter .slideshow-prev":"_buttonPrevMouseEnterHandler","mouseleave .slideshow-prev":"_buttonPrevMouseLeaveHandler","click .fullscreen-slide-show-close":"_closeButtonClickHandler","mouseenter .fullscreen-slide-show-close":"_buttonCloseMouseEnterHandler","mouseleave .fullscreen-slide-show-close":"_buttonCloseMouseLeaveHandler"},options:{},slideShowWidth:0,activeSlideIndex:0,slideDataIndex:0,slidesData:null,slideshowAnimating:!1,pageWidth:0,pageHeight:0,initialize:function(e){this.options=e||{},this.activeSlideIndex=0,this.slideDataIndex=0,this.slideShowWidth=0,this.pageWidth=t.viewportWidth(),this.pageHeight=t.viewportHeight(),this.slidesData=this.options.slidesData,this.slideshowAnimating=!1,_.bindAll(this,"_slideAnimationCompleteHandler"),this.el.style.width=this.pageWidth+"px",this.el.style.left=-this.pageWidth+"px",com.chapterone.applicationView.disableBodyScroll()},onInitialized:function(){this.ui.captions[1].style.opacity=0,this.ui.captions[2].style.opacity=0,this._build(),this._resizeImages(),this._setupEventListeners()},_setupEventListeners:function(){this.listenTo(t,"resize",this._resizeHandler)},onClose:function(){com.chapterone.applicationView.enableBodyScroll()},transitionIn:function(e){com.chapterone.applicationView.overlaySwiperFromHome(e,!0),TweenMax.fromTo(this.ui.slideshowFullscreen,.48,{opacity:0},{opacity:1,ease:Expo.easeOut}),TweenMax.to(this.el,1,{x:this.pageWidth,ease:Quad.easeInOut,force3D:!0,delay:.2})},transitionOut:function(e,t){com.chapterone.applicationView.overlaySwiperToHome(e,t,!0),TweenMax.to(this.el,.8,{x:0,ease:Quad.easeInOut,force3D:!0,delay:.2}),TweenMax.fromTo(this.ui.slideshowFullscreen,.48,{opacity:1},{opacity:0,ease:Expo.easeOut})},_build:function(){this.ui.images[this.activeSlideIndex].src=this.slidesData[this.slideDataIndex].fullscreen.image_url,this.ui.captions[this.activeSlideIndex].textContent=this.slidesData[this.slideDataIndex].caption,this.ui.images[this.activeSlideIndex+1].src=this.slidesData[this.slideDataIndex+1].fullscreen.image_url,this.ui.captions[this.activeSlideIndex+1].textContent=this.slidesData[this.slideDataIndex+1].caption,this.ui.images[this.activeSlideIndex+2].src=this.slidesData[this.slidesData.length-1].fullscreen.image_url,this.ui.captions[this.activeSlideIndex+2].textContent=this.slidesData[this.slidesData.length-1].caption,this.ui.countCurrent.textContent=this.slideDataIndex+1,this.ui.countTotal.textContent=this.slidesData.length},_resizeImages:function(){var e,t,n,r;for(var i=0,s=3;i<s;i++)r=this.ui.images[i],e=this.slideDataIndex+i,e===-1?e=this.slidesData.length-1:e===-2?e=this.slidesData.length-2:e===this.slidesData.length?e=0:e===this.slidesData.length+1&&(e=1),n=this.slidesData[e].fullscreen.image_width,t=this.slidesData[e].fullscreen.image_height,this._resizeImage(r,n,t)},_resizeImage:function(e,t,n){var r=com.chapterone.getCoverSize(this.pageWidth,this.pageHeight,t,n);e.style.width=r.width+"px",e.style.height=r.height+"px"},_rebuildSlider:function(e,t){var n=this.ui.slides[this.activeSlideIndex],r=this.ui.images[this.activeSlideIndex];e.classList.remove("slideshow-slide--next"),e.classList.add("slideshow-slide--active"),n.classList.contains("slideshow-slide--first")&&n.classList.remove("slideshow-slide--first"),n.classList.remove("slideshow-slide--active"),TweenMax.set(n,{clearProps:"all"}),TweenMax.set(r,{clearProps:"all"}),this.activeSlideIndex=t,this.slideshowAnimating=!1},_repositionSlide:function(){TweenMax.set(this.el,{x:this.pageWidth});if(this.ui.slides[this.activeSlideIndex].classList.contains("slideshow-slide--first"))return;0,TweenMax.set(this.ui.slides[this.activeSlideIndex],{x:this.pageWidth}),TweenMax.set(this.ui.images[this.activeSlideIndex],{x:-this.pageWidth})},_closeSlider:function(){e.RegionManager.get("overlay").clear()},_showNextSlide:function(e){var t,n,r;e<0?e=this.ui.slides.length-1:e>this.ui.slides.length-1&&(e=0),n=this.ui.slides[e],r=this.ui.images[e],t=this.ui.captions[e],n.classList.add("slideshow-slide--next"),this.ui.captions[this.activeSlideIndex].style.opacity=0,TweenMax.to(n,.6,{x:this.pageWidth,ease:Quad.easeOut,delay:0,roundProps:["x"]}),TweenMax.to(r,.6,{x:-this.pageWidth,ease:Quad.easeOut,delay:0,roundProps:["x"]});if(!this.shadeHidden&&!t.textContent.length)TweenMax.to(this.ui.imageShade,.2,{opacity:0,ease:Linear.easeNone}),this.shadeHidden=!0;else if(this.shadeHidden&&t.textContent.length){TweenMax.set(t,{opacity:1,delay:.6}),TweenMax.to(this.ui.imageShade,.4,{opacity:1,ease:Linear.easeNone,delay:.6,onComplete:this._slideAnimationCompleteHandler,onCompleteParams:[n,e]}),this.shadeHidden=!1;return}TweenMax.to(t,.2,{opacity:1,ease:Linear.easeNone,delay:.6,onComplete:this._slideAnimationCompleteHandler,onCompleteParams:[n,e]})},_showPrevSlide:function(e){var t,n,r;e<0?e=this.ui.slides.length-1:e>this.ui.slides.length-1&&(e=0),n=this.ui.slides[e],r=this.ui.images[e],t=this.ui.captions[e],n.classList.add("slideshow-slide--next"),this.ui.captions[this.activeSlideIndex].style.opacity=0,TweenMax.fromTo(n,.6,{x:this.pageWidth*2},{x:this.pageWidth,ease:Quad.easeOut,delay:0,roundProps:["x"]}),TweenMax.fromTo(r,.6,{x:-this.pageWidth*2},{x:-this.pageWidth,ease:Quad.easeOut,delay:0,roundProps:["x"]});if(!this.shadeHidden&&!t.textContent.length)TweenMax.to(this.ui.imageShade,.2,{opacity:0,ease:Linear.easeNone}),this.shadeHidden=!0;else if(this.shadeHidden&&t.textContent.length){TweenMax.set(t,{opacity:1,delay:.6}),TweenMax.to(this.ui.imageShade,.4,{opacity:1,ease:Linear.easeNone,delay:.6,onComplete:this._slideAnimationCompleteHandler,onCompleteParams:[n,e]}),this.shadeHidden=!1;return}TweenMax.to(t,.2,{opacity:1,ease:Linear.easeNone,delay:.6,onComplete:this._slideAnimationCompleteHandler,onCompleteParams:[n,e]})},_loadNewSlideContent:function(e,t,n){n===-1?n=this.ui.slides.length-1:n===-2?n=this.ui.slides.length-2:n===this.ui.slides.length?n=0:n===this.ui.slides.length+1&&(n=1),e<0?e=this.slidesData.length-1:e>this.slidesData.length-1&&(e=0),t===-1?t=this.slidesData.length-1:t===-2?t=this.slidesData.length-2:t===this.slidesData.length?t=0:t===this.slidesData.length+1&&(t=1);var r=this.slidesData[t],i=this.ui.images[n],s=this.ui.captions[n],o=this.ui.images[n],u=r.fullscreen.image_width,a=r.fullscreen.image_height;this._resizeImage(o,u,a),i.src=r.fullscreen.image_url,s.textContent=r.caption,this.slideDataIndex=e,this.ui.countCurrent.textContent=this.slideDataIndex+1},_buttonNextShowHover:function(){var e=this.ui.buttonNextInverted.offsetWidth;TweenMax.to(this.ui.buttonNextInverted,.7,{x:e,ease:Expo.easeInOut,force3D:!0}),TweenMax.to(this.ui.buttonNextInnerInverted,.7,{x:-e,ease:Expo.easeInOut,force3D:!0}),TweenMax.fromTo(this.ui.buttonNextIconInverted,.48,{x:-(this.ui.buttonNextIconInverted.offsetWidth*.5)},{x:-(this.ui.buttonNextIconInverted.offsetWidth*.5)+10,ease:Expo.easeOut,delay:.3,force3D:!0})},_buttonNextHideHover:function(){TweenMax.fromTo(this.ui.buttonNextIcon,.48,{x:-(this.ui.buttonNextIconInverted.offsetWidth*.5)+10},{x:-(this.ui.buttonNextIconInverted.offsetWidth*.5),ease:Expo.easeOut,delay:.3,force3D:!0}),TweenMax.to([this.ui.buttonNextInverted,this.ui.buttonNextInnerInverted],.7,{x:0,ease:Expo.easeInOut,force3D:!0})},_buttonPrevShowHover:function(){var e=this.ui.buttonPrevInverted.offsetWidth;TweenMax.to(this.ui.buttonPrevInverted,.7,{x:-e,ease:Expo.easeInOut,force3D:!0}),TweenMax.to(this.ui.buttonPrevInnerInverted,.7,{x:e,ease:Expo.easeInOut,force3D:!0}),TweenMax.fromTo(this.ui.buttonPrevIconInverted,.48,{x:-(this.ui.buttonNextIconInverted.offsetWidth*.5)},{x:-(this.ui.buttonNextIconInverted.offsetWidth*.5)-10,ease:Expo.easeOut,delay:.3,force3D:!0})},_buttonPrevHideHover:function(){TweenMax.fromTo(this.ui.buttonPrevIcon,.48,{x:-(this.ui.buttonNextIconInverted.offsetWidth*.5)-10},{x:-(this.ui.buttonNextIconInverted.offsetWidth*.5),ease:Expo.easeOut,delay:.3,force3D:!0}),TweenMax.to([this.ui.buttonPrevInverted,this.ui.buttonPrevInnerInverted],.7,{x:0,ease:Expo.easeInOut,force3D:!0})},_buttonCloseShowHover:function(){var e=this.ui.buttonCloseInverted.offsetHeight;TweenMax.to(this.ui.buttonCloseInverted,.7,{y:e,ease:Expo.easeInOut,force3D:!0}),TweenMax.to(this.ui.buttonCloseIconInverted,.7,{y:-e,ease:Expo.easeInOut,force3D:!0})},_buttonCloseHideHover:function(){TweenMax.to([this.ui.buttonCloseIconInverted,this.ui.buttonCloseInverted],.7,{y:0,ease:Expo.easeInOut,force3D:!0})},_buttonNextClickHandler:function(e){e.preventDefault();if(this.slideshowAnimating)return;this.slideshowAnimating=!0;var t=this.activeSlideIndex+1,n=this.activeSlideIndex+2,r=this.slideDataIndex+2,i=this.slideDataIndex+1;this._showNextSlide(t),this._loadNewSlideContent(i,r,n)},_buttonPrevClickHandler:function(e){e.preventDefault();if(this.slideshowAnimating)return;this.slideshowAnimating=!0;var t=this.activeSlideIndex-1,n=this.activeSlideIndex-2,r=this.slideDataIndex-2,i=this.slideDataIndex-1;this._showPrevSlide(t),this._loadNewSlideContent(i,r,n)},_slideAnimationCompleteHandler:function(e,t){this._rebuildSlider(e,t)},_closeButtonClickHandler:function(e){e.preventDefault(),this._closeSlider()},_buttonNextMouseEnterHandler:function(){this._buttonNextShowHover()},_buttonNextMouseLeaveHandler:function(){this._buttonNextHideHover()},_buttonPrevMouseEnterHandler:function(){this._buttonPrevShowHover()},_buttonPrevMouseLeaveHandler:function(){this._buttonPrevHideHover()},_buttonCloseMouseEnterHandler:function(){this._buttonCloseShowHover()},_buttonCloseMouseLeaveHandler:function(){this._buttonCloseHideHover()},_resizeHandler:function(){this.pageWidth=t.viewportWidth(),this.pageHeight=t.viewportHeight(),this.el.style.width=this.pageWidth+"px",this.el.style.left=-this.pageWidth+"px",this._resizeImages(),this._repositionSlide()}})}),define("desktop/views/components/grid-items/GridItemSlideshowComponent",["superhero","shared/utils/ResizeManager","desktop/views/components/FullscreenSliderComponent"],function(e,t,n){return e.Component.extend({ui:{slides:".slideshow-slide",images:".slideshow-slide--visual",captions:".slideshow-slide--caption",countCurrent:".slideshow-count--current",countTotal:".slideshow-count--total",imageShade:".slideshow-slide--shade",buttonNextInverted:".button-slideshow--next--inverted",buttonNextInnerInverted:".button-slideshow-inverted--inner-next",buttonNextIcon:".slideshow--next-icon",buttonNextIconInverted:".slideshow--next-icon--inverted",buttonPrevInverted:".button-slideshow--prev--inverted",buttonPrevInnerInverted:".button-slideshow-inverted--inner-prev",buttonPrevIcon:".slideshow--prev-icon",buttonPrevIconInverted:".slideshow--prev-icon--inverted",buttonFullscreenInverted:".button-slideshow-fullscreen--inverted",buttonFullscreenInnerInverted:".button-slideshow-fullscreen--inverted--inner",buttonFullscreenIcon:".icon-slideshow-fullscreen"},events:{"click .slideshow-next":"_buttonNextClickHandler","click .slideshow-prev":"_buttonPrevClickHandler","mouseenter .slideshow-next":"_buttonNextMouseEnterHandler","mouseleave .slideshow-next":"_buttonNextMouseLeaveHandler","mouseenter .slideshow-prev":"_buttonPrevMouseEnterHandler","mouseleave .slideshow-prev":"_buttonPrevMouseLeaveHandler","click .button-slideshow-fullscreen":"_buttonFullscreenSlideshowClickHandler","click .slideshow-to-fullscreen":"_fullscreenButtonClickHandler","click .slideshow-slide":"_slideshowSlideClickHandler","mouseenter .slideshow-to-fullscreen":"_mouseEnterFullscreenButtonHandler","mouseleave .slideshow-to-fullscreen":"_mouseLeaveFullscreenButtonHandler","mouseenter .slideshow-slide":"_mouseEnterSlideHandler","mouseleave .slideshow-slide":"_mouseLeaveSlideHandler"},slideShowWidth:0,activeSlideIndex:0,slideDataIndex:0,slidesData:null,slideshowAnimating:!1,elWidth:0,elHeight:0,shadeHidden:!1,options:{},initialize:function(e){this.activeSlideIndex=0,this.slideDataIndex=0,this.slideShowWidth=0,this.slidesData=null,this.slideshowAnimating=!1,this.shadeHidden=!1,this.options=e||{},this.elWidth=this.options.elementSize.width,this.elHeight=this.options.elementSize.height,_.bindAll(this,"_slideAnimationCompleteHandler")},onInitialized:function(){this.slidesData=this.model.data.slides,this._build(),this._resizeImages(),this._setupEventListeners()},_build:function(){this.ui.images[this.activeSlideIndex].src=this.slidesData[this.slideDataIndex].image_url,this.ui.captions[this.activeSlideIndex].textContent=this.slidesData[this.slideDataIndex].caption,this.ui.images[this.activeSlideIndex+1].src=this.slidesData[this.slideDataIndex+1].image_url,this.ui.captions[this.activeSlideIndex+1].textContent=this.slidesData[this.slideDataIndex+1].caption,this.ui.images[this.activeSlideIndex+2].src=this.slidesData[this.slidesData.length-1].image_url,this.ui.captions[this.activeSlideIndex+2].textContent=this.slidesData[this.slidesData.length-1].caption,this.ui.countCurrent.textContent=this.slideDataIndex+1,this.ui.countTotal.textContent=this.slidesData.length},_setupEventListeners:function(){this.listenTo(t,"resize",this._resizeHandler)},_rebuildSlider:function(e,t){var n=this.ui.slides[this.activeSlideIndex],r=this.ui.images[this.activeSlideIndex];e.classList.remove("slideshow-slide--next"),e.classList.add("slideshow-slide--active"),n.classList.contains("slideshow-slide--first")&&n.classList.remove("slideshow-slide--first"),n.classList.remove("slideshow-slide--active"),TweenMax.set(n,{clearProps:"all"}),TweenMax.set(r,{clearProps:"transform"}),this.activeSlideIndex=t,this.slideshowAnimating=!1},_repositionSlide:function(){if(this.ui.slides[this.activeSlideIndex].classList.contains("slideshow-slide--first"))return;TweenMax.set(this.ui.slides[this.activeSlideIndex],{x:this.elWidth-5}),TweenMax.set(this.ui.images[this.activeSlideIndex],{x:-this.elWidth+5})},_resizeImages:function(){var e,t,n,r;for(var i=0,s=3;i<s;i++)r=this.ui.images[i],e=this.slideDataIndex+i,e===-1?e=this.slidesData.length-1:e===-2?e=this.slidesData.length-2:e===this.slidesData.length?e=0:e===this.slidesData.length+1&&(e=1),n=this.slidesData[e].image_width,t=this.slidesData[e].image_height,this._resizeImage(r,n,t)},_resizeImage:function(e,t,n){var r=com.chapterone.getCoverSize(this.elWidth,this.elHeight,t,n);e.style.width=r.width+"px",e.style.height=r.height+"px"},_showNextSlide:function(e){var t,n,r;e<0?e=this.ui.slides.length-1:e>this.ui.slides.length-1&&(e=0),n=this.ui.slides[e],r=this.ui.images[e],t=this.ui.captions[e],n.classList.add("slideshow-slide--next"),this.ui.captions[this.activeSlideIndex].style.opacity=0,TweenMax.to(n,.6,{x:this.elWidth-5,ease:Quad.easeOut,delay:0,roundProps:["x"]}),TweenMax.to(r,.6,{x:-this.elWidth,ease:Quad.easeOut,delay:0,roundProps:["x"]});if(!this.shadeHidden&&!t.textContent.length)TweenMax.to(this.ui.imageShade,.2,{opacity:0,ease:Linear.easeNone}),this.shadeHidden=!0;else if(this.shadeHidden&&t.textContent.length){TweenMax.set(t,{opacity:1,delay:.6}),TweenMax.to(this.ui.imageShade,.4,{opacity:1,ease:Linear.easeNone,delay:.6,onComplete:this._slideAnimationCompleteHandler,onCompleteParams:[n,e]}),this.shadeHidden=!1;return}TweenMax.to(t,.2,{opacity:1,ease:Linear.easeNone,delay:.6,onComplete:this._slideAnimationCompleteHandler,onCompleteParams:[n,e]})},_showPrevSlide:function(e){var t,n,r;e<0?e=this.ui.slides.length-1:e>this.ui.slides.length-1&&(e=0),n=this.ui.slides[e],r=this.ui.images[e],t=this.ui.captions[e],n.classList.add("slideshow-slide--next"),this.ui.captions[this.activeSlideIndex].style.opacity=0,TweenMax.fromTo(n,.6,{x:this.elWidth*2},{x:this.elWidth-5,ease:Quad.easeOut,delay:0,roundProps:["x"]}),TweenMax.fromTo(r,.6,{x:-this.elWidth*2},{x:-this.elWidth,ease:Quad.easeOut,delay:0,roundProps:["x"]});if(!this.shadeHidden&&!t.textContent.length)TweenMax.to(this.ui.imageShade,.2,{opacity:0,ease:Linear.easeNone}),this.shadeHidden=!0;else if(this.shadeHidden&&t.textContent.length){TweenMax.set(t,{opacity:1,delay:.6}),TweenMax.to(this.ui.imageShade,.4,{opacity:1,ease:Linear.easeNone,delay:.6,onComplete:this._slideAnimationCompleteHandler,onCompleteParams:[n,e]}),this.shadeHidden=!1;return}TweenMax.to(t,.2,{opacity:1,ease:Linear.easeNone,delay:.6,onComplete:this._slideAnimationCompleteHandler,onCompleteParams:[n,e]})},_loadNewSlideContent:function(e,t,n){n===-1?n=this.ui.slides.length-1:n===-2?n=this.ui.slides.length-2:n===this.ui.slides.length?n=0:n===this.ui.slides.length+1&&(n=1),e<0?e=this.slidesData.length-1:e>this.slidesData.length-1&&(e=0),t===-1?t=this.slidesData.length-1:t===-2?t=this.slidesData.length-2:t===this.slidesData.length?t=0:t===this.slidesData.length+1&&(t=1);var r=this.slidesData[t],i=this.ui.images[n],s=this.ui.captions[n],o=this.ui.images[n],u=r.image_width,a=r.image_height;this._resizeImage(o,u,a),i.src=r.image_url,s.textContent=r.caption,this.slideDataIndex=e,this.ui.countCurrent.textContent=this.slideDataIndex+1},_openFullscreenSlideshow:function(){e.RegionManager.get("overlay").show(n,{slidesData:this.slidesData})},_buttonNextShowHover:function(){var e=this.ui.buttonNextInverted.offsetWidth;TweenMax.to(this.ui.buttonNextInverted,.7,{x:e,ease:Expo.easeInOut,force3D:!0}),TweenMax.to(this.ui.buttonNextInnerInverted,.7,{x:-e,ease:Expo.easeInOut,force3D:!0}),TweenMax.fromTo(this.ui.buttonNextIconInverted,.48,{x:-(this.ui.buttonNextIconInverted.offsetWidth*.5)},{x:-(this.ui.buttonNextIconInverted.offsetWidth*.5)+10,ease:Expo.easeOut,delay:.3,force3D:!0})},_buttonNextHideHover:function(){TweenMax.fromTo(this.ui.buttonNextIcon,.48,{x:-(this.ui.buttonNextIconInverted.offsetWidth*.5)+10},{x:-(this.ui.buttonNextIconInverted.offsetWidth*.5),ease:Expo.easeOut,delay:.3,force3D:!0}),TweenMax.to([this.ui.buttonNextInverted,this.ui.buttonNextInnerInverted],.7,{x:0,ease:Expo.easeInOut,force3D:!0})},_buttonPrevShowHover:function(){var e=this.ui.buttonPrevInverted.offsetWidth;TweenMax.to(this.ui.buttonPrevInverted,.7,{x:-e,ease:Expo.easeInOut,force3D:!0}),TweenMax.to(this.ui.buttonPrevInnerInverted,.7,{x:e,ease:Expo.easeInOut,force3D:!0}),TweenMax.fromTo(this.ui.buttonPrevIconInverted,.48,{x:-(this.ui.buttonNextIconInverted.offsetWidth*.5)},{x:-(this.ui.buttonNextIconInverted.offsetWidth*.5)-10,ease:Expo.easeOut,delay:.3,force3D:!0})},_buttonPrevHideHover:function(){TweenMax.fromTo(this.ui.buttonPrevIcon,.48,{x:-(this.ui.buttonNextIconInverted.offsetWidth*.5)-10},{x:-(this.ui.buttonNextIconInverted.offsetWidth*.5),ease:Expo.easeOut,delay:.3,force3D:!0}),TweenMax.to([this.ui.buttonPrevInverted,this.ui.buttonPrevInnerInverted],.7,{x:0,ease:Expo.easeInOut,force3D:!0})},_buttonFullscreenShowHover:function(){var e=this.ui.buttonFullscreenInverted.offsetHeight;TweenMax.to(this.ui.buttonFullscreenInverted,.7,{y:-e,ease:Expo.easeInOut,force3D:!0}),TweenMax.to(this.ui.buttonFullscreenIcon,.7,{opacity:1,ease:Expo.easeInOut}),TweenMax.to(this.ui.buttonFullscreenInnerInverted,.7,{y:e,ease:Expo.easeInOut,force3D:!0})},_buttonFullscreenHideHover:function(){TweenMax.to([this.ui.buttonFullscreenInverted,this.ui.buttonFullscreenInnerInverted],.7,{y:0,ease:Expo.easeInOut,force3D:!0}),TweenMax.to(this.ui.buttonFullscreenIcon,.7,{opacity:0,ease:Expo.easeInOut})},_buttonNextClickHandler:function(e){e.preventDefault();if(this.slideshowAnimating)return;this.slideshowAnimating=!0;var t=this.activeSlideIndex+1,n=this.activeSlideIndex+2,r=this.slideDataIndex+2,i=this.slideDataIndex+1;this._showNextSlide(t),this._loadNewSlideContent(i,r,n)},_buttonPrevClickHandler:function(e){e.preventDefault();if(this.slideshowAnimating)return;this.slideshowAnimating=!0;var t=this.activeSlideIndex-1,n=this.activeSlideIndex-2,r=this.slideDataIndex-2,i=this.slideDataIndex-1;this._showPrevSlide(t),this._loadNewSlideContent(i,r,n)},_slideAnimationCompleteHandler:function(e,t){this._rebuildSlider(e,t)},_buttonFullscreenSlideshowClickHandler:function(){this._openFullscreenSlideshow()},_buttonNextMouseEnterHandler:function(){this._buttonNextShowHover()},_buttonNextMouseLeaveHandler:function(){this._buttonNextHideHover()},_buttonPrevMouseEnterHandler:function(){this._buttonPrevShowHover()},_buttonPrevMouseLeaveHandler:function(){this._buttonPrevHideHover()},_fullscreenButtonClickHandler:function(){this._openFullscreenSlideshow()},_slideshowSlideClickHandler:function(){this._openFullscreenSlideshow()},_mouseEnterFullscreenButtonHandler:function(){this._buttonFullscreenShowHover()},_mouseLeaveFullscreenButtonHandler:function(){this._buttonFullscreenHideHover()},_mouseEnterSlideHandler:function(){this._buttonFullscreenShowHover()},_mouseLeaveSlideHandler:function(){this._buttonFullscreenHideHover()},_resizeHandler:function(){this.elWidth=this.el.offsetWidth,this.elHeight=this.el.offsetHeight,this._resizeImages(),this._repositionSlide()}})}),define("desktop/views/components/GridComponent",["superhero","shared/utils/ResizeManager","shared/utils/ScrollManager","desktop/views/components/grid-items/GridItemPhotoComponent","desktop/views/components/grid-items/GridItemInstagramComponent","desktop/views/components/grid-items/GridItemArticleComponent","desktop/views/components/grid-items/GridItemVideoComponent","desktop/views/components/grid-items/GridItemHighlightComponent","desktop/views/components/grid-items/GridItemSlideshowComponent"],function(e,t,n,r,i,s,o,u,a){return e.View.extend({lockedPositions:[],placedItems:[],placedItemsPosition:[],gridItems:[],componentViews:{photo:r,instagram:i,article:s,video:o,slideshow:a,highlight:u},freePosition:0,viewportWidth:0,gridItemSize:0,gridItemMargin:0,disableAjax:!1,heroHeight:0,DATA_URL:"/index.php/actions/chapterOne/entry/entries",BREAKPOINTS:[1024,1280,1440,1680,1920],GRID_ITEM_SIZE:[320,340,421,510,528],GRID_ITEM_MARGIN:[20,20,30,30,30],OFFSET_MIN:10,landingTag:null,initialize:function(){0,this.landingTag=this.el.getAttribute("data-tag"),0,_.bindAll(this,"_gridItemsFetchSuccessHandler","_resizeHandler")},onInitialized:function(){this.gridItemSize=this._setGridItemSize(),this.gridItemMargin=this._setGridItemMargin(),this.heroHeight=document.querySelector(".hero").offsetHeight,this.gridItemOffset=-(this.heroHeight-t.viewportHeight()*.5),this._setupEventListeners(),this._fetchGridItems()},fetchNewGridItems:function(){if(this.disableAjax)return;this.disableAjax=!0;var t=this.DATA_URL;this.landingTag?(t+="?tag="+this.landingTag,t+="&offset="+this.gridItems.length):t+="?offset="+this.gridItems.length;var n={url:t,success:this._gridItemsFetchSuccessHandler};e.ajax(n)},_setupEventListeners:function(){this.listenTo(t,"resize",this._resizeHandler)},_setGridItemSize:function(){var e;for(var n=0,r=this.BREAKPOINTS.length;n<r;n++){e=this.BREAKPOINTS[n];if(e>t.viewportWidth())return this.GRID_ITEM_SIZE[n-1]}return this.GRID_ITEM_SIZE[r-1]},_setGridItemMargin:function(){var e;for(var n=0,r=this.BREAKPOINTS.length;n<r;n++){e=this.BREAKPOINTS[n];if(e>t.viewportWidth())return this.GRID_ITEM_MARGIN[n-1]}return this.GRID_ITEM_MARGIN[r-1]},_fetchGridItems:function(){if(this.disableAjax)return;this.disableAjax=!0;var t=this.DATA_URL;this.landingTag&&(t+="?tag="+this.landingTag);var n={url:t,success:this._gridItemsFetchSuccessHandler};Backbone.$.ajaxSetup({headers:{Accept:"application/json"}}),e.ajax(n)},_rebuildGrid:function(){var e,r,i;this.heroHeight=document.querySelector(".hero").offsetHeight,this.gridItemOffset=-(this.heroHeight-t.viewportHeight()*.5),n.resetElementScrollNotifications();for(var s=0,o=this.placedItemsPosition.length;s<o;s++)e=this.placedItemsPosition[s],r=e.column*this.gridItemSize,i=e.row*this.gridItemSize,e.element.style.top=i+"px",e.element.style.left=r+"px",n.registerElementScrollNotification(e.element,this._gridItemScrolledInViewHandler,this.gridItemOffset);this.el.style.height=(e.row+1)*this.gridItemSize+"px",this.trigger("grid:build",(e.row+1)*this.gridItemSize)},_defineGridPosition:function(){var e,t,r,i,s,o,u,a,f=0;while(this.placedItems.length<this.gridItems.length){this.freePosition=this._getFreePosition(),e=this._getAllowedItems(this.freePosition),t=this._getItemModel(e);if(!t)continue;this._lockPositions(this.freePosition,t.brick_type),u=this._getPosition(this.freePosition),i=this._calculateElementSize(t.brick_type),o=this._createComponent(t,i),r={element:o.el,column:u.column,row:u.row},this.placedItemsPosition.push(r),o.el.style.top=u.y+"px",o.el.style.left=u.x+"px",TweenMax.set(o.el,{y:this.gridItemSize*.5}),this.el.appendChild(o.el),n.registerElementScrollNotification(o.el,this._gridItemScrolledInViewHandler,this.gridItemOffset)}this.el.style.height=(u.row+1)*this.gridItemSize+"px",this.trigger("grid:build",(u.row+1)*this.gridItemSize)},_getFreePosition:function(){var e=0;if(!this.lockedPositions.length)return e;for(var t=1;t<this.lockedPositions.length;t++)if(this.lockedPositions[t]-this.lockedPositions[t-1]!=1)return e=t,e;return this.lockedPositions.length},_getAllowedItems:function(e){var t=e%3,n;switch(t){case 0:n=["small","wide","tall","extraWide"];break;case 1:n=["small","wide"];break;case 2:n=["small","tall"]}return n.indexOf("wide")>-1&&this.lockedPositions.indexOf(e+1)>-1&&n.splice(n.indexOf("wide"),1),n.indexOf("tall")>-1&&this.lockedPositions.indexOf(e+3)>-1&&n.splice(n.indexOf("tall"),1),n.indexOf("extraWide")>-1&&(this.lockedPositions.indexOf(e+1)>-1||this.lockedPositions.indexOf(e+2)>-1)&&n.splice(n.indexOf("extraWide"),1),n.indexOf("extraWideTall")>-1&&(this.lockedPositions.indexOf(e+1)>-1||this.lockedPositions.indexOf(e+2)>-1||this.lockedPositions.indexOf(e+3)>-1||this.lockedPositions.indexOf(e+4)>-1||this.lockedPositions.indexOf(e+5)>-1)&&n.splice(n.indexOf("extraWideTall"),1),n},_getItemModel:function(e){var t,n;for(var r=0,i=this.gridItems.length;r<i;r++){n=this.gridItems[r],t=e.indexOf(n.brick_type);if(t>-1&&this.placedItems.indexOf(r)<0)break;n=null}return n?this.placedItems.push(r):this._lockPositions(this.freePosition,"empty"),n},_lockPositions:function(e,t){switch(t){case"small":this.lockedPositions.push(e);break;case"wide":this.lockedPositions.push(e,e+1);break;case"extraWide":this.lockedPositions.push(e,e+1,e+2);break;case"extraWideTall":this.lockedPositions.push(e,e+1,e+2,e+3,e+4,e+5);case"tall":this.lockedPositions.push(e,e+3);break;case"empty":this.lockedPositions.push(e)}this.lockedPositions.sort(this._sortByInteger)},_getPosition:function(e){var t=e%3,n=Math.floor(e/3);return{x:t*this.gridItemSize,y:n*this.gridItemSize,column:t,row:n}},_calculateElementSize:function(e){return elementSize={width:this.gridItemSize-this.gridItemMargin,height:this.gridItemSize-this.gridItemMargin},e==="wide"?elementSize.width=this.gridItemSize*2-this.gridItemMargin:e==="tall"?elementSize.height=this.gridItemSize*2-this.gridItemMargin:e==="extraWideTall"?(elementSize.width=this.gridItemSize*3-this.gridItemMargin,elementSize.height=this.gridItemSize*2-this.gridItemMargin):e==="extraWide"&&(elementSize.width=this.gridItemSize*3-this.gridItemMargin),elementSize},_createComponent:function(t,n){var r=t.content_type,i=t.brick_type;return componentView=this.componentViews[r],element=this._createGridElement(r,i),html=e.TemplateCache.get("partial/"+r)(t.data||{}),element.innerHTML=html,component=this.addComponent(r+this.guid(),componentView,element,{model:t,elementSize:n}),element=null,component},_createGridElement:function(e,t){var n=document.createElement("li");n.classList.add("grid-item");switch(t){case"small":break;case"wide":n.classList.add("grid-item--w2-h1");break;case"tall":n.classList.add("grid-item--w1-h2");break;case"extraWide":n.classList.add("grid-item--w3-h1");break;case"extraWideTall":n.classList.add("grid-item--w3-h2");break;default:}return n.classList.add("grid-item--"+e),n},_sortByInteger:function(e,t){return e-t},guid:function(){var e=function(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},_gridItemsFetchSuccessHandler:function(e){this.gridItems=_.union(this.gridItems,e);if(!e.length&&this.landingTag){this.landingTag=null,this.disableAjax=!1,this._fetchGridItems();return}this._defineGridPosition(),e.length<this.OFFSET_MIN?this.trigger("grid:fetched:all"):this.disableAjax=!1},_resizeHandler:function(){var e=this._setGridItemSize();e!==this.gridItemSize&&(this.gridItemSize=e,this.gridItemMargin=this._setGridItemMargin(),this._rebuildGrid())},_gridItemScrolledInViewHandler:function(e){TweenMax.to(e,.6,{y:0,ease:Quad.easeOut,force3D:!0})}})}),define("desktop/views/pages/HomeView",["superhero","shared/utils/ResizeManager","shared/utils/ScrollManager","desktop/views/components/HeroComponent","desktop/views/components/GridComponent"],function(e,t,n,r,i){return e.View.extend({className:"page page-home",template:"pages/home",ui:{heroButtonContainer:".hero-button-container",gridContainer:".grid-news-articles",heroImage:".hero-image",heroVideo:".hero-video",heroHeader:".hero-header",heroContent:".hero-content",heroBody:".hero-content p",heroButtonWatch:".button-hero--watch",heroButtonOrder:".button-hero--order",playButtonContainer:".button-play-container",playButtonInitial:".button-play-initial",playButtonInitialIcon:".button-play--icon-initial",scrollIndicator:".hero-scroll-indicator",triangle:".triangle-logo",siteLogo:".site-logo-chapterone",siteLogoBig:".site-logo",footer:".hero-footer",footerSticky:".hero-footer-sticky",siteLogoSmall:".site-logo-chapterone--small"},components:{hero:{selector:".hero",module:r,options:{home:!0}},grid:{selector:".grid",module:i}},_isGridEnabled:!1,_allItemsFetched:!1,_gridPosition:!1,_gridHeight:0,_headerHeight:0,introTime:.2,introDelay:0,logoPosition:0,BREAKPOINTS:[768,1024,1280,1440,1680,1920],LOGO_POSITIONS:[40,40,40,50,50,49],firstHomeOpening:!0,options:{},initialize:function(e){this._isGridEnabled=!1,this._allItemsFetched=!1,this._gridPosition=!1,this._gridHeight=0,this._headerHeight=0,this.introTime=3,this.introDelay=1.2,this.firstHomeOpening=!0,this.options=e||{},0,_.bindAll(this,"_updateGridPositionCompleteHandler","_scrollIndicatorClickHandler","_onCompleteFooterHidden")},onInitialized:function(){this._headerHeight=document.querySelector(".header").offsetHeight,this._headerLogoSmall=document.querySelector(".site-logo-chapterone--small"),this._headerLogobig=document.querySelector(".site-logo"),this._setupEventListeners(),this.logoPosition=this._setLogoSize(),this.ui.heroImage&&!this.ui.heroVideo&&Settings.agent!=="tablet"&&this.options.firstPageOpening?this._startIntroAnimationImage():(Settings.agent==="tablet"||!this.options.firstPageOpening||!this.ui.heroImage&&!this.ui.heroVideo)&&this._skipIntroAnimation(),this.options.firstPageOpening==0&&(this.ui.siteLogo.style.marginTop="100px"),this.ui.scrollIndicator&&TweenMax.fromTo(this.ui.scrollIndicator,.5,{opacity:.5,y:10},{opacity:1,y:5,ease:Power3.easeInOut,delay:this.introTime+this.introDelay+.6,force3D:!0,repeat:-1,yoyo:!0})},_setupEventListeners:function(){this.listenTo(t,"resize",this._resizeHandler),this.listenTo(n,"scroll",this._scrollHandler),this.listenTo(this.components.grid,"grid:build",this._gridBuildHandler),this.listenTo(this.components.grid,"grid:fetched:all",this._allGridItemsFetchedHandler),this.listenTo(this.components.hero,"clicked:scrollindicator",this._scrollIndicatorClickHandler),this.listenTo(this.components.hero,"video:canplay",this._videoLoadHandler)},_startIntroAnimationVideo:function(){document.body.classList.contains("disable-scroll")||document.body.classList.add("disable-scroll");var e=document.querySelector(".header"),n=new TimelineMax({paused:!0,onComplete:this._introAnimationCompleteHandler});this.ui.heroVideo&&(n.insert(TweenMax.fromTo(this.ui.heroVideo,.8,{opacity:0},{opacity:1,ease:Linear.easeNone})),n.insert(TweenMax.to(this.ui.heroVideo,1,{opacity:.7,ease:Linear.easeNone,delay:.2}))),this.ui.siteLogo&&(n.insert(TweenMax.fromTo(this.ui.siteLogo,.34,{opacity:0},{opacity:1,ease:Linear.easeNone})),this.options.firstPageOpening==0?n.insert(TweenMax.to(this.ui.siteLogo,1.8,{y:-(t.viewportHeight()/7)-this.ui.siteLogo.offsetHeight*.5,ease:Power3.easeInOut,force3D:!0,delay:.2})):n.insert(TweenMax.to(this.ui.siteLogo,1.8,{y:-(t.viewportHeight()/15)-this.ui.siteLogo.offsetHeight*.5,ease:Power3.easeInOut,force3D:!0,delay:.2}))),this.ui.heroBody&&n.insert(TweenMax.fromTo(this.ui.heroBody,1.36,{opacity:0,scale:1.1,y:0},{opacity:.77,scale:1,y:t.viewportHeight()/9-this.ui.heroBody.offsetHeight*.5,force3D:!0,ease:Power3.easeInOut,delay:.2})),this.ui.heroButtonContainer&&n.insert(TweenMax.fromTo(this.ui.heroButtonContainer,1.4,{opacity:0,y:t.viewportHeight()/12},{opacity:1,y:t.viewportHeight()/28.5,ease:Power3.easeOut,delay:1.2,force3D:!0})),this.ui.footer&&n.insert(TweenMax.fromTo(this.ui.footer,1.08,{opacity:0,y:50},{opacity:1,y:0,ease:Power3.easeInOut,delay:.2,force3D:!0})),n.insert(TweenMax.fromTo(e,1.8,{y:-20,opacity:0},{y:0,opacity:1,ease:Power3.easeInOut,force3D:!0,delay:.2})),this.ui.heroVideo.play(),n.play()},_startIntroAnimationImage:function(){document.body.classList.contains("disable-scroll")||document.body.classList.add("disable-scroll");var e=document.querySelector(".header"),n=new TimelineMax({paused:!0,onComplete:this._introAnimationCompleteHandler});this.ui.siteLogo&&(this.ui.siteLogo.style.opacity=1,TweenMax.to(this.ui.siteLogo,1.6,{y:-(t.viewportHeight()/10)-this.ui.siteLogo.offsetHeight*.5,ease:Quad.easeOut,force3D:!0})),this.ui.heroBody&&TweenMax.fromTo(this.ui.heroBody,1.6,{opacity:0,scale:1.1,y:0},{opacity:1,scale:1,y:t.viewportHeight()/10-this.ui.heroBody.offsetHeight*.5,force3D:!0,ease:Quad.easeOut}),this.ui.heroButtonWatch&&TweenMax.fromTo(this.ui.heroButtonWatch,1.6,{opacity:0,y:t.viewportHeight()/6},{opacity:1,y:t.viewportHeight()/4.5,ease:Quad.easeOut,force3D:!0}),this.ui.heroButtonOrder&&TweenMax.fromTo(this.ui.heroButtonOrder,1.6,{opacity:0,y:t.viewportHeight()/6},{opacity:1,y:t.viewportHeight()/4.5,ease:Quad.easeOut,force3D:!0}),this.ui.scrollIndicator&&TweenMax.fromTo(this.ui.scrollIndicator,.8,{scale:0,opacity:0,y:-20},{scale:1,opacity:1,y:0,ease:Quad.easeOut,delay:.6,force3D:!0}),n.insert(TweenMax.fromTo(e,1.8,{y:-20,opacity:0},{y:0,opacity:1,ease:Power3.easeInOut,force3D:!0})),n.play()},_skipIntroAnimation:function(){var e=document.querySelector(".header");this.ui.heroButtonContainer.style.opacity=1,this.ui.footer.style.opacity=1,this.ui.siteLogo&&(this.ui.siteLogo.style.opacity=1,TweenMax.set(this.ui.siteLogo,{y:-(t.viewportHeight()/10)-this.ui.siteLogo.offsetHeight*.5})),this.ui.heroBody&&(this.ui.heroBody.style.opacity=1,TweenMax.set(this.ui.heroBody,{y:t.viewportHeight()/10-this.ui.heroBody.offsetHeight*.5})),this.ui.playButtonContainer&&(this.ui.playButtonContainer.style.opacity=1),this.ui.heroButtonWatch&&(this.ui.heroButtonWatch.style.opacity=1,TweenMax.set(this.ui.heroButtonWatch,{y:t.viewportHeight()/4.5})),this.ui.heroButtonOrder&&(this.ui.heroButtonOrder.style.opacity=1,TweenMax.set(this.ui.heroButtonOrder,{y:t.viewportHeight()/4.5})),this.ui.scrollIndicator&&(this.ui.scrollIndicator.style.opacity=1),e.style.opacity=1},_playVideoFromLoop:function(){this.ui.heroVideo.currentTime=this.introTime,TweenMax.to(this.ui.heroVideo,.3,{opacity:.3,ease:Linear.easeNone})},_setPageHeight:function(){if(!this._gridPosition)return;var e=this.el.offsetHeight;this.el.style.height=e-Math.abs(this._gridPosition)+"px"},_updatePageHeight:function(e){var t=this._gridHeight,n;this._gridHeight=e;if(!this._gridPosition)return;n=this.el.offsetHeight,this.el.style.height=n+(e-t)+"px"},_clearPageHeight:function(){this.el.removeAttribute("style")},_updateGridPosition:function(e,n){var r=this.components.hero.getHeight(),i=.8,s=1;this._gridPosition=-(t.viewportHeight()/100),e?(this._gridPosition=-(r-this._headerHeight-n)+250,this._setPageHeight(),this.components.hero.pauseVideo(),s=0):(this.components.hero.playVideo(),this._clearPageHeight()),this.components.hero.updateHeroTransparency(e,i),TweenMax.to(this.ui.gridContainer,i,{y:this._gridPosition,ease:Quad.easeInOut,force3D:!0,onComplete:this._updateGridPositionCompleteHandler}),TweenMax.to(this.ui.heroContent,i,{opacity:s,ease:Linear.easeNone,force3D:!0}),this._isGridEnabled=e},_hideTriangle:function(){this.ui.triangle.style.visibility="hidden"},_showFooter:function(){TweenMax.fromTo(this.ui.footer,.34,{opacity:0},{opacity:1,ease:Linear.easeNone}),TweenMax.fromTo(this.ui.footerSticky,.34,{opacity:1},{opacity:0,ease:Linear.easeNone})},_hideFooter:function(){TweenMax.fromTo(this.ui.footer,.34,{opacity:1},{opacity:0,ease:Linear.easeNone}),TweenMax.fromTo(this.ui.footerSticky,.34,{opacity:0},{opacity:1,ease:Linear.easeNone})},_setLogoSize:function(){var e;for(var n=0,r=this.BREAKPOINTS.length;n<r;n++){e=this.BREAKPOINTS[n];if(e>t.viewportWidth())return this.LOGO_POSITIONS[n-1]}return this.LOGO_POSITIONS[r-1]},_scrollHandler:function(e){0;var t=e.y>=this._headerHeight;this._isGridEnabled!==t&&Settings.agent!=="tablet"&&(this._updateGridPosition(t,e.y),e.y>this._headerHeight?(TweenMax.fromTo(this._headerLogoSmall,.34,{x:0},{x:this.logoPosition,ease:Linear.easeNone}),this._headerLogobig.style.display="block",TweenMax.fromTo(this._headerLogobig,.34,{opacity:0},{opacity:1,ease:Linear.easeNone}),TweenMax.fromTo(this.ui.footer,.34,{opacity:1},{opacity:0,ease:Linear.easeNone,onComplete:this._onCompleteFooterHidden}),TweenMax.fromTo(this.ui.footerSticky,.34,{opacity:0},{opacity:1,ease:Linear.easeNone})):(this.ui.footer.style.display="block",TweenMax.fromTo(this._headerLogoSmall,.34,{opacity:0,x:40},{opacity:1,x:0,ease:Linear.easeNone}),this._headerLogobig.style.display="none",TweenMax.fromTo(this._headerLogobig,.34,{opacity:1},{opacity:0,ease:Linear.easeNone}),TweenMax.fromTo(this.ui.footer,.34,{opacity:0},{opacity:1,ease:Linear.easeNone}),TweenMax.fromTo(this.ui.footerSticky,.34,{opacity:1},{opacity:0,ease:Linear.easeNone}))),this._isGridEnabled!==t&&Settings.agent==="tablet"&&(this._updateGridPosition(t,e.y),e.y>this._headerHeight?(TweenMax.fromTo(this._headerLogoSmall,.34,{x:0},{x:this.logoPosition,ease:Linear.easeNone}),this._headerLogobig.style.display="block",TweenMax.fromTo(this._headerLogobig,.34,{opacity:0},{opacity:1,ease:Linear.easeNone}),this.ui.footer.style.opacity=0,this.ui.footerSticky.style.opacity=1):(this.ui.footer.style.display="block",TweenMax.fromTo(this._headerLogoSmall,.34,{opacity:0,x:40},{opacity:1,x:0,ease:Linear.easeNone}),this._headerLogobig.style.display="none",TweenMax.fromTo(this._headerLogobig,.34,{opacity:1},{opacity:0,ease:Linear.easeNone}),this.ui.footer.style.opacity=1,this.ui.footerSticky.style.opacity=0)),e.y>=n.maxScrollY()&&!this._allItemsFetched&&this._fetchNewGridItems()},_updateGridPositionCompleteHandler:function(){this._isGridEnabled&&!this._allItemsFetched&&(this.ui.triangle.style.visibility="visible"),this._isGridEnabled&&this.components.hero.pauseVideo()},_fetchNewGridItems:function(){this.components.grid.fetchNewGridItems()},_gridBuildHandler:function(e){this._updatePageHeight(e)},_allGridItemsFetchedHandler:function(){this._allItemsFetched=!0,this._hideTriangle()},_scrollIndicatorClickHandler:function(){window.scrollTo(0,this._headerHeight+200),this.ui.footer.style.opacity=0,this.ui.footerSticky.style.opacity=1,TweenMax.fromTo(this.ui.footer,.34,{opacity:1},{opacity:0,ease:Linear.easeNone,onComplete:this._onCompleteFooterHidden}),TweenMax.fromTo(this.ui.footerSticky,.34,{opacity:0},{opacity:1,ease:Linear.easeNone})},_onCompleteFooterHidden:function(){0,this.ui.footer.style.display="none"},_resizeHandler:function(){this._headerHeight=document.querySelector(".header").offsetHeight,this._isGridEnabled&&(this.logoPosition=this._setLogoSize(),TweenMax.to(document.querySelector(".site-logo-chapterone--small"),.5,{x:this.logoPosition,ease:Power2.easeInOut}))},_introAnimationCompleteHandler:function(){document.body.classList.contains("disable-scroll")&&document.body.classList.remove("disable-scroll")},_videoLoadHandler:function(){0,this.firstHomeOpening?(this.firstHomeOpening=!1,this._startIntroAnimationVideo()):this._playVideoFromLoop()}})}),define("shared/utils/Social",["underscore","superhero"],function(e,t){var n=t.View.extend({initialize:function(){var e=this;window.fbAsyncInit=function(){FB.init({appId:Settings.fb_app_id,xfbml:!0,status:!1,version:"v2.5"}),e.trigger("social:loaded",{network:"facebook"})},function(e,t,n){var r,i=e.getElementsByTagName(t)[0];if(e.getElementById(n))return;r=e.createElement(t),r.id=n,r.src="//connect.facebook.net/en_US/sdk.js",i.parentNode.insertBefore(r,i)}(document,"script","facebook-jssdk"),window.twttr=function(e,t,n){var r,i,s=e.getElementsByTagName(t)[0];if(e.getElementById(n))return;return i=e.createElement(t),i.id=n,i.src="//platform.twitter.com/widgets.js",s.parentNode.insertBefore(i,s),window.twttr||(r={_e:[],ready:function(e){r._e.push(e)}})}(document,"script","twitter-wjs")},loadFacebook:function(e){var t=this;e&&e.callback&&e.callback(e.callbackParams[0],e.callbackParams[1],e.callbackParams[2])},loadTwitter:function(e){var t=this;window.twttr.ready(function(n){t.trigger("social:loaded",{network:"twitter"}),e&&e.callback&&e.callback(e.callbackParams[0],e.callbackParams[1],e.callbackParams[2])})}});return new n}),define("shared/utils/SocialSharer",["underscore","superhero","shared/utils/Social"],function(e,t,n){var r=t.View.extend({clickedFrom:"",initialize:function(){this.listenTo(n,"social:loaded",this.onLoaded),e.bindAll(this,"_twitterCallback","_facebookCallback","shareFacebook","shareTwitter","onLoaded")},onLoaded:function(e){this.setupTwitterCallback()},setupTwitterCallback:function(){window.twttr.ready(function(e){try{window.twttr.events.unbind("tweet",this._twitterCallback)}catch(t){}window.twttr.events.bind("tweet",this._twitterCallback)}.bind(this))},shareFacebook:function(e,t,n){this.clickedFrom=n,e=e||document.location.href+document.location.hash;var r=t.picture;FB&&FB.ui({method:"feed",link:e,picture:r,name:t&&t.title,description:t&&t.body},this._facebookCallback)},shareTwitter:function(e,t,n){this.clickedFrom=n;var e=e||document.location.href+document.location.hash,t=t||"";0,this.fireTwitterButtonClick(e,t)},fireTwitterButtonClick:function(e,t){var n=document.createElement("a"),r="https://twitter.com/intent/tweet?text="+encodeURIComponent(t.body)+"&url="+encodeURIComponent(e);n.setAttribute("href",r),n.setAttribute("target","_blank"),document.body.appendChild(n),twttr.widgets.load(),n.click(),document.body.removeChild(n)},_twitterCallback:function(){var e=this;this.clickedFrom=="final-screen-game"&&nl.shcc.eventBus.trigger("share-score:shareSuccess",{type:"twitter"}),e.trigger("shared",{type:"twitter"}),e.trigger("shared:twitter")},_facebookCallback:function(e){var t=this;e&&!e.error_code?(this.clickedFrom=="final-screen-game"&&nl.shcc.eventBus.trigger("share-score:shareSuccess",{type:"facebook"}),t.trigger("shared",{type:"facebook"}),t.trigger("shared:facebook")):t.trigger("error:facebook")}});return new r}),define("desktop/views/components/VimeoPlayerComponent",["superhero","shared/utils/ResizeManager"],function(e,t){return e.Component.extend({ui:{iframe:".vimeo-video",poster:".vimeo-poster",playButtonContainer:".button-play-container",playButtonInverse:".button-play--inverse",playButtonInverseIcon:".button-play--icon--inverse"},events:{"click .button-play":"_playButtonClickHandler","mouseenter .button-play-container":"_buttonPlayMouseEnterHandler","mouseleave .button-play-container":"_buttonPlayMouseLeaveHandler"},vimeoID:null,initialize:function(){0,this.vimeoID=this.el.getAttribute("data-video-id"),_.bindAll(this,"_loadVimeoVideoCompleteHandler")},onInitialized:function(){},_loadVimeoVideo:function(){this.ui.iframe.src="http://player.vimeo.com/video/"+this.vimeoID+"?autoplay=1&title=0&byline=0&portrait=0&api=1&player_id=player1",TweenMax.to([this.ui.poster,this.ui.playButtonContainer],.3,{opacity:0,ease:Quad.easeInOut,onComplete:this._loadVimeoVideoCompleteHandler()})},_playButtonClickHandler:function(){this._loadVimeoVideo()},_buttonPlayMouseEnterHandler:function(){var e=this.ui.playButtonContainer.offsetWidth;TweenMax.to(this.ui.playButtonInverse,.3,{x:e,ease:Quad.easeOut,force3D:!0}),TweenMax.to(this.ui.playButtonInverseIcon,.3,{x:-e,ease:Quad.easeOut,force3D:!0})},_buttonPlayMouseLeaveHandler:function(){TweenMax.to([this.ui.playButtonInverse,this.ui.playButtonInverseIcon],.4,{x:0,ease:Quad.easeOut,force3D:!0})},_loadVimeoVideoCompleteHandler:function(){this.ui.poster.style.display="none",this.ui.playButtonContainer.style.display="none"}})}),define("desktop/views/pages/ArticleView",["superhero","shared/utils/ResizeManager","shared/utils/ScrollManager","shared/utils/SocialSharer","desktop/views/components/VimeoPlayerComponent"],function(e,t,n,r,i){return e.View.extend({className:"page page-article",components:{vimeoPlayer:{selector:".vimeo-player",module:i}},ui:{scrollArea:".article-scrollarea",articleSection:".article-content-section",articleImage:".article-image",articleImageMetadata:".article-image-metadata",articleClose:".article-close-container",articleEntry:".article-entry",articleNext:".article-next",articleNextImageContent:".article-next-image-content",articleNextImage:".article-next-image",articleNextContent:".article-next-content",articleNextContentHover:".article-next-content-hover",articleNextContentEntryHover:".article-next-content-entry-hover",articleNextPointer:".article-next-pointer-text",shareContainer:".article-share",shareOptions:".share-options",shareButtonActive:".button-article-share-options-active",shareButtonActiveInner:".button-article-share-options-active-inner",facebookButtonActive:".button-article-share-facebook-active",facebookButtonActiveInner:".button-article-share-facebook-active-inner",twitterButtonActive:".button-article-share-twitter-active",twitterButtonActiveInner:".button-article-share-twitter-active-inner",closeButtonContainer:".article-close-container",closeButton:".article-close",closeIcon:".button-overlay-close",inverseCloseButtonContainer:".article-close-hover-container",inverseCloseButton:".article-close--inverse",inverseCloseIcon:".button-overlay-close--inverse"},events:{"mouseover .article-scrollarea":"_imageMouseEnterHandler","mouseout .article-scrollarea":"_imageMouseOutHandler","click .article-scrollarea":"_imageClickHandler","mouseover .article-share":"_shareContainerMouseEnterHandler","mouseout .article-share":"_shareContainerMouseOutHandler","mouseenter .button-article-share-options":"_shareButtonMouseEnterHandler","mouseleave .button-article-share-options":"_shareButtonMouseLeaveHandler","click .button-article-share-options":"_shareButtonClickHandler","mouseenter .button-article-share-facebook":"_shareButtonFacebookMouseEnterHandler","mouseleave .button-article-share-facebook":"_shareButtonFacebookMouseLeaveHandler","click .button-article-share-facebook":"_shareButtonFacebookClickHandler","mouseenter .button-article-share-twitter":"_shareButtonTwitterMouseEnterHandler","mouseleave .button-article-share-twitter":"_shareButtonTwitterMouseLeaveHandler","click .button-article-share-twitter":"_shareButtonTwitterClickHandler","mouseenter .article-close-container":"_closeButtonMouseEnterHandler","mouseleave .article-close-container":"_closeButtonMouseLeaveHandler","click .article-close":"_buttonCloseClickHandler"},pageWidth:0,pageHeight:0,imageFullscreen:!1,transitionInFromArticle:!1,shareOptionsOpen:!1,options:{},personalLanding:!1,initialize:function(e){this.pageWidth=t.viewportWidth(),this.pageHeight=t.viewportHeight(),this.imageFullscreen=!1,this.transitionInFromArticle=!1,this.shareOptionsOpen=!1,this.options=e||{},_.bindAll(this,"_articleNextMouseEnterHandler","_articleNextMouseLeaveHandler","_preloadNextArticleTemplate")},onInitialized:function(){this._setupEventListeners(),this.ui.nextArticle&&setTimeout(this._preloadNextArticleTemplate,1e3)},onTemplateRendered:function(){var e=this.el.querySelector(".article-image"),t=this.el.querySelector(".article-next-image");e&&this._resizeImage(e),t&&this._resizeImage(t,-100)},_setupEventListeners:function(){this.listenTo(t,"resize",this._resizeHandler),this.ui.articleNext&&(this.ui.articleNext.addEventListener("mouseenter",this._articleNextMouseEnterHandler,!1),this.ui.articleNext.addEventListener("mouseleave",this._articleNextMouseLeaveHandler,!1))},_removeEventListeners:function(){this.ui.articleNext&&(this.ui.articleNext.removeEventListener("mouseenter",this._articleNextMouseEnterHandler,!1),this.ui.articleNext.removeEventListener("mouseleave",this._articleNextMouseLeaveHandler,!1))},immediateTransitionIn:function(e){var t=e.previousFragment;t&&(t=t.split("/")),this.personalLanding=e.isFromHome,!e.previousFragment||e.isFromHome?this._transitionInHome(e):t&&t.length>1?(this.transitionInFromArticle=!0,this._transitionInArticle()):t&&t.length>0&&!this._transitionInFromArticle&&(this.el.style.left=-this.pageWidth+"px")},transitionIn:function(e){var t=e.previousFragment;t&&(t=t.split("/")),t&&t.length===1&&!this._transitionInFromArticle&&this._transitionInDeeplink(e)},_transitionInHome:function(e){var t=this;com.chapterone.applicationView.overlaySwiperFromHome(e),this.ui.shareContainer.style.opacity=1,TweenMax.from(this.el,1.3,{x:-this.pageWidth,ease:Quad.easeOut,force3D:!0,delay:.16,onComplete:function(){t.el.classList.add("page-article--back")},clearProps:"all"}),TweenMax.from(this.ui.closeIcon,.5,{x:80,ease:Quad.easeOut,delay:1.2})},_transitionInArticle:function(){var e=this;this.ui.shareContainer.style.opacity=1,TweenMax.fromTo(this.ui.articleEntry,.8,{opacity:0},{opacity:1,ease:Linear.easeNone,delay:.7}),TweenMax.fromTo(this.el,1.5,{y:this.pageHeight-522},{y:0,ease:Power4.easeInOut,force3D:!0,onComplete:function(){e.el.classList.add("page-article--back")}}),TweenMax.from(this.ui.closeIcon,.5,{x:80,ease:Quad.easeOut,delay:1.3});if(!this.ui.articleImage)return;TweenMax.fromTo(this.ui.articleImage,1.5,{y:-100},{y:0,ease:Power4.easeInOut,force3D:!0})},_transitionInDeeplink:function(e){var t=this,n=.5;com.chapterone.applicationView.hideOverlaySwiper(e,n),this.ui.shareContainer.style.opacity=1,TweenMax.to(this.el,1.2,{x:this.pageWidth,ease:Quad.easeOut,force3D:!0,onComplete:function(){t.el.classList.add("page-article--back"),t.el.removeAttribute("style")},clearProps:"all"})},transitionOut:function(e,t){var n=t.fragment.split("/");0,!t.fragment.length||n===1&&n[0]!=="rider"&&n[0]!=="location"&&n[0]!=="about"?this._transitionOutHome(e,t):n.length>1?this._transitionOutNextArticle(e,t):this._transitionOutDeeplink(e,t)},_transitionOutHome:function(e,t){com.chapterone.applicationView.overlaySwiperToHome(e,t),TweenMax.to(this.el,.8,{x:-this.pageWidth,ease:Quad.easeIn,delay:.15,force3D:!0}),TweenMax.to(this.ui.closeIcon,.4,{scale:0,ease:Quad.easeOut,force3D:!0})},_transitionOutNextArticle:function(e,t){TweenMax.to([this.ui.closeButtonContainer,this.ui.articleNextPointer],.2,{opacity:0,ease:Quad.easeOut}),TweenMax.to(this.el,1.1,{y:-400,ease:Power4.easeIn,force3D:!0,delay:.34,onComplete:e})},_transitionOutDeeplink:function(e,t){com.chapterone.applicationView.showOverlaySwiper(e,t),TweenMax.to(this.ui.closeIcon,.4,{scale:0,ease:Quad.easeOut,force3D:!0}),TweenMax.to(this.el,1.4,{x:this.pageWidth*.5,ease:Quad.easeOut,force3D:!0,delay:.1})},_resizeImage:function(e,t){var n=e.getAttribute("data-width"),r=e.getAttribute("data-height"),i=com.chapterone.getCoverSize(this.pageWidth,this.pageHeight,n,r),s=Math.round(i.width),o=Math.round(i.height);t=t||0,e.style.width=s+"px",e.style.height=o+"px",e.style.top=(this.pageHeight-o)*.5+t+"px",e.style.left=(this.pageWidth/2-s)*.5+"px"},_expandImage:function(){if(this.imageFullscreen||!this.ui.articleImage)return;document.body.style.cursor="pointer",TweenMax.to([this.ui.articleSection,this.ui.shareContainer],.6,{x:30,force3D:!0,ease:Quad.easeInOut}),TweenMax.to(this.ui.articleImage,.6,{x:10,force3D:!0,ease:Quad.easeInOut})},_contractImage:function(){if(this.imageFullscreen||!this.ui.articleImage)return;document.body.removeAttribute("style"),TweenMax.to([this.ui.articleSection,this.ui.articleImage,this.ui.shareContainer],.4,{x:0,force3D:!0,ease:Quad.easeOut,clearProps:"transform"})},_openImageFullscreen:function(){this.imageFullscreen=!0,TweenMax.to([this.ui.articleSection,this.ui.articleClose,this.ui.shareContainer],1.4,{x:this.pageWidth*.4,force3D:!0,roundProps:["x"],ease:Power4.easeInOut}),TweenMax.to(this.ui.articleImage,1.4,{x:this.pageWidth/4,force3D:!0,ease:Power4.easeInOut})},_closeImageFullscreen:function(){this.imageFullscreen=!1,document.body.removeAttribute("style"),TweenMax.to([this.ui.articleImage,this.ui.articleSection,this.ui.articleClose,this.ui.shareContainer],1.4,{x:0,force3D:!0,roundProps:["x"],ease:Power4.easeInOut})},_showCloseButtonHover:function(){TweenMax.to(this.ui.inverseCloseButtonContainer,.4,{x:-this.ui.inverseCloseButtonContainer.offsetWidth,force3D:!0,ease:Quad.easeOut}),TweenMax.to(this.ui.inverseCloseButton,.4,{x:this.ui.inverseCloseButtonContainer.offsetWidth,force3D:!0,ease:Quad.easeOut}),TweenMax.to([this.ui.closeIcon,this.ui.inverseCloseIcon],.4,{scale:1.3,force3D:!0,ease:Quad.easeOut})},_hideCloseButtonHover:function(){TweenMax.to(this.ui.inverseCloseButtonContainer,.4,{x:0,force3D:!0,ease:Quad.easeOut}),TweenMax.to(this.ui.inverseCloseButton,.4,{x:0,force3D:!0,ease:Quad.easeOut}),TweenMax.to([this.ui.closeIcon,this.ui.inverseCloseIcon],.4,{scale:1,ease:Quad.easeOut})},_nextArticleAnimateIn:function(){TweenMax.to([this.ui.articleNextImageContent,this.ui.articleNextContent],.6,{y:-50,force3D:!0,ease:Quad.easeInOut}),TweenMax.to(this.ui.articleNextContentHover,.6,{y:-522,force3D:!0,ease:Quad.easeInOut}),TweenMax.to(this.ui.articleNextContentEntryHover,.6,{y:472,force3D:!0,ease:Quad.easeInOut}),TweenMax.to(this.ui.articleNextPointer,.6,{y:100,force3D:!0,ease:Quad.easeInOut})},_nextArticleAnimateOut:function(){TweenMax.to([this.ui.articleNextImageContent,this.ui.articleNextContent,this.ui.articleNextPointer,this.ui.articleNextContentHover,this.ui.articleNextContentEntryHover],.6,{y:0,force3D:!0,ease:Quad.easeInOut})},_openShareOptions:function(){var e=this.ui.shareButtonActive.offsetWidth;TweenMax.to(this.ui.shareOptions,.4,{x:-e,force3D:!0,ease:Quad.easeInOut})},_closeShareOptions:function(){TweenMax.to(this.ui.shareOptions,.4,{x:0,force3D:!0,ease:Quad.easeInOut})},_imageMouseEnterHandler:function(e){if(e.target!==this.ui.scrollArea)return;this._expandImage()},_imageMouseOutHandler:function(e){if(e.target!==this.ui.scrollArea)return;this._contractImage()},_imageClickHandler:function(e){if(this.imageFullscreen){this._closeImageFullscreen();return}if(e.target!==this.ui.scrollArea)return;this.imageFullscreen||this._openImageFullscreen()},_shareContainerMouseEnterHandler:function(){this._expandImage()},_shareContainerMouseOutHandler:function(){this._contractImage()},_shareButtonMouseEnterHandler:function(){var e=this.ui.shareButtonActive.offsetWidth;TweenMax.to(this.ui.shareButtonActive,.4,{y:-e,force3D:!0,ease:Quad.easeInOut}),TweenMax.to(this.ui.shareButtonActiveInner,.4,{y:e,force3D:!0,ease:Quad.easeInOut})},_shareButtonMouseLeaveHandler:function(){if(this.shareOptionsOpen)return;TweenMax.to([this.ui.shareButtonActive,this.ui.shareButtonActiveInner],.4,{y:0,force3D:!0,ease:Quad.easeInOut})},_shareButtonClickHandler:function(){this.shareOptionsOpen?(this.shareOptionsOpen=!1,this._closeShareOptions()):(this.shareOptionsOpen=!0,this._openShareOptions())},_shareButtonFacebookMouseEnterHandler:function(){var e=this.ui.shareButtonActive.offsetWidth;TweenMax.to(this.ui.facebookButtonActive,.4,{x:-e*1.1,force3D:!0,ease:Quad.easeInOut}),TweenMax.to(this.ui.facebookButtonActiveInner,.4,{x:e*1.1,force3D:!0,ease:Quad.easeInOut})},_shareButtonFacebookMouseLeaveHandler:function(){TweenMax.to([this.ui.facebookButtonActive,this.ui.facebookButtonActiveInner],.4,{x:0,force3D:!0,ease:Quad.easeInOut})},_shareButtonFacebookClickHandler:function(){var e=this.ui.shareContainer.getAttribute("data-share-title"),t=this.ui.shareContainer.getAttribute("data-share-description"),n=this.ui.shareContainer.getAttribute("data-share-image");r.shareFacebook(null,{picture:n,title:e,body:t})},_shareButtonTwitterMouseEnterHandler:function(){var e=this.ui.shareButtonActive.offsetWidth;TweenMax.to(this.ui.twitterButtonActive,.4,{x:-e*1.1,force3D:!0,ease:Quad.easeInOut}),TweenMax.to(this.ui.twitterButtonActiveInner,.4,{x:e*1.1,force3D:!0,ease:Quad.easeInOut})},_shareButtonTwitterMouseLeaveHandler:function(){TweenMax.to([this.ui.twitterButtonActive,this.ui.twitterButtonActiveInner],.4,{x:0,force3D:!0,ease:Quad.easeInOut})},_shareButtonTwitterClickHandler:function(){var e=this.ui.shareContainer.getAttribute("data-share-description");r.shareTwitter(null,{body:e})},_closeButtonMouseEnterHandler:function(){this._showCloseButtonHover()},_closeButtonMouseLeaveHandler:function(){this._hideCloseButtonHover()},_articleNextMouseEnterHandler:function(){this._nextArticleAnimateIn()},_articleNextMouseLeaveHandler:function(){this._nextArticleAnimateOut()},_buttonCloseClickHandler:function(t){t.preventDefault();var n=com.chapterone.applicationView.getPreviousPage()?com.chapterone.applicationView.getPreviousPage():"",r=n.split("/");e.history.navigate(r[0],{trigger:!0})},_resizeHandler:function(){this.pageWidth=t.viewportWidth(),this.pageHeight=t.viewportHeight(),this.ui.articleImage&&this._resizeImage(this.ui.articleImage),this.ui.articleNextImage&&this._resizeImage(this.ui.articleNextImage)},_preloadNextArticleTemplate:function(){var t=this.ui.nextArticle.getAttribute("href");t=t.replace(/^\//gi,""),e.TemplateCache.has(t)||e.TemplateCache.retrieveTemplate(t)}})}),define("shared/utils/GestureManager",["underscore","superhero"],function(e,t){var n=t.Module.extend({PIXEL_STEP:10,LINE_HEIGHT:40,PAGE_HEIGHT:800,_mousewheelEvent:/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel",_scrollings:[],initialize:function(){e.bindAll(this,"_mouseDownHandler","_mouseMoveHandler","_mouseUpHandler","_touchStartHandler","_touchMoveHandler","_touchEndHandler","_mousewheelHandler"),this._isTouch="ontouchstart"in window||"onmsgesturechange"in window,this._reset()},setElement:function(e){this._reset(),this.el=e,this.el&&this._setupEventListeners(),0},setEnabled:function(e){this._isEnabled=e},getEnabled:function(){return this._isEnabled},_reset:function(){this._isEnabled=!0,this._touchStartPosition={x:0,y:0},this._touchCurrentPosition={x:0,y:0},this.el&&this._closeEventListeners()},_setupEventListeners:function(){this._touchmoveThrottle=e.throttle(this._touchMoveHandler,30),this._mousemoveThrottle=e.throttle(this._mouseMoveHandler,30),this._isTouch&&(this.el.addEventListener("touchstart",this._touchStartHandler),this.el.addEventListener("touchmove",this._touchmoveThrottle),this.el.addEventListener("touchend",this._touchEndHandler)),this.el.attachEvent?this.el.attachEvent("on"+this._mousewheelEvent,this._mousewheelHandler):this.el.addEventListener&&this.el.addEventListener(this._mousewheelEvent,this._mousewheelHandler)},_closeEventListeners:function(){this._isTouch&&(this.el.removeEventListener("touchstart",this._touchStartHandler),this.el.removeEventListener("touchmove",this._touchmoveThrottle),this.el.removeEventListener("touchend",this._touchEndHandler)),this.el.attachEvent?this.el.detachEvent("on"+this._mousewheelEvent,this._mousewheelHandler):this.el.addEventListener&&this.el.removeEventListener(this._mousewheelEvent,this._mousewheelHandler)},_touchStart:function(e){if(!this._isEnabled)return;this.trigger("drag:start"),this._isDragging=!0},_touchMove:function(e){if(!this._isDragging)return;var t=this._touchStartPosition.y-this._touchCurrentPosition.y;this.trigger("drag",{distance:t})},_touchEnd:function(e){if(!this._isDragging)return;var t=this._touchStartPosition.y-this._touchCurrentPosition.y;this.trigger("drag:end",{distance:t}),this._isDragging=!1},_mouseDownHandler:function(e){if(!this._isEnabled)return;this._touchStartPosition.x=e.pageX,this._touchStartPosition.y=e.pageY,this._touchStart(e),this._isDragging=!0},_mouseMoveHandler:function(e){if(!this._isDragging)return;this._touchCurrentPosition.x=e.pageX,this._touchCurrentPosition.y=e.pageY,this._touchMove(e)},_mouseUpHandler:function(e){if(!this._isDragging)return;this._touchCurrentPosition.x=e.pageX,this._touchCurrentPosition.y=e.pageY,this._touchEnd(e)},_touchStartHandler:function(e){this._touchStartPosition.x=e.changedTouches[0].pageX,this._touchStartPosition.y=e.changedTouches[0].pageY,this._touchStart(e)},_touchMoveHandler:function(e){e.preventDefault(),this._touchCurrentPosition.x=e.changedTouches[0].pageX,this._touchCurrentPosition.y=e.changedTouches[0].pageY,this._touchMove(e)},_touchEndHandler:function(e){this._touchCurrentPosition.x=e.changedTouches[0].pageX,this._touchCurrentPosition.y=e.changedTouches[0].pageY,this._touchMove(e),this._touchEnd(e)},_mousewheelHandler:function(e){if(!this._isEnabled)return;var t=this.normalizeWheel(e),n;Math.abs(t.pixelY)>Math.abs(t.pixelX)?n=t.pixelY:n=t.pixelX,this.trigger("scroll",{delta:n})},normalizeWheel:function(e){var t=0,n=0,r=0,i=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*this.PIXEL_STEP,i=n*this.PIXEL_STEP,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||i)&&e.deltaMode&&(e.deltaMode==1?(r*=this.LINE_HEIGHT,i*=this.LINE_HEIGHT):(r*=this.PAGE_HEIGHT,i*=this.PAGE_HEIGHT)),r&&!t&&(t=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:i}}});return new n}),define("desktop/views/components/HorizontalSliderComponent",["superhero","shared/utils/ResizeManager","shared/utils/GestureManager"],function(e,t,n){return e.Component.extend({ui:{slider:".slider",slides:".horizontal-slide",overviewSlides:".horizontal-slide--overview",hoverableSlides:".horizontal-slide--hoverable",scrollbar:".slider-scrollbar",scrollbarHandler:".slider-scrollbar-handler",visuals:".horizontal-slide-visual",amount:".amount"},events:{"mousedown .slider-scrollbar-handler":"_scrollbarHandlerMousedownHandler",mousemove:"_scrollbarHandlerMousemoveHandler",mouseup:"_scrollbarHandlerMouseupHandler"},currentX:0,scrollbarX:0,previousX:0,scrollbarHandlerWidth:0,sliderWidth:0,slideWidth:0,slideHeight:0,pageWidth:0,transitionInComplete:!1,scrollbarHandlerDown:!1,slideHoverActive:!1,_queuedSlide:null,_activeSlide:null,timeline:null,initialize:function(){this.currentX=0,this.scrollbarX=0,this.previousX=0,this.scrollbarHandlerWidth=0,this.sliderWidth=0,this.slideWidth=0,this.slideHeight=t.viewportHeight(),this.pageWidth=t.viewportWidth(),this.transitionInComplete=!1,this.scrollbarHandlerDown=!1,this.slideHoverActive=!1,this._queuedSlide=null,this._activeSlide=null,this.timeline=null,_.bindAll(this,"_resizeHandler","_slideMouseEnterHandler","_slideMouseLeaveHandler","_tranistionInCompleteHandler","_contractSlideCompleteHandler","_scrollbarHandlerMouseEnterHandler","_scrollbarHandlerMouseLeavetHandler","_amountUpdateHandler","_documentMouseLeaveHandler","_touchstartTabletHandler","_touchmoveTabletHandler","_touchendTabletHandler")},onInitialized:function(){this._build(),n.setElement(this.el),this._setupEventListeners()},_setupEventListeners:function(){Settings.agent==="tablet"?this._setupEventListenersTablet():this._setupEventListenersDesktop()},_setupEventListenersDesktop:function(){this.listenTo(t,"resize",this._resizeHandler),this.listenTo(n,"scroll",this._scrollHandler),this.ui.scrollbar.addEventListener("mouseenter",this._scrollbarHandlerMouseEnterHandler,!1),this.ui.scrollbar.addEventListener("mouseleave",this._scrollbarHandlerMouseLeavetHandler,!1);if(!this.ui.hoverableSlides.length)this.ui.hoverableSlides.addEventListener("mouseenter",this._slideMouseEnterHandler,!1),this.ui.hoverableSlides.addEventListener("mouseleave",this._slideMouseLeaveHandler,!1);else for(var e=0,r=this.ui.hoverableSlides.length;e<r;e++)this.ui.hoverableSlides[e].addEventListener("mouseenter",this._slideMouseEnterHandler,!1),this.ui.hoverableSlides[e].addEventListener("mouseleave",this._slideMouseLeaveHandler,!1);document.addEventListener("mouseleave",this._documentMouseLeaveHandler)},_setupEventListenersTablet:function(){this.el.addEventListener("touchstart",this._touchstartTabletHandler,!1),this.el.addEventListener("touchmove",this._touchmoveTabletHandler,!1),this.el.addEventListener("touchend",this._touchendTabletHandler,!1)},onClose:function(){if(Settings.agent==="tablet"){this.el.removeEventListener("touchstart",this._touchstartTabletHandler,!1),this.el.removeEventListener("touchmove",this._touchmoveTabletHandler,!1),this.el.removeEventListener("touchend",this._touchendTabletHandler,!1);return}if(!this.ui.hoverableSlides.length)this.ui.hoverableSlides.removeEventListener("mouseenter",this._slideMouseEnterHandler,!1),this.ui.hoverableSlides.removeEventListener("mouseleave",this._slideMouseLeaveHandler,!1);else for(var e=0,t=this.ui.hoverableSlides.length;e<t;e++)this.ui.hoverableSlides[e].removeEventListener("mouseenter",this._slideMouseEnterHandler,!1),this.ui.hoverableSlides[e].removeEventListener("mouseleave",this._slideMouseLeaveHandler,!1)},_build:function(){var e=this;setTimeout(function(){e.slideWidth=e.ui.slides[0].offsetWidth,e._resizeImages(),e._positionSlides(),e._setScrollbarHandlerWidth(),e.scrollbarHandlerWidth=e.ui.scrollbarHandler.offsetWidth,e.sliderWidth=e.ui.slider.offsetWidth},0)},_rebuild:function(){this._removeStyleAttributes(),this.slideWidth=this.ui.slides[0].offsetWidth,this.slideHeight=t.viewportHeight(),this.pageWidth=t.viewportWidth(),this._positionSlides(),this._setScrollbarHandlerWidth(),this.scrollbarHandlerWidth=this.ui.scrollbarHandler.offsetWidth,this.sliderWidth=this.ui.slider.offsetWidth,this._resizeImages(),this.currentX=0,this.scrollbarX=0,this.previousX=0},transitionIn:function(e){e=e||0,this.el.style.opacity=1;var t={value:parseInt(this.ui.amount.textContent)};TweenMax.from(t,1.5,{value:0,onUpdate:this._amountUpdateHandler,onUpdateParams:[t],delay:e+.2,ease:Quad.easeOut}),TweenMax.from(this.el,.7,{x:-this.el.offsetWidth,ease:Quad.easeOut,force3D:!0,delay:e,roundProps:["x"]}),TweenMax.from(this.ui.slider,.7,{x:this.el.offsetWidth*.9,ease:Quad.easeOut,force3D:!0,delay:e,roundProps:["x"]},0),TweenMax.staggerFrom(this.ui.overviewSlides,.9,{x:-200,ease:Quad.easeOut,force3D:!0,roundProps:["x"],delay:e,onComplete:this._tranistionInCompleteHandler},.1),TweenMax.from(this.ui.scrollbarHandler,.7,{x:this.el.offsetWidth,ease:Quad.easeOut,delay:e,force3D:!0}),TweenMax.from(this.ui.scrollbarHandler,.7,{scaleX:40,ease:Quad.easeOut,delay:e+.4,force3D:!0})},_removeStyleAttributes:function(){var e;this.ui.slider.removeAttribute("style");for(var t=0,n=this.ui.slides.length;t<n;t++)e=this.ui.slides[t],e.removeAttribute("style");this.slideWidth=this.ui.slides[0].offsetWidth,this.ui.scrollbarHandler.style.transform="translateZ(0px) translateX(0px) translateY(0px)"},_resizeImages:function(){var e=this.el.querySelector(".horizontal-slide--overview"),t=this.el.querySelectorAll(".horizontal-slide-visual"),n,r,i;if(t.length)for(var s=0,o=t.length;s<o;s++)i=t[s],r=i.getAttribute("data-width"),n=i.getAttribute("data-height"),this._resizeImage(i,r,n)},_resizeImage:function(e,t,n){var r=com.chapterone.getCoverSize(this.slideWidth,this.slideHeight,t,n),i=Math.round(r.width*1.2),s=Math.round(r.height*1.2);e.style.width=i+"px",e.style.height=s+"px",e.style.left=Math.round((this.slideWidth-i)*.5)+"px"},_positionSlides:function(){var e;for(var t=0,n=this.ui.slides.length;t<n;t++)e=this.ui.slides[t],e.style.left=this.slideWidth*t+"px",e.style.width=this.slideWidth+"px";this.ui.slider.style.width=this.slideWidth*this.ui.slides.length+"px"},_setScrollbarHandlerWidth:function(){this.ui.scrollbarHandler.style.width=Math.round(this.ui.scrollbar.offsetWidth/this.ui.slides.length)+"px"},_changeCursorToGrabbing:function(){if(this.scrollbarHandlerDown)return},_changeCursorToGrab:function(){},_animateSlider:function(e){var n=this.currentX-e/3;Settings.agent==="tablet"&&(n=this.currentX-e/2),this.currentX=Math.max(-(this.ui.slider.clientWidth-t.viewportWidth()),Math.min(0,n));if(Settings.agent==="tablet"){TweenMax.set(this.ui.slider,{x:Math.floor(this.currentX),force3D:!0});return}this.ui.slider.style.transform="translateZ(0px) translateX("+Math.floor(this.currentX)+"px) translateY(0px)"},_animateScrollbar:function(){var e=-(this.currentX/(this.sliderWidth-this.pageWidth));this.scrollbarX=e*(this.pageWidth-this.scrollbarHandlerWidth);if(Settings.agent==="tablet"){TweenMax.set(this.ui.scrollbarHandler,{x:Math.floor(this.scrollbarX),force3D:!0});return}this.ui.scrollbarHandler.style.transform="translateZ(0px) translateX("+Math.floor(this.scrollbarX)+"px) translateY(0px)"},_translateSlider:function(){var e=-(this.scrollbarX/(t.viewportWidth()-this.scrollbarHandlerWidth));this.currentX=e*(this.sliderWidth-t.viewportWidth()),this.ui.slider.style.transform="translateZ(0px) translateX("+Math.floor(this.currentX)+"px) translateY(0px)"},_translateScrollbar:function(e){var n=e-this.mousedownStartValue,r=n+this.scrollbarStartX;this.scrollbarX=Math.min(t.viewportWidth()-this.scrollbarHandlerWidth,Math.max(0,r)),this.ui.scrollbarHandler.style.transform="translateZ(0px) translateX("+Math.floor(this.scrollbarX)+"px) translateY(0px)"},_swipeSlider:function(){var e=this.pageWidth/this.slideWidth;if(this.ui.slider._gsTransform.x-this.xDifference<-(this.sliderWidth-this.slideWidth*e))return;if(this.ui.slider._gsTransform.x-this.xDifference>0)return;TweenMax.set(this.ui.slider,{x:Math.floor(this.ui.slider._gsTransform.x-this.xDifference),force3D:!0});var t=-((this.ui.slider._gsTransform.x-this.xDifference)/(this.sliderWidth-this.pageWidth));this.scrollbarX=t*(this.pageWidth-this.scrollbarHandlerWidth),TweenMax.set(this.ui.scrollbarHandler,{x:Math.floor(this.scrollbarX),force3D:!0}),this.clientStartX=this.clientCurrentX},_queueSlide:function(e){this._queuedSlide=e},_expandSlide:function(e){var t=this.ui.slider.querySelector(".horizontal-slide--active"),n=e.querySelector(".horizontal-slide-visual--base"),r=e.querySelector(".horizontal-slide-visual--hover");this.timeline&&TweenMax.killTweensOf(this.timeline),t&&t.classList.remove("horizontal-slide--active"),this.timeline=new TimelineMax({paused:!0,onReverseComplete:this._contractSlideCompleteHandler,onReverseCompleteParams:[e]}),e.classList.add("horizontal-slide--active"),this.timeline.insert(TweenMax.fromTo(e,.6,{paddingLeft:0,paddingRight:0,x:0},{paddingLeft:40,paddingRight:40,x:-40,ease:Quad.easeOut,force3D:!0,roundProps:["paddingLeft","paddingRight","x"]})),n&&this.timeline.insert(TweenMax.fromTo(n,.6,{x:0},{x:40,ease:Quad.easeOut,roundProps:["x"]})),r&&this.timeline.insert(TweenMax.fromTo(r,.6,{opacity:0,x:0},{opacity:1,x:40,ease:Quad.easeOut,roundProps:["x"]})),this._activeSlide=e,this.timeline.timeScale(1),this.timeline.play()},_contractSlide:function(e){if(!this.timeline)return;this.timeline.timeScale(2),this.timeline.reverse(null,!1)},_amountUpdateHandler:function(e){this.ui.amount.textContent=Math.ceil(e.value)},_tranistionInCompleteHandler:function(){this.transitionInComplete=!0},_scrollHandler:function(e){if(!this.transitionInComplete)return;this._animateSlider(e.delta),this._animateScrollbar()},_dragHandler:function(e){if(!this.transitionInComplete)return;this._animateSlider(-e.distance),this._animateScrollbar()},_scrollbarHandlerMousedownHandler:function(e){if(!this.transitionInComplete)return;this._changeCursorToGrabbing(),this.mousedownStartValue=e.clientX||e.screenX||0,this.scrollbarStartX=this.scrollbarX,this.scrollbarHandlerDown=!0},_scrollbarHandlerMousemoveHandler:function(e){if(!this.scrollbarHandlerDown||!this.transitionInComplete)return;var t=e.clientX||e.screenX||0;this._translateScrollbar(t),this._translateSlider()},_scrollbarHandlerMouseupHandler:function(){if(!this.transitionInComplete)return;this._changeCursorToGrab(),this.scrollbarHandlerDown=!1},_scrollbarHandlerMouseEnterHandler:function(){if(!this.transitionInComplete)return;TweenMax.to(this.ui.scrollbar,.3,{y:-16})},_scrollbarHandlerMouseLeavetHandler:function(){if(!this.transitionInComplete)return;TweenMax.to(this.ui.scrollbar,.3,{y:0})},_slideMouseEnterHandler:function(e){if(!this.transitionInComplete)return;var t=e.target;this._activeSlide&&this._activeSlide!==t?this._queueSlide(t):this._activeSlide||this._expandSlide(t)},_slideMouseLeaveHandler:function(e){if(!this.transitionInComplete)return;var t=e.target;this._contractSlide(t)},_contractSlideCompleteHandler:function(e){e===this._activeSlide&&(e.classList.remove("horizontal-slide--active"),this._activeSlide=null),this._queuedSlide&&(this._expandSlide(this._queuedSlide),this._queuedSlide=null)},_resizeHandler:function(){this._rebuild()},_documentMouseLeaveHandler:function(){this.scrollbarHandlerDown&&(this._changeCursorToGrab(),this.scrollbarHandlerDown=!1)},_touchstartTabletHandler:function(e){this.clientStartX=e.touches[0].clientX},_touchmoveTabletHandler:function(e){e.preventDefault(),this.clientCurrentX=e.touches[0].clientX,this.xDifference=this.clientStartX-this.clientCurrentX,this._swipeSlider()},_touchendTabletHandler:function(){this.clientStartX=0}})}),define("desktop/views/pages/LocationsView",["superhero","shared/utils/ResizeManager","desktop/views/components/HorizontalSliderComponent"],function(e,t,n){return e.View.extend({template:"pages/location",className:"page page-locations",components:{slider:{selector:".horizontal-slider",module:n}},pageWidth:0,personalLanding:!1,initialize:function(){this.pageWidth=t.viewportWidth()},onInitialized:function(){this._setupEventListeners()},_setupEventListeners:function(){this.listenTo(t,"resize",this._resizeHandler)},transitionIn:function(e){var t=0;this.personalLanding=e.isFromHome,!e.previousFragment||e.isFromHome?(com.chapterone.applicationView.overlaySwiperFromHome(e),t=.4):com.chapterone.applicationView.hideOverlaySwiper(e),this.components.slider.transitionIn(t);var n=document.querySelector(".site-logo");n.style.opacity=1},transitionOut:function(e,t){var n=t.fragment.split("/");t.fragment.length?(com.chapterone.applicationView.showOverlaySwiper(e,t),TweenMax.to(this.el,.7,{x:this.pageWidth*.6,ease:Power2.easeIn,force3D:!0,roundProps:["x"],delay:0})):(com.chapterone.applicationView.overlaySwiperToHome(e,t),TweenMax.to(this.el,.7,{x:-this.pageWidth*.9,ease:Power2.easeIn,force3D:!0,roundProps:["x"]}))},_resizeHandler:function(){this.pageWidth=t.viewportWidth()}})}),define("desktop/views/pages/RidersView",["superhero","shared/utils/ResizeManager","desktop/views/components/HorizontalSliderComponent"],function(e,t,n){return e.View.extend({template:"pages/rider",className:"page page-riders",components:{slider:{selector:".horizontal-slider",module:n}},pageWidth:0,initialize:function(){this.pageWidth=t.viewportWidth()},onInitialized:function(){this._setupEventListeners()},_setupEventListeners:function(){this.listenTo(t,"resize",this._resizeHandler)},transitionIn:function(e){var t=0;this.personalLanding=e.isFromHome,!e.previousFragment||e.isFromHome?(com.chapterone.applicationView.overlaySwiperFromHome(e),t=.4):com.chapterone.applicationView.hideOverlaySwiper(e),this.components.slider.transitionIn(t);var n=document.querySelector(".site-logo");n.style.opacity=1},transitionOut:function(e,t){var n=t.fragment.split("/");t.fragment.length?(com.chapterone.applicationView.showOverlaySwiper(e,t),TweenMax.to(this.el,.7,{x:this.pageWidth*.6,ease:Power2.easeIn,force3D:!0,roundProps:["x"],delay:0})):(com.chapterone.applicationView.overlaySwiperToHome(e,t),TweenMax.to(this.el,.7,{x:-this.pageWidth*.9,ease:Power2.easeIn,force3D:!0,roundProps:["x"]}))},_checkLengthOfName:function(){var e=this.el.querySelectorAll(".header-horizontal-slider");for(var t=0;t<e.length;t++){var n=parseInt(e[t].innerText.length),r=n-29;r>14&&(e[t].style.height="111px")}},_resizeHandler:function(){this.pageWidth=t.viewportWidth()}})}),define("desktop/views/pages/PartnersView",["superhero","shared/utils/ResizeManager","shared/utils/ScrollManager","desktop/views/components/HeroComponent"],function(e,t,n,r){return e.View.extend({className:"page page-partners",template:"pages/partners",ui:{hero:".hero-image",title:".hero-header--partners",partners:".partners-partnerss-logo-container"},components:{hero:{selector:".hero",module:r}},delay:1,personalLanding:!1,pageWidth:0,initialize:function(){this.delay=1,this.pageWidth=t.viewportWidth()},onInitialized:function(){for(var e=0;e<this.ui.partners.length;e++)TweenMax.fromTo(this.ui.partners[e],1,{y:80,opacity:0,immediateRender:!0},{y:0,opacity:1,delay:this.delay,ease:Power2.easeOut}),this.delay=this.delay+.2},transitionIn:function(e){this.personalLanding=e.isFromHome,!e.previousFragment||e.isFromHome?this._transitionInHome(e):this._transitionInDeeplink(e)},_transitionInHome:function(e){com.chapterone.applicationView.overlaySwiperFromHome(e),TweenMax.fromTo(this.el,1.2,{x:-t.viewportWidth()},{x:0,ease:Quad.easeOut,force3D:!0,delay:.2}),TweenMax.fromTo(this.ui.hero,1.2,{opacity:0},{opacity:1,ease:Quad.easeOut,force3D:!0,delay:.2}),TweenMax.fromTo(this.ui.title,this.ui.title,1.2,{opacity:0},{opacity:1,ease:Quad.easeOut,force3D:!0,delay:.2});var n=document.querySelector(".site-logo");n.style.opacity=1},_transitionInDeeplink:function(e){com.chapterone.applicationView.hideOverlaySwiper(e),TweenMax.fromTo(this.el,.7,{x:-t.viewportWidth()/2},{x:0,ease:Quad.easeOut,delay:0,force3D:!0}),TweenMax.fromTo(this.ui.hero,1.2,{opacity:0},{opacity:1,ease:Quad.easeOut,force3D:!0,delay:.2}),TweenMax.fromTo(this.ui.title,this.ui.title,1.2,{opacity:0},{opacity:1,ease:Quad.easeOut,force3D:!0,delay:.2})},transitionOut:function(e,t){var n=t.fragment.split("/");t.fragment.length?(com.chapterone.applicationView.showOverlaySwiper(e,t),TweenMax.to(this.el,.7,{x:this.pageWidth*.6,ease:Power2.easeIn,force3D:!0,roundProps:["x"],delay:0})):(com.chapterone.applicationView.overlaySwiperToHome(e,t),TweenMax.to(this.el,.7,{x:-this.pageWidth*.9,ease:Power2.easeIn,force3D:!0,roundProps:["x"]}))}})}),define("desktop/views/pages/SynopsisView",["superhero","shared/utils/ResizeManager","shared/utils/ScrollManager"],function(e,t,n){return e.View.extend({className:"page page-synopsis",template:"pages/synopsis",ui:{hero:".hero-image",title:".hero-header--partners"},personalLanding:!1,pageWidth:0,initialize:function(){this.pageWidth=t.viewportWidth()},onInitialized:function(){},transitionIn:function(e){this.personalLanding=e.isFromHome,!e.previousFragment||e.isFromHome?this._transitionInHome(e):this._transitionInDeeplink(e)},_transitionInHome:function(e){com.chapterone.applicationView.overlaySwiperFromHome(e),TweenMax.fromTo(this.el,1.2,{x:-t.viewportWidth()},{x:0,ease:Quad.easeOut,force3D:!0,delay:.2})},_transitionInDeeplink:function(e){com.chapterone.applicationView.hideOverlaySwiper(e),TweenMax.fromTo(this.el,.7,{x:-t.viewportWidth()/2},{x:0,ease:Quad.easeOut,delay:0,force3D:!0})},transitionOut:function(e,t){var n=t.fragment.split("/");t.fragment.length?(com.chapterone.applicationView.showOverlaySwiper(e,t),TweenMax.to(this.el,.7,{x:this.pageWidth*.6,ease:Power2.easeIn,force3D:!0,roundProps:["x"],delay:0})):(com.chapterone.applicationView.overlaySwiperToHome(e,t),TweenMax.to(this.el,.7,{x:-this.pageWidth*.9,ease:Power2.easeIn,force3D:!0,roundProps:["x"]}))}})}),define("desktop/views/pages/CrewView",["superhero","shared/utils/ResizeManager","desktop/views/components/HorizontalSliderComponent"],function(e,t,n){return e.View.extend({template:"pages/crew",className:"page page-crew",components:{slider:{selector:".horizontal-slider",module:n}},pageWidth:0,personalLanding:!1,initialize:function(){this.pageWidth=t.viewportWidth()},onInitialized:function(){this._setupEventListeners()},_setupEventListeners:function(){this.listenTo(t,"resize",this._resizeHandler)},transitionIn:function(e){var t=0;this.personalLanding=e.isFromHome,!e.previousFragment||e.isFromHome?(com.chapterone.applicationView.overlaySwiperFromHome(e),t=.4):com.chapterone.applicationView.hideOverlaySwiper(e),this.components.slider.transitionIn(t);var n=document.querySelector(".site-logo");n.style.opacity=1},transitionOut:function(e,t){var n=t.fragment.split("/");t.fragment.length?(com.chapterone.applicationView.showOverlaySwiper(e,t),TweenMax.to(this.el,.7,{x:this.pageWidth*.6,ease:Power2.easeIn,force3D:!0,roundProps:["x"],delay:0})):(com.chapterone.applicationView.overlaySwiperToHome(e,t),TweenMax.to(this.el,.7,{x:-this.pageWidth*.9,ease:Power2.easeIn,force3D:!0,roundProps:["x"]}))},_checkLengthOfName:function(){var e=this.el.querySelectorAll(".header-horizontal-slider");for(var t=0;t<e.length;t++){var n=parseInt(e[t].innerText.length),r=n-29;r>14&&(e[t].style.height="111px")}},_resizeHandler:function(){this.pageWidth=t.viewportWidth()}})}),define("desktop/views/pages/TourView",["superhero","shared/utils/ResizeManager","shared/utils/ScrollManager"],function(e,t,n){return e.View.extend({className:"page page-tour",template:"pages/tour",ui:{hero:".hero-image",title:".hero-header--tour",buttonRegularTour:".button-regular--tour",tourList:".tour-list"},delay:1,pageWidth:0,personalLanding:!1,initialize:function(){this.delay=1,this.pageWidth=t.viewportWidth()},onInitialized:function(){setTimeout(function(){var e=document.querySelector(".button-regular--tour").offsetWidth,t=document.querySelector(".tour-button-container");t.style.width=e+"px"},0);for(var e=0;e<this.ui.tourList.length;e++){var t;this.ui.tourList[e].classList.contains("tour-list--past")?t=.3:t=1,TweenMax.fromTo(this.ui.tourList[e],.8,{y:50,opacity:0},{y:0,opacity:t,delay:this.delay,ease:Power2.easeOut}),this.delay=this.delay+.08}},transitionIn:function(e){this.personalLanding=e.isFromHome,!e.previousFragment||e.isFromHome?this._transitionInHome(e):this._transitionInDeeplink(e)},_transitionInHome:function(e){com.chapterone.applicationView.overlaySwiperFromHome(e),TweenMax.fromTo(this.el,1.2,{x:-t.viewportWidth()},{x:0,ease:Quad.easeOut,force3D:!0,delay:.2});var n=document.querySelector(".site-logo");n.style.opacity=1},_transitionInDeeplink:function(e){com.chapterone.applicationView.hideOverlaySwiper(e),TweenMax.fromTo(this.el,.7,{x:-t.viewportWidth()/2},{x:0,ease:Quad.easeOut,delay:0,force3D:!0})},transitionOut:function(e,t){var n=t.fragment.split("/");t.fragment.length?(com.chapterone.applicationView.showOverlaySwiper(e,t),TweenMax.to(this.el,.7,{x:this.pageWidth*.6,ease:Power2.easeIn,force3D:!0,roundProps:["x"],delay:0})):(com.chapterone.applicationView.overlaySwiperToHome(e,t),TweenMax.to(this.el,.7,{x:-this.pageWidth*.9,ease:Power2.easeIn,force3D:!0,roundProps:["x"]}))}})}),function(){"use strict";function e(e){typeof e!="string"&&(e=String(e));if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function t(e){return typeof e!="string"&&(e=String(e)),e}function n(e){this.map={},e instanceof n?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function r(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function i(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader;return t.readAsArrayBuffer(e),i(t)}function o(e){var t=new FileReader;return t.readAsText(e),i(t)}function a(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e;if(typeof e=="string")this._bodyText=e;else if(u.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(u.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(!e)this._bodyText="";else if(!u.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")},u.blob?(this.blob=function(){var e=r(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(s)},this.text=function(){var e=r(this);if(e)return e;if(this._bodyBlob)return o(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=r(this);return e?e:Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function l(e){var t=e.toUpperCase();return f.indexOf(t)>-1?t:e}function c(e,t){t=t||{};var r=t.body;if(c.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new n(e.headers)),this.method=e.method,this.mode=e.mode,r||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=e;this.credentials=t.credentials||this.credentials||"omit";if(t.headers||!this.headers)this.headers=new n(t.headers);this.method=l(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null;if(!(this.method!=="GET"&&this.method!=="HEAD"||!r))throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function p(e){var t=new n,r=e.getAllResponseHeaders().trim().split("\n");return r.forEach(function(e){var n=e.trim().split(":"),r=n.shift().trim(),i=n.join(":").trim();t.append(r,i)}),t}function d(e,t){t||(t={}),this._initBody(e),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof n?t.headers:new n(t.headers),this.url=t.url||""}if(self.fetch)return;n.prototype.append=function(n,r){n=e(n),r=t(r);var i=this.map[n];i||(i=[],this.map[n]=i),i.push(r)},n.prototype["delete"]=function(t){delete this.map[e(t)]},n.prototype.get=function(t){var n=this.map[e(t)];return n?n[0]:null},n.prototype.getAll=function(t){return this.map[e(t)]||[]},n.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},n.prototype.set=function(n,r){this.map[e(n)]=[t(r)]},n.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){e.call(t,r,n,this)},this)},this)};var u={blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self},f=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];c.prototype.clone=function(){return new c(this)},a.call(c.prototype),a.call(d.prototype),d.prototype.clone=function(){return new d(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new n(this.headers),url:this.url})},d.error=function(){var e=new d(null,{status:0,statusText:""});return e.type="error",e};var v=[301,302,303,307,308];d.redirect=function(e,t){if(v.indexOf(t)===-1)throw new RangeError("Invalid status code");return new d(null,{status:t,headers:{location:e}})},self.Headers=n,self.Request=c,self.Response=d,self.fetch=function(e,t){return new Promise(function(n,r){function o(){if("responseURL"in s)return s.responseURL;if(/^X-Request-URL:/m.test(s.getAllResponseHeaders()))return s.getResponseHeader("X-Request-URL");return}var i;c.prototype.isPrototypeOf(e)&&!t?i=e:i=new c(e,t);var s=new XMLHttpRequest;s.onload=function(){var e=s.status===1223?204:s.status;if(e<100||e>599){r(new TypeError("Network request failed"));return}var t={status:e,statusText:s.statusText,headers:p(s),url:o()},i="response"in s?s.response:s.responseText;n(new d(i,t))},s.onerror=function(){r(new TypeError("Network request failed"))},s.open(i.method,i.url,!0),i.credentials==="include"&&(s.withCredentials=!0),"responseType"in s&&u.blob&&(s.responseType="blob"),i.headers.forEach(function(e,t){s.setRequestHeader(t,e)}),s.send(typeof i._bodyInit=="undefined"?null:i._bodyInit)})},self.fetch.polyfill=!0}(),function(e){(function(){"use strict";function t(e){return typeof e=="function"||typeof e=="object"&&e!==null}function n(e){return typeof e=="function"}function r(e){return typeof e=="object"&&e!==null}function u(){}function f(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function l(e){var t=e._promiseCallbacks;return t||(t=e._promiseCallbacks={}),t}function p(e,t){if(e==="onerror"){h.on("error",t);return}if(arguments.length!==2)return h[e];h[e]=t}function v(){setTimeout(function(){var e;for(var t=0;t<d.length;t++){e=d[t];var n=e.payload;n.guid=n.key+n.id,n.childGuid=n.key+n.childId,n.error&&(n.stack=n.error.stack),h.trigger(e.name,e.payload)}d.length=0},50)}function m(e,t,n){1===d.push({name:e,payload:{key:t._guidKey,id:t._id,eventName:e,detail:t._result,childId:n&&n._id,label:t._label,timeStamp:o(),error:h["instrument-with-stack"]?new Error(t._label):null}})&&v()}function y(){return new TypeError("A promises callback cannot return that same promise.")}function b(){}function T(e){try{return e.then}catch(t){return x.error=t,x}}function N(e,t,n,r){try{e.call(t,n,r)}catch(i){return i}}function C(e,t,n){h.async(function(e){var r=!1,i=N(n,t,function(n){if(r)return;r=!0,t!==n?A(e,n):M(e,n)},function(t){if(r)return;r=!0,_(e,t)},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,_(e,i))},e)}function k(e,t){t._state===E?M(e,t._result):t._state===S?(t._onError=null,_(e,t._result)):D(t,undefined,function(n){t!==n?A(e,n):M(e,n)},function(t){_(e,t)})}function L(e,t){if(t.constructor===e.constructor)k(e,t);else{var r=T(t);r===x?_(e,x.error):r===undefined?M(e,t):n(r)?C(e,t,r):M(e,t)}}function A(e,n){e===n?M(e,n):t(n)?L(e,n):M(e,n)}function O(e){e._onError&&e._onError(e._result),P(e)}function M(e,t){if(e._state!==w)return;e._result=t,e._state=E,e._subscribers.length===0?h.instrument&&g("fulfilled",e):h.async(P,e)}function _(e,t){if(e._state!==w)return;e._state=S,e._result=t,h.async(O,e)}function D(e,t,n,r){var i=e._subscribers,s=i.length;e._onError=null,i[s]=t,i[s+E]=n,i[s+S]=r,s===0&&e._state&&h.async(P,e)}function P(e){var t=e._subscribers,n=e._state;h.instrument&&g(n===E?"fulfilled":"rejected",e);if(t.length===0)return;var r,i,s=e._result;for(var o=0;o<t.length;o+=3)r=t[o],i=t[o+n],r?F(n,r,i,s):i(s);e._subscribers.length=0}function H(){this.error=null}function j(e,t){try{return e(t)}catch(n){return B.error=n,B}}function F(e,t,r,i){var s=n(r),o,u,a,f;if(s){o=j(r,i),o===B?(f=!0,u=o.error,o=null):a=!0;if(t===o){_(t,y());return}}else o=i,a=!0;t._state===w&&(s&&a?A(t,o):f?_(t,u):e===E?M(t,o):e===S&&_(t,o))}function I(e,t){var n=!1;try{t(function(r){if(n)return;n=!0,A(e,r)},function(r){if(n)return;n=!0,_(e,r)})}catch(r){_(e,r)}}function q(e,t,n){return e===E?{state:"fulfilled",value:n}:{state:"rejected",reason:n}}function R(e,t,n,r){var i=this;i._instanceConstructor=e,i.promise=new e(b,r),i._abortOnReject=n,i._validateInput(t)?(i._input=t,i.length=t.length,i._remaining=t.length,i._init(),i.length===0?M(i.promise,i._result):(i.length=i.length||0,i._enumerate(),i._remaining===0&&M(i.promise,i._result))):_(i.promise,i._validationError())}function z(e,t){return(new U(this,e,!0,t)).promise}function X(e,t){function o(e){A(r,e)}function u(e){_(r,e)}var n=this,r=new n(b,t);if(!s(e))return _(r,new TypeError("You must pass an array to race.")),r;var i=e.length;for(var a=0;r._state===w&&a<i;a++)D(n.resolve(e[a]),undefined,o,u);return r}function $(e,t){var n=this;if(e&&typeof e=="object"&&e.constructor===n)return e;var r=new n(b,t);return A(r,e),r}function K(e,t){var n=this,r=new n(b,t);return _(r,e),r}function Z(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function et(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function tt(e,t){var r=this;r._id=Y++,r._label=t,r._state=undefined,r._result=undefined,r._subscribers=[],h.instrument&&g("created",r),b!==e&&(n(e)||Z(),r instanceof tt||et(),I(r,e))}function rt(e,t,n){this._superConstructor(e,t,!1,n)}function it(e,t){return(new rt(nt,e,t)).promise}function ot(e,t){return nt.all(e,t)}function ct(e,t){xt[at]=e,xt[at+1]=t,at+=2,at===2&&Ct()}function yt(){var e=process.nextTick,t=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(t)&&t[1]==="0"&&t[2]==="10"&&(e=setImmediate),function(){e(Tt)}}function bt(){return function(){lt(Tt)}}function wt(){var e=0,t=new vt(Tt),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function Et(){var e=new MessageChannel;return e.port1.onmessage=Tt,function(){e.port2.postMessage(0)}}function St(){return function(){setTimeout(Tt,1)}}function Tt(){for(var e=0;e<at;e+=2){var t=xt[e],n=xt[e+1];t(n),xt[e]=undefined,xt[e+1]=undefined}at=0}function Nt(){try{var e=require,t=e("vertx");return lt=t.runOnLoop||t.runOnContext,bt()}catch(n){return St()}}function kt(e){var t={};return t.promise=new nt(function(e,n){t.resolve=e,t.reject=n},e),t}function At(e,t,r){return nt.all(e,r).then(function(e){if(!n(t))throw new TypeError("You must pass a function as filter's second argument.");var i=e.length,s=new Array(i);for(var o=0;o<i;o++)s[o]=t(e[o]);return nt.all(s,r).then(function(t){var n=new Array(i),r=0;for(var s=0;s<i;s++)t[s]&&(n[r]=e[s],r++);return n.length=r,n})})}function Mt(e,t,n){this._superConstructor(e,t,!0,n)}function Dt(e,t,n){this._superConstructor(e,t,!1,n)}function Pt(e,t){return(new Dt(nt,e,t)).promise}function Bt(e,t){return(new _t(nt,e,t)).promise}function Ft(e,t,r){return nt.all(e,r).then(function(e){if(!n(t))throw new TypeError("You must pass a function as map's second argument.");var i=e.length,s=new Array(i);for(var o=0;o<i;o++)s[o]=t(e[o]);return nt.all(s,r)})}function qt(){this.value=undefined}function zt(e){try{return e.then}catch(t){return Rt.value=t,Rt}}function Wt(e,t,n){try{e.apply(t,n)}catch(r){return Rt.value=r,Rt}}function Xt(e,t){var n={},r,i,s=e.length,o=new Array(s);for(var u=0;u<s;u++)o[u]=e[u];for(i=0;i<t.length;i++)r=t[i],n[r]=o[i+1];return n}function Vt(e){var t=e.length,n=new Array(t-1);for(var r=1;r<t;r++)n[r-1]=e[r];return n}function $t(e,t){return{then:function(n,r){return e.call(t,n,r)}}}function Jt(e,t){var n=function(){var n=this,r=arguments.length,i=new Array(r+1),o,u=!1;for(var a=0;a<r;++a){o=arguments[a];if(!u){u=Yt(o);if(u===Ut){var f=new nt(b);return _(f,Ut.value),f}u&&u!==!0&&(o=$t(u,o))}i[a]=o}var l=new nt(b);return i[r]=function(e,n){e?_(l,e):t===undefined?A(l,n):t===!0?A(l,Vt(arguments)):s(t)?A(l,Xt(arguments,t)):A(l,n)},u?Gt(l,i,e,n):Qt(l,i,e,n)};return n.__proto__=e,n}function Qt(e,t,n,r){var i=Wt(n,r,t);return i===Rt&&_(e,i.value),e}function Gt(e,t,n,r){return nt.all(t).then(function(t){var i=Wt(n,r,t);return i===Rt&&_(e,i.value),e})}function Yt(e){return e&&typeof e=="object"?e.constructor===nt?!0:zt(e):!1}function tn(e,t){return nt.race(e,t)}function rn(e,t){return nt.reject(e,t)}function on(e,t){return nt.resolve(e,t)}function an(e){throw setTimeout(function(){throw e}),e}function cn(e,t){h.async(e,t)}function hn(){h.on.apply(h,arguments)}function pn(){h.off.apply(h,arguments)}var i;Array.isArray?i=Array.isArray:i=function(e){return Object.prototype.toString.call(e)==="[object Array]"};var s=i,o=Date.now||function(){return(new Date).getTime()},a=Object.create||function(e){if(arguments.length>1)throw new Error("Second argument not supported");if(typeof e!="object")throw new TypeError("Argument must be an object");return u.prototype=e,new u},c={mixin:function(e){return e.on=this.on,e.off=this.off,e.trigger=this.trigger,e._promiseCallbacks=undefined,e},on:function(e,t){if(typeof t!="function")throw new TypeError("Callback must be a function");var n=l(this),r;r=n[e],r||(r=n[e]=[]),f(r,t)===-1&&r.push(t)},off:function(e,t){var n=l(this),r,i;if(!t){n[e]=[];return}r=n[e],i=f(r,t),i!==-1&&r.splice(i,1)},trigger:function(e,t,n){var r=l(this),i,s;if(i=r[e])for(var o=0;o<i.length;o++)s=i[o],s(t,n)}},h={instrument:!1};c.mixin(h);var d=[],g=m,w=void 0,E=1,S=2,x=new H,B=new H,U=R;R.prototype._validateInput=function(e){return s(e)},R.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},R.prototype._init=function(){this._result=new Array(this.length)},R.prototype._enumerate=function(){var e=this,t=e.length,n=e.promise,r=e._input;for(var i=0;n._state===w&&i<t;i++)e._eachEntry(r[i],i)},R.prototype._eachEntry=function(e,t){var n=this,i=n._instanceConstructor;r(e)?e.constructor===i&&e._state!==w?(e._onError=null,n._settledAt(e._state,t,e._result)):n._willSettleAt(i.resolve(e),t):(n._remaining--,n._result[t]=n._makeResult(E,t,e))},R.prototype._settledAt=function(e,t,n){var r=this,i=r.promise;i._state===w&&(r._remaining--,r._abortOnReject&&e===S?_(i,n):r._result[t]=r._makeResult(e,t,n)),r._remaining===0&&M(i,r._result)},R.prototype._makeResult=function(e,t,n){return n},R.prototype._willSettleAt=function(e,t){var n=this;D(e,undefined,function(e){n._settledAt(E,t,e)},function(e){n._settledAt(S,t,e)})};var W=z,V=X,J=$,Q=K,G="rsvp_"+o()+"-",Y=0,nt=tt;tt.cast=J,tt.all=W,tt.race=V,tt.resolve=J,tt.reject=Q,tt.prototype={constructor:tt,_guidKey:G,_onError:function(e){var t=this;h.after(function(){t._onError&&h.trigger("error",e,t._label)})},then:function(e,t,n){var r=this,i=r._state;if(i===E&&!e||i===S&&!t)return h.instrument&&g("chained",r,r),r;r._onError=null;var s=new r.constructor(b,n),o=r._result;h.instrument&&g("chained",r,s);if(i){var u=arguments[i-1];h.async(function(){F(i,s,u,o)})}else D(r,s,e,t);return s},"catch":function(e,t){return this.then(undefined,e,t)},"finally":function(e,t){var n=this,r=n.constructor;return n.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})},t)}},rt.prototype=a(U.prototype),rt.prototype._superConstructor=U,rt.prototype._makeResult=q,rt.prototype._validationError=function(){return new Error("allSettled must be called with an array")};var st=it,ut=ot,at=0,ft={}.toString,lt,ht=ct,pt=typeof window!="undefined"?window:undefined,dt=pt||{},vt=dt.MutationObserver||dt.WebKitMutationObserver,mt=typeof e=="undefined"&&typeof process!="undefined"&&{}.toString.call(process)==="[object process]",gt=typeof Uint8ClampedArray!="undefined"&&typeof importScripts!="undefined"&&typeof MessageChannel!="undefined",xt=new Array(1e3),Ct;mt?Ct=yt():vt?Ct=wt():gt?Ct=Et():pt===undefined&&typeof require=="function"?Ct=Nt():Ct=St();var Lt=kt,Ot=At,_t=Mt;Mt.prototype=a(U.prototype),Mt.prototype._superConstructor=U,Mt.prototype._init=function(){this._result={}},Mt.prototype._validateInput=function(e){return e&&typeof e=="object"},Mt.prototype._validationError=function(){return new Error("Promise.hash must be called with an object")},Mt.prototype._enumerate=function(){var e=this,t=e.promise,n=e._input,r=[];for(var i in n)t._state===w&&Object.prototype.hasOwnProperty.call(n,i)&&r.push({position:i,entry:n[i]});var s=r.length;e._remaining=s;var o;for(var u=0;t._state===w&&u<s;u++)o=r[u],e._eachEntry(o.entry,o.position)},Dt.prototype=a(_t.prototype),Dt.prototype._superConstructor=U,Dt.prototype._makeResult=q,Dt.prototype._validationError=function(){return new Error("hashSettled must be called with an object")};var Ht=Pt,jt=Bt,It=Ft,Rt=new qt,Ut=new qt,Kt=Jt,Zt;if(typeof e=="object")Zt=e;else{if(typeof global!="object")throw new Error("no global: `self` or `global` found");Zt=global}var en=Zt,nn=tn,sn=rn,un=on,fn=an;h.async=ht,h.after=function(e){setTimeout(e,0)};var ln=un;if(typeof window!="undefined"&&typeof window.__PROMISE_INSTRUMENTATION__=="object"){var dn=window.__PROMISE_INSTRUMENTATION__;p("instrument",!0);for(var vn in dn)dn.hasOwnProperty(vn)&&hn(vn,dn[vn])}var mn={race:nn,Promise:nt,allSettled:st,hash:jt,hashSettled:Ht,denodeify:Kt,on:hn,off:pn,map:It,filter:Ot,resolve:un,reject:sn,all:ut,rethrow:fn,defer:Lt,EventTarget:c,configure:p,async:cn};typeof define=="function"&&define.amd?define("shared/utils/Shopify",[],function(){return mn}):typeof module!="undefined"&&module.exports?module.exports=mn:typeof en!="undefined"&&(en.RSVP=mn)}).call(this),e.Promise===undefined&&(e.Promise=RSVP.Promise)}(window),function(){function n(e){this.message=e}var e=typeof exports!="undefined"?exports:this,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.prototype=new Error,n.prototype.name="InvalidCharacterError",e.btoa||(e.btoa=function(e){var r=String(e);for(var i,s,o=0,u=t,a="";r.charAt(o|0)||(u="=",o%1);a+=u.charAt(63&i>>8-o%1*8)){s=r.charCodeAt(o+=.75);if(s>255)throw new n("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");i=i<<8|s}return a}),e.atob||(e.atob=function(e){var r=String(e).replace(/=+$/,"");if(r.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var i=0,s,o,u=0,a="";o=r.charAt(u++);~o&&(s=i%4?s*64+o:o,i++%4)?a+=String.fromCharCode(255&s>>(-2*i&6)):0)o=t.indexOf(o);return a})}(),function(){var e,t,n,r,i,s=this;(function(){"use strict";function p(e){throw new Error("an unsupported module was defined, expected `define(name, deps, module)` instead got: `"+e+"` arguments to define`")}function v(e,t,n){this.id=h++,this.name=e,this.deps=!t.length&&n.length?d:t,this.module={exports:{}},this.callback=n,this.state=undefined,this._require=undefined,this.finalized=!1,this.hasExportsAsDep=!1}function m(e){this.name=e}function g(e,t){throw new Error("Could not find module `"+e+"` imported from `"+t+"`")}function y(e,t){var n=a[e]||a[e+"/index"];while(n&&n.callback instanceof m)e=n.callback.name,n=a[e];return n||g(e,t),n.build(),n}function b(e,t){if(e.charAt(0)!==".")return e;var n=e.split("/"),r=t.split("/"),i=r.slice(0,-1);for(var s=0,o=n.length;s<o;s++){var u=n[s];if(u===".."){if(i.length===0)throw new Error("Cannot access parent module of root");i.pop()}else{if(u===".")continue;i.push(u)}}return i.join("/")}var o={loader:e,define:t,requireModule:n,require:r,requirejs:i};e={noConflict:function(e){var t,n;for(t in e)e.hasOwnProperty(t)&&o.hasOwnProperty(t)&&(n=e[t],s[n]=s[t],s[t]=o[t])}};var u;Array.isArray?u=Array.isArray:u=function(e){return Object.prototype.toString.call(e)==="[object Array]"};var a={},f={},l=!1,c=!0,h=0,d=["require","exports","module"];v.prototype.makeDefaultExport=function(){var e=this.module.exports;e!==null&&(typeof e=="object"||typeof e=="function")&&e["default"]===undefined&&(e["default"]=e)},v.prototype.exports=function(e){if(this.finalized)return this.module.exports;var t=this.callback.apply(this,e);if(!this.hasExportsAsDep||t!==undefined)this.module.exports=t;return this.makeDefaultExport(),this.finalized=!0,this.module.exports},v.prototype.unsee=function(){this.finalized=!1,this.state=undefined,this.module={exports:{}}},v.prototype.reify=function(){var e=this.deps,t=e.length,n=new Array(t),r;for(var i=0,s=t;i<s;i++)r=e[i],r==="exports"?(this.hasExportsAsDep=!0,n[i]=this.module.exports):r==="require"?n[i]=this.makeRequire():r==="module"?n[i]=this.module:n[i]=y(b(r,this.name),this.name).module.exports;return n},v.prototype.makeRequire=function(){var e=this.name;return this._require||(this._require=function(t){return r(b(t,e))})},v.prototype.build=function(){if(this.state===l)return;this.state=l,this.exports(this.reify()),this.state=c},t=function(e,t,n){arguments.length<2&&p(arguments.length),u(t)||(n=t,t=[]),a[e]=new v(e,t,n)},t.petal={},t.alias=function(e){return new m(e)},i=r=n=function(e){return y(e,"(require)").module.exports},i.entries=i._eak_seen=a,i.unsee=function(e){y(e,"(unsee)").unsee()},i.clear=function(){i.entries=i._eak_seen=a={},f={}}})(),t("shopify-buy/adapters/listings-adapter",["exports","../ajax","../metal/core-object","../version"],function(e,t,n,r){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=u(t),s=u(n),o=u(r),a=s.default.extend({ajax:i.default,constructor:function f(e){this.config=e},get base64ApiKey(){return btoa(this.config.apiKey)},get baseUrl(){var e=this.config,t=e.myShopifyDomain,n=e.appId;return"https://"+t+".myshopify.com/api/apps/"+n},get headers(){return{Authorization:"Basic "+this.base64ApiKey,"Content-Type":"application/json","X-SDK-Variant":"javascript","X-SDK-Version":o.default}},pathForType:function(t){return"/"+t.slice(0,-1)+"_listings"},buildUrl:function(t,n,r){switch(t){case"multiple":return this.buildMultipleUrl(n,r);case"single":return this.buildSingleUrl(n,r);default:return""}},buildMultipleUrl:function(t){var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],r=""+this.baseUrl+this.pathForType(t),i=Object.keys(n);if(i.length>0){var s=i.map(function(e){var t=void 0;return Array.isArray(n[e])?t=n[e].join(","):t=n[e],e+"="+encodeURIComponent(t)}).join("&");return r+"?"+s}return r},buildSingleUrl:function(t,n){return""+this.baseUrl+this.pathForType(t)+"/"+n},fetchMultiple:function(){var t=this.buildUrl.apply(this,["multiple"].concat(Array.prototype.slice.call(arguments)));return this.ajax("GET",t,{headers:this.headers}).then(function(e){return e.json})},fetchSingle:function(){var t=this.buildUrl.apply(this,["single"].concat(Array.prototype.slice.call(arguments)));return this.ajax("GET",t,{headers:this.headers}).then(function(e){return e.json})}});e.default=a}),t("shopify-buy/adapters/local-storage-adapter",["exports","../metal/core-object","../metal/set-guid-for","../store"],function(e,t,n,r){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=u(t),s=u(n),o=u(r),a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol?"symbol":typeof e},f=i.default.extend({constructor:function l(){this.store=new o.default},idKeyForType:function(){return n.GUID_KEY},fetchSingle:function(t,n){var r=this;return new Promise(function(e,i){var s=r.store.getItem(r.storageKey(t,n));if(s===null){i(new Error(t+"#"+n+" not found"));return}e(s)})},create:function(t,n){var r=this;return new Promise(function(e){var i=r.identify(n);r.store.setItem(r.storageKey(t,i),n),e(n)})},update:function(t,n,r){var i=this;return new Promise(function(e){i.store.setItem(i.storageKey(t,n),r),e(r)})},storageKey:function(t,n){return t+"."+n},identify:function(t){var n=Object.keys(t);return n.length===1&&a(t[n[0]])==="object"?(0,s.default)(t[n[0]]):(0,s.default)(t)}});e.default=f}),t("shopify-buy/ajax",["exports","./ie9-ajax","./metal/global"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.status=e.status,t.response=e,t}function u(e){return e.json().then(function(t){return{json:t,originalResponse:e,isJSON:!0}}).catch(function(){var t=e.clone();return t.text().then(function(e){return{text:e,originalResponse:t,isText:!0}})})}function a(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return i.default.XDomainRequest?r.default.apply(undefined,arguments):(n.method=e,n.mode="cors",fetch(t,n).then(o).then(u))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=s(t),i=s(n)}),t("shopify-buy/config",["exports","./metal/core-object"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var n=r(t),i=n.default.extend({constructor:function s(e){var t=this;this.requiredProperties.forEach(function(n){if(!e.hasOwnProperty(n))throw new Error("new Config() requires the option '"+n+"'");t[n]=e[n]})},requiredProperties:["apiKey","appId","myShopifyDomain"],apiKey:"",appId:"",myShopifyDomain:""});e.default=i}),t("shopify-buy/ie9-ajax",["exports"],function(e){"use strict";function t(e,t){var n=void 0;t.headers&&Object.keys(t.headers).forEach(function(e){e.toLowerCase()==="authorization"&&(n=t.headers[e])});if(n){var r=n.split(" ").slice(-1)[0];try{var i=atob(r),s=void 0;return e.indexOf("?")>-1?s=e+"&_x_http_authorization="+i:s=e+"?_x_http_authorization="+i,s}catch(o){}}return e}function n(e,n,r){return new Promise(function(i,s){function u(){s(new Error("There was an error with the XDR"))}var o=new XDomainRequest;o.onload=function(){try{var e=JSON.parse(o.responseText);i({json:e,originalResponse:o,isJSON:!0})}catch(t){i({text:o.responseText,originalResponse:o,isText:!0})}},o.onerror=u,o.ontimeout=u,o.open(e,t(n,r)),o.send(r.data)})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n}),t("shopify-buy/isomorphic-btoa",["./metal/global","./metal/is-node-like-environment"],function(e,t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var n=i(e),r=i(t),s=n.default.btoa;!s&&(0,r.default)()&&(n.default.btoa=function(e){return(new Buffer(e)).toString("base64")})}),t("shopify-buy/isomorphic-fetch",["./metal/global","./metal/is-node-like-environment"],function(e,t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var n=i(e),r=i(t),s=n.default.fetch;!s&&(0,r.default)()&&(n.default.fetch=n.default.require("node-fetch"),n.default.Response=n.default.fetch.Response)}),t("shopify-buy/metal/assign",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=void 0;typeof Object.assign=="function"?t=Object.assign:t=function(t){if(t===undefined||t===null)throw new TypeError("Cannot convert undefined or null to object");var n=Object(t),r=[].slice.call(arguments,1);return r.length>0&&r.forEach(function(e){if(e!==undefined&&e!==null){var t=void 0;for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t])}}),n},e.default=t}),t("shopify-buy/metal/core-object",["exports","./create-class"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var n=r(t),i=(0,n.default)({constructor:function s(){},"static":{extend:function(t){return(0,n.default)(t,this)}}});e.default=i}),t("shopify-buy/metal/create-class",["exports","./assign","./includes"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){function n(){var n=this.super;this.super=function(){return t.apply(this,arguments)};var r=e.apply(this,arguments);return this.super=n,r}return n.wrappedFunction=e,n}function u(e,t,n){var r=Object.getPrototypeOf(n);e.forEach(function(e){var i=Object.getOwnPropertyDescriptor(t,e),s=r.hasOwnProperty(e)&&Object.getOwnPropertyDescriptor(r,e);if(typeof s.value=="function"&&typeof i.value=="function"){var u=o(i.value,s.value);Object.defineProperty(n,e,{value:u})}else Object.defineProperty(n,e,i)})}function a(e){var t=arguments.length<=1||arguments[1]===undefined?Object:arguments[1],n=o(e.constructor,t),s=Object.getOwnPropertyNames(e).filter(function(e){return!(0,i.default)(["constructor","static"],e)});(0,r.default)(n,t),n.prototype=Object.create(t.prototype),u(s,e,n.prototype),n.prototype.constructor=n;var a=e.static;if(a){var f=Object.getOwnPropertyNames(a);u(f,a,n)}return n}Object.defineProperty(e,"__esModule",{value:!0});var r=s(t),i=s(n);e.default=a}),t("shopify-buy/metal/global",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=void 0;typeof s=="undefined"?t=window:t=s,e.default=t}),t("shopify-buy/metal/includes",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=void 0;Array.prototype.includes?t=function(t){var n=[].slice.call(arguments,1);return Array.prototype.includes.apply(t,n)}:t=function(t,n){var r=Object(t),i=parseInt(r.length,10)||0;if(i===0)return!1;var s=parseInt(arguments[1],10)||0,o=void 0;s>=0?o=s:(o=i+s,o<0&&(o=0));while(o<i){var u=r[o];if(n===u||n!==n&&u!==u)return!0;o++}return!1},e.default=t}),t("shopify-buy/metal/is-node-like-environment",["exports"],function(e){"use strict";function t(){var e=typeof window=="undefined",t=typeof r=="function";return e&&t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=t}),t("shopify-buy/metal/set-guid-for",["exports"],function(e){"use strict";function o(){return++s}function f(e){if(e&&e[n])return e[n];if(e===undefined)return"(undefined)";if(e===null)return"(null)";var s=typeof e=="undefined"?"undefined":t(e),f=void 0;switch(s){case"number":f=u[e],f||(f=u[e]="nu"+e);break;case"string":f=a[e],f||(f=u[e]="st"+o());break;case"boolean":e?f="(true)":f="(false)";break;default:if(e===Object){f="(Object)";break}if(e===Array){f="(Array)";break}f=r+"."+o(),e[n]===null?e[n]=f:(i.value=f,Object.defineProperty(e,n,i))}return f}Object.defineProperty(e,"__esModule",{value:!0});var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol?"symbol":typeof e},n="shopify-buy-uuid",r="shopify-buy."+Date.now(),i={writable:!0,configurable:!0,enumerable:!0,value:null},s=0,u={},a={};e.default=f,e.GUID_KEY=n}),t("shopify-buy/metal/uniq",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return e.reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[])}}),t("shopify-buy/models/base-model",["exports","../metal/core-object","../metal/assign"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var r=s(t),i=s(n),o=r.default.extend({constructor:function u(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];this.attrs=e,(0,i.default)(this,t)},attrs:null,serializer:null,adapter:null,shopClient:null});e.default=o}),t("shopify-buy/models/cart-line-item-model",["exports","./base-model","../metal/set-guid-for"],function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(t),s=r.default.extend({constructor:function o(){this.super.apply(this,arguments)},get id(){return this.attrs[n.GUID_KEY]},get variant_id(){return this.attrs.variant_id},get product_id(){return this.attrs.product_id},get image(){return this.attrs.image},get title(){return this.attrs.title},get quantity(){return this.attrs.quantity},set quantity(e){var t=parseInt(e,10);if(t<0)throw new Error("Quantities must be positive");if(t!==parseFloat(e))throw new Error("Quantities must be whole numbers");return this.attrs.quantity=t,this.attrs.quantity},get properties(){return this.attrs.properties||{}},set properties(e){return this.attrs.properties=e||{},e},get variant_title(){return this.attrs.variant_title},get price(){return this.attrs.price},get compare_at_price(){return this.attrs.compare_at_price},get line_price(){return(this.quantity*parseFloat(this.price)).toFixed(2)},get grams(){return this.attrs.grams}});e.default=s}),t("shopify-buy/models/cart-model",["exports","./base-model","./cart-line-item-model","../metal/assign","../metal/set-guid-for"],function(e,t,n,r,i){"use strict";function f(e){return e&&e.__esModule?e:{"default":e}}function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function h(e,t){return e===t?!0:Object.keys(e).every(function(n){return e[n]instanceof Date?e[n].toString()===t[n].toString():c(e[n])==="object"?h(e[n],t[n]):e[n]===t[n]})}Object.defineProperty(e,"__esModule",{value:!0});var s=f(t),o=f(n),u=f(r),a=f(i),c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol?"symbol":typeof e},p=s.default.extend({constructor:function d(){this.super.apply(this,arguments)},get id(){return this.attrs[i.GUID_KEY]},get lineItems(){return(this.attrs.line_items||[]).map(function(e){return new o.default(e)})},get lineItemCount(){return this.lineItems.reduce(function(e,t){return e+t.quantity},0)},get subtotal(){var e=this.lineItems.reduce(function(e,t){return e+parseFloat(t.line_price)},0);return e.toFixed(2)},get checkoutUrl(){var e=this.config,t="https://"+e.myShopifyDomain+".myshopify.com/cart",n=this.lineItems.map(function(e){return e.variant_id+":"+e.quantity}),r="api_key="+e.apiKey;if(typeof ga=="function"){var i=void 0;window.ga(function(e){i=e.get("linkerParam")}),i&&(r+="&"+i)}return t+"/"+n+"?"+r},addVariants:function(){var t=[].concat(Array.prototype.slice.call(arguments)).map(function(e){var t={image:e.variant.image,variant_id:e.variant.id,product_id:e.variant.productId,title:e.variant.productTitle,quantity:parseInt(e.quantity,10),properties:e.properties||{},variant_title:e.variant.title,price:e.variant.price,compare_at_price:e.variant.compareAtPrice,grams:e.variant.grams};return(0,a.default)(t),t}),n=this.attrs.line_items;n.push.apply(n,l(t));var r=n.reduce(function(e,t){var n=e.filter(function(e){return e.variant_id===t.variant_id&&h(e.properties,t.properties)})[0];return n?n.quantity=n.quantity+t.quantity:e.push(t),e},[]);return this.attrs.line_items=r.reduce(function(e,t){return t.quantity>=1&&e.push(t),e},[]),this.updateModel()},updateLineItem:function(t,n){if(n<1)return this.removeLineItem(t);var r=this.lineItems.filter(function(e){return e.id===t})[0];return r?(r.quantity=n,this.updateModel()):new Promise(function(e,n){n(new Error("line item with id: "+t+" not found in cart#"+this.id))})},removeLineItem:function(t){var n=this.lineItems.length,r=this.lineItems.filter(function(e){return e.id!==t}),i=r.length;return i<n?(this.attrs.line_items=r.map(function(e){return e.attrs}),this.updateModel()):new Promise(function(e,n){n(new Error("line item with id: "+t+" not found in cart#"+this.id))})},clearLineItems:function(){return this.attrs.line_items=[],this.updateModel()},updateModel:function(){var t=this;return this.shopClient.update("carts",this).then(function(e){return(0,u.default)(t.attrs,e.attrs),t})}});e.default=p}),t("shopify-buy/models/product-model",["exports","./base-model","./product-option-model","./product-variant-model","../metal/uniq"],function(e,t,n,r,i){"use strict";function f(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.NO_IMAGE_URI=undefined;var s=f(t),o=f(n),u=f(r),a=f(i),l="https://widgets.shopifyapps.com/assets/no-image.svg",c=s.default.extend({constructor:function h(){this.super.apply(this,arguments)},get id(){return this.attrs.product_id},get title(){return this.attrs.title},get images(){return this.attrs.images},get memoized(){return this._memoized=this._memoized||{},this._memoized},get options(){if(this.memoized.options)return this.memoized.options;var e=this.attrs.options,t=this.variants;return this.memoized.options=e.map(function(e){var n=e.name,r=t.reduce(function(t,n){var r=n.optionValues.filter(function(t){return t.name===e.name})[0];return t.push(r.value),t},[]),i=(0,a.default)(r);return new o.default({name:n,values:i})}),this.memoized.options},get variants(){var e=this;return this.attrs.variants.map(function(t){return new u.default({variant:t,product:e},{config:e.config})})},get selections(){return this.options.map(function(e){return e.selected})},get selectedVariant(){var e=this.selections.join(" / ");return this.variants.filter(function(t){return t.title===e})[0]||null},get selectedVariantImage(){return this.selectedVariant?this.selectedVariant.image:null}});e.default=c,e.NO_IMAGE_URI=l}),t("shopify-buy/models/product-option-model",["exports","./base-model","../metal/includes"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var r=s(t),i=s(n),o=r.default.extend({constructor:function u(){this.super.apply(this,arguments),this.selected=this.values[0]},get name(){return this.attrs.name},get values(){return this.attrs.values},get selected(){return this._selected},set selected(e){if(!(0,i.default)(this.values,e))throw new Error("Invalid option selection for "+this.name+".");return this._selected=e,e}});e.default=o}),t("shopify-buy/models/product-variant-model",["exports","./base-model"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var n=r(t),i=n.default.extend({constructor:function s(){this.super.apply(this,arguments)},get id(){return this.attrs.variant.id},get productId(){return this.attrs.product.id},get title(){return this.attrs.variant.title},get productTitle(){return this.attrs.product.title},get compareAtPrice(){return this.attrs.variant.compare_at_price},get price(){return this.attrs.variant.price},get grams(){return this.attrs.variant.grams},get optionValues(){return this.attrs.variant.option_values},get image(){var e=this.id,t=this.attrs.product.images,n=t[0],r=t.filter(function(t){return t.variant_ids.indexOf(e)!==-1})[0];return r||n},get imageVariants(){var e=this.image;if(!e)return[];var t=this.image.src,n=t.lastIndexOf("."),r=t.slice(0,n),i=t.slice(n),s=[{name:"pico",dimension:"16x16"},{name:"icon",dimension:"32x32"},{name:"thumb",dimension:"50x50"},{name:"small",dimension:"100x100"},{name:"compact",dimension:"160x160"},{name:"medium",dimension:"240x240"},{name:"large",dimension:"480x480"},{name:"grande",dimension:"600x600"},{name:"1024x1024",dimension:"1024x1024"},{name:"2048x2048",dimension:"2048x2048"}];return s.forEach(function(e){e.src=r+"_"+e.name+i}),s},checkoutUrl:function(){var t=arguments.length<=0||arguments[0]===undefined?1:arguments[0],n=this.config,r="https://"+n.myShopifyDomain+".myshopify.com/cart",i=this.id+":"+parseInt(t,10),s="api_key="+n.apiKey;return r+"/"+i+"?"+s}});e.default=i}),t("shopify-buy/models/reference-model",["exports","./base-model","../metal/set-guid-for"],function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(t),s=r.default.extend({constructor:function o(e){if(Object.keys(e).indexOf("referenceId")<0)throw new Error("Missing key referenceId of reference. References to null are not allowed");this.super.apply(this,arguments)},get id(){return this.attrs[n.GUID_KEY]},get referenceId(){return this.attrs.referenceId},set referenceId(e){return this.attrs.referenceId=e,e}});e.default=s}),t("promise",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=window.RSVP,n=t.Promise;e.RSVP=t,e.Promise=n,e.default=n}),t("shopify-buy/serializers/cart-serializer",["exports","../metal/core-object","../metal/assign","../models/cart-model"],function(e,t,n,r){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=u(t),s=u(n),o=u(r),a=i.default.extend({constructor:function f(e){this.config=e},rootKeyForType:function(t){return t.slice(0,-1)},modelForType:function(){return o.default},deserializeSingle:function(t){var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],r=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],i=n[this.rootKeyForType(t)],s=this.modelFromAttrs(t,i,r);return s},modelFromAttrs:function(t,n,r){var i=this.modelForType(t);return r.config=this.config,new i(n,r)},serialize:function(t,n){var r=this.rootKeyForType(t),i={},o=(0,s.default)({},n.attrs);return i[r]=o,delete o.attributes,Object.keys(o).forEach(function(e){var t=o[e];(t===null||typeof t=="string"&&t.length===0)&&delete o[e]}),i}});e.default=a}),t("shopify-buy/serializers/listings-serializer",["exports","../metal/core-object","../models/base-model","../models/product-model"],function(e,t,n,r){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=u(t),s=u(n),o=u(r),a=i.default.extend({constructor:function f(e){this.config=e},rootKeyForType:function(t){return t.slice(0,-1)+"_listing"},models:{collections:s.default,products:o.default},modelForType:function(t){return this.models[t]},deserializeSingle:function(t){var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],r=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],i=n[this.rootKeyForType(t)],s=this.modelFromAttrs(t,i,r);return s},deserializeMultiple:function(t){var n=this,r=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],i=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],s=r[this.rootKeyForType(t)+"s"];return s.map(function(e){var r=n.modelFromAttrs(t,e,i);return r})},modelFromAttrs:function(t,n,r){var i=this.modelForType(t);return r.config=this.config,new i(n,r)}});e.default=a}),t("shopify-buy/serializers/reference-serializer",["exports","../metal/core-object","../metal/assign","../models/reference-model"],function(e,t,n,r){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=u(t),s=u(n),o=u(r),a=i.default.extend({constructor:function f(e){this.config=e},modelForType:function(){return o.default},deserializeSingle:function(t){var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],r=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],i=this.modelForType(t);return new i(n,r)},serialize:function(t,n){var r=(0,s.default)({},n.attrs);return r}});e.default=a}),t("shopify-buy/shop-client",["exports","./serializers/listings-serializer","./adapters/listings-adapter","./serializers/cart-serializer","./serializers/reference-serializer","./adapters/local-storage-adapter","./metal/core-object","./metal/assign","./metal/set-guid-for"],function(e,t,n,r,i,s,o,u,a){"use strict";function m(e){return e&&e.__esModule?e:{"default":e}}function g(e,t){var n=void 0;switch(e){case"all":n=function(){return this.fetchAll(t)};break;case"one":n=function(){return this.fetch.apply(this,[t].concat(Array.prototype.slice.call(arguments)))};break;case"query":n=function(){return this.fetchQuery.apply(this,[t].concat(Array.prototype.slice.call(arguments)))}}return n}Object.defineProperty(e,"__esModule",{value:!0});var f=m(t),l=m(n),c=m(r),h=m(i),p=m(s),d=m(o),v=m(u),y=d.default.extend({constructor:function b(e){this.config=e,this.serializers={products:f.default,collections:f.default,carts:c.default,references:h.default},this.adapters={products:l.default,collections:l.default,carts:p.default,references:p.default}},config:null,get serializers(){return(0,v.default)({},this.shadowedSerializers)},set serializers(e){this.shadowedSerializers=(0,v.default)({},e)},get adapters(){return(0,v.default)({},this.shadowedAdapters)},set adapters(e){this.shadowedAdapters=(0,v.default)({},e)},fetchAll:function(t){var n=this,r=new this.adapters[t](this.config);return r.fetchMultiple(t).then(function(e){return n.deserialize(t,e,r,null,{multiple:!0})})},fetch:function(t,n){var r=this,i=new this.adapters[t](this.config);return i.fetchSingle(t,n).then(function(e){return r.deserialize(t,e,i,null,{single:!0})})},fetchQuery:function(t,n){var r=this,i=new this.adapters[t](this.config);return i.fetchMultiple(t,n).then(function(e){return r.deserialize(t,e,i,null,{multiple:!0})})},create:function(t){var n=this,r=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],i=new this.adapters[t](this.config),s=new this.serializers[t](this.config),o=s.modelForType(t),u=new o(r,{shopClient:this}),a=s.serialize(t,u);return i.create(t,a).then(function(e){return n.deserialize(t,e,i,s,{single:!0})})},update:function(t,n){var r=this,i=n.adapter,s=n.serializer,o=s.serialize(t,n),u=n.attrs[i.idKeyForType(t)];return i.update(t,u,o).then(function(e){return r.deserialize(t,e,i,s,{single:!0})})},deserialize:function(t,n,r,i){var s=arguments.length<=4||arguments[4]===undefined?{}:arguments[4],o=i||new this.serializers[t](this.config),u={shopClient:this,adapter:r,serializer:o,type:t},a=void 0;return s.multiple?a=o.deserializeMultiple(t,n,u):a=o.deserializeSingle(t,n,u),a},createCart:function(){var t=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],n={line_items:[]},r={};return(0,v.default)(r,n),(0,v.default)(r,t),this.create("carts",r)},updateCart:function(t){return this.update("carts",t)},fetchCart:g("one","carts"),fetchAllProducts:g("all","products"),fetchAllCollections:g("all","collections"),fetchProduct:g("one","products"),fetchCollection:g("one","collections"),fetchQueryProducts:g("query","products"),fetchQueryCollections:g("query","collections"),fetchRecentCart:function(){var t=this;return this.fetch("references",this.config.myShopifyDomain+".recent-cart").then(function(e){var n=e.referenceId;return t.fetchCart(n)}).catch(function(){return t.createCart().then(function(e){var n={referenceId:e.id};return n[a.GUID_KEY]=t.config.myShopifyDomain+".recent-cart",t.create("references",n),e})})}});e.default=y}),t("shopify-buy/shopify",["exports","./config","./version","./shop-client","./models/product-model","./isomorphic-fetch","./isomorphic-btoa"],function(e,t,n,r,i){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(t),o=a(n),u=a(r),f={ShopClient:u.default,Config:s.default,version:o.default,NO_IMAGE_URI:i.NO_IMAGE_URI,buildClient:function(){var t=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],n=new this.Config(t);return new this.ShopClient(n)}};e.default=f}),t("shopify-buy/store",["exports","./metal/core-object"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var n=r(t),i=n.default.extend({constructor:function s(){this.localStorageAvailable=this.storageAvailable("localStorage"),this.cache={}},setItem:function(t,n){return this.localStorageAvailable?localStorage.setItem(t,JSON.stringify(n)):this.cache[t]=n,n},getItem:function(t){if(!this.localStorageAvailable)return this.cache[t]||null;var n=localStorage.getItem(t);try{return JSON.parse(n)}catch(r){return null}},storageAvailable:function(t){try{var n=window[t],r="__storage_test__";return n.setItem(r,r),n.removeItem(r),!0}catch(i){return!1}}});e.default=i}),t("shopify-buy/version",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t="v0.1.8-4f0cc3";e.default=t}),window.ShopifyBuy=r("shopify-buy/shopify").default}(),define("desktop/views/pages/ShopView",["superhero","shared/utils/ResizeManager","shared/utils/ScrollManager","shared/utils/Shopify"],function(e,t,n,r){return e.View.extend({className:"page page-shop",template:"pages/shop",ui:{hero:".hero-image",title:".hero-header--tour",buyButton:".shop-product-buy",shopContainer:".shop-container--watch",shopContainerjs:".shop-container-js"},events:{},personalLanding:!1,pageWidth:0,initialize:function(){this.pageWidth=t.viewportWidth()},onInitialized:function(){com.chapterone.shopClient||(com.chapterone.shopClient=ShopifyBuy.buildClient({apiKey:"70dca5853efca8e057f13e16e2b728ef",myShopifyDomain:"chapteronedev-2",appId:"6"}),0,com.chapterone.shopClient.createCart().then(function(e){com.chapterone.cart=e})),TweenMax.fromTo(this.ui.shopContainer,1,{y:80,opacity:0,immediateRender:!0},{y:0,opacity:1,delay:1.2,ease:Power2.easeOut}),TweenMax.fromTo(this.ui.shopContainerjs,1,{y:80,opacity:0},{y:0,opacity:1,delay:1.5,ease:Power2.easeOut,immediateRender:!0})},transitionIn:function(e){this.personalLanding=e.isFromHome,!e.previousFragment||e.isFromHome?this._transitionInHome(e):this._transitionInDeeplink(e)},_transitionInHome:function(e){com.chapterone.applicationView.overlaySwiperFromHome(e),TweenMax.fromTo(this.el,1.2,{x:-t.viewportWidth()},{x:0,ease:Quad.easeOut,force3D:!0,delay:.2});var n=document.querySelector(".site-logo");n.style.opacity=1},_transitionInDeeplink:function(e){com.chapterone.applicationView.hideOverlaySwiper(e),TweenMax.fromTo(this.el,.7,{x:-t.viewportWidth()/2},{x:0,ease:Quad.easeOut,delay:0,force3D:!0})},transitionOut:function(e,t){var n=t.fragment.split("/");t.fragment.length?(com.chapterone.applicationView.showOverlaySwiper(e,t),TweenMax.to(this.el,.7,{x:this.pageWidth*.6,ease:Power2.easeIn,force3D:!0,roundProps:["x"],delay:0})):(com.chapterone.applicationView.overlaySwiperToHome(e,t),TweenMax.to(this.el,.7,{x:-this.pageWidth*.9,ease:Power2.easeIn,force3D:!0,roundProps:["x"]}))},_buyProductClickHandler:function(e){e.preventDefault();var t=e.currentTarget.dataset.shopId;com.chapterone.shopClient.fetchProduct(t).then(function(e){com.chapterone.cart.addVariants({variant:e.selectedVariant,quantity:1}).then(function(e){document.location.href=com.chapterone.cart.checkoutUrl})}).catch(function(){0})}})}),define("desktop/views/pages/GalleryView",["superhero","shared/utils/ResizeManager","shared/utils/ScrollManager"],function(e,t,n){return e.View.extend({className:"page page-gallery",template:"pages/gallery",ui:{slides:".slideshow-slide",images:".slideshow-slide--visual",captions:".slideshow-slide--caption",countCurrent:".slideshow-count--current",countTotal:".slideshow-count--total",imageShade:".slideshow-slide--shade",slideshowFullscreen:".slideshow-fullscreen",buttonNextInverted:".button-slideshow--next--inverted",buttonNextInnerInverted:".button-slideshow-inverted--inner-next",buttonNextIcon:".slideshow--next-icon",buttonNextIconInverted:".slideshow--next-icon--inverted",buttonPrevInverted:".button-slideshow--prev--inverted",buttonPrevInnerInverted:".button-slideshow-inverted--inner-prev",buttonPrevIcon:".slideshow--prev-icon",buttonPrevIconInverted:".slideshow--prev-icon--inverted"},personalLanding:!1,events:{"click .slideshow-next":"_buttonNextClickHandler","click .slideshow-prev":"_buttonPrevClickHandler","mouseenter .slideshow-next":"_buttonNextMouseEnterHandler","mouseleave .slideshow-next":"_buttonNextMouseLeaveHandler","mouseenter .slideshow-prev":"_buttonPrevMouseEnterHandler","mouseleave .slideshow-prev":"_buttonPrevMouseLeaveHandler","mouseenter .fullscreen-slide-show-close":"_buttonCloseMouseEnterHandler","mouseleave .fullscreen-slide-show-close":"_buttonCloseMouseLeaveHandler"},options:{},slideShowWidth:0,activeSlideIndex:0,slideDataIndex:0,slidesData:[],slideshowAnimating:!1,pageWidth:0,pageHeight:0,disableAjax:!1,buttonIsAnimating:!1,buttonOutIsAnimating:!1,buttonPrevIsAnimating:!1,buttonPrevOutIsAnimating:!1,DATA_URL:"/index.php/actions/chapterOne/entry/gallery",initialize:function(e){this.options=e||{},_.bindAll(this,"_gridItemsFetchSuccessHandler"),this.activeSlideIndex=0,this.slideDataIndex=0,this.slideShowWidth=0,this.pageWidth=t.viewportWidth(),this.pageHeight=t.viewportHeight(),this.slidesData=[],this.slideshowAnimating=!1,_.bindAll(this,"_slideAnimationCompleteHandler","_buttonFinishedAnimating","_buttonPrevFinishedAnimating"),this.el.style.width=this.pageWidth+"px",com.chapterone.applicationView.disableBodyScroll()},onInitialized:function(){var e=document.querySelector("#header");e.style.zIndex=500,this.ui.captions[1].style.opacity=0,this.ui.captions[2].style.opacity=0,this._fetchGridItems(),this._setupEventListeners()},_setupEventListeners:function(){this.listenTo(t,"resize",this._resizeHandler)},transitionIn:function(e){this.personalLanding=e.isFromHome,!e.previousFragment||e.isFromHome?this._transitionInHome(e):this._transitionInDeeplink(e)},_transitionInHome:function(e){com.chapterone.applicationView.overlaySwiperFromHome(e),TweenMax.fromTo(this.el,1.2,{x:-t.viewportWidth()},{x:0,ease:Quad.easeOut,force3D:!0,delay:.2});var n=document.querySelector(".site-logo");n.style.opacity=1},_transitionInDeeplink:function(e){com.chapterone.applicationView.hideOverlaySwiper(e),TweenMax.fromTo(this.el,.7,{x:-t.viewportWidth()/2},{x:0,ease:Quad.easeOut,delay:0,force3D:!0})},transitionOut:function(e,t){var n=t.fragment.split("/");t.fragment.length?(com.chapterone.applicationView.showOverlaySwiper(e,t),TweenMax.to(this.el,.7,{x:this.pageWidth*.6,ease:Power2.easeIn,force3D:!0,roundProps:["x"],delay:0})):(com.chapterone.applicationView.overlaySwiperToHome(e,t),TweenMax.to(this.el,.7,{x:-this.pageWidth*.9,ease:Power2.easeIn,force3D:!0,roundProps:["x"]}))},_build:function(){this.ui.images[this.activeSlideIndex].src=this.slidesData[this.slideDataIndex].fullscreen.image_url,this.ui.captions[this.activeSlideIndex].href=this.slidesData[this.slideDataIndex].caption,this.ui.images[this.activeSlideIndex+1].src=this.slidesData[this.slideDataIndex+1].fullscreen.image_url,this.ui.captions[this.activeSlideIndex+1].href=this.slidesData[this.slideDataIndex+1].caption,this.ui.images[this.activeSlideIndex+2].src=this.slidesData[this.slidesData.length-1].fullscreen.image_url,this.ui.captions[this.activeSlideIndex+2].href=this.slidesData[this.slidesData.length-1].caption,this.ui.countCurrent.textContent=this.slideDataIndex+1,this.ui.countTotal.textContent=this.slidesData.length},_fetchGridItems:function(){if(this.disableAjax)return;this.disableAjax=!0;var t=this.DATA_URL,n={url:t,success:this._gridItemsFetchSuccessHandler};Backbone.$.ajaxSetup({headers:{Accept:"application/json"}}),e.ajax(n)},_gridItemsFetchSuccessHandler:function(e){0,this.slidesData=e,this._build(),this._resizeImages(),TweenMax.fromTo(this.ui.slideshowFullscreen,2.48,{opacity:0},{opacity:1,ease:Expo.easeOut})},_showNextSlide:function(e){var t,n,r;e<0?e=this.ui.slides.length-1:e>this.ui.slides.length-1&&(e=0),n=this.ui.slides[e],r=this.ui.images[e],t=this.ui.captions[e],n.classList.add("slideshow-slide--next"),this.ui.captions[this.activeSlideIndex].style.opacity=0,TweenMax.to(n,.6,{x:this.pageWidth,ease:Quad.easeOut,delay:0,roundProps:["x"]}),TweenMax.to(r,.6,{x:-this.pageWidth,ease:Quad.easeOut,delay:0,roundProps:["x"]});if(!this.shadeHidden&&!t.href.length)TweenMax.to(this.ui.imageShade,.2,{opacity:0,ease:Linear.easeNone}),this.shadeHidden=!0;else if(this.shadeHidden&&t.href.length){TweenMax.set(t,{opacity:1,delay:.6}),TweenMax.to(this.ui.imageShade,.4,{opacity:1,ease:Linear.easeNone,delay:.6,onComplete:this._slideAnimationCompleteHandler,onCompleteParams:[n,e]}),this.shadeHidden=!1;return}TweenMax.to(t,.2,{opacity:1,ease:Linear.easeNone,delay:.6,onComplete:this._slideAnimationCompleteHandler,onCompleteParams:[n,e]})},_showPrevSlide:function(e){var t,n,r;e<0?e=this.ui.slides.length-1:e>this.ui.slides.length-1&&(e=0),n=this.ui.slides[e],r=this.ui.images[e],t=this.ui.captions[e],n.classList.add("slideshow-slide--next"),this.ui.captions[this.activeSlideIndex].style.opacity=0,TweenMax.fromTo(n,.6,{x:this.pageWidth*2},{x:this.pageWidth,ease:Quad.easeOut,delay:0,roundProps:["x"]}),TweenMax.fromTo(r,.6,{x:-this.pageWidth*2},{x:-this.pageWidth,ease:Quad.easeOut,delay:0,roundProps:["x"]});if(!this.shadeHidden&&!t.href.length)TweenMax.to(this.ui.imageShade,.2,{opacity:0,ease:Linear.easeNone}),this.shadeHidden=!0;else if(this.shadeHidden&&t.href.length){TweenMax.set(t,{opacity:1,delay:.6}),TweenMax.to(this.ui.imageShade,.4,{opacity:1,ease:Linear.easeNone,delay:.6,onComplete:this._slideAnimationCompleteHandler,onCompleteParams:[n,e]}),this.shadeHidden=!1;return}TweenMax.to(t,.2,{opacity:1,ease:Linear.easeNone,delay:.6,onComplete:this._slideAnimationCompleteHandler,onCompleteParams:[n,e]})},_loadNewSlideContent:function(e,t,n){n===-1?n=this.ui.slides.length-1:n===-2?n=this.ui.slides.length-2:n===this.ui.slides.length?n=0:n===this.ui.slides.length+1&&(n=1),e<0?e=this.slidesData.length-1:e>this.slidesData.length-1&&(e=0),t===-1?t=this.slidesData.length-1:t===-2?t=this.slidesData.length-2:t===this.slidesData.length?t=0:t===this.slidesData.length+1&&(t=1);var r=this.slidesData[t],i=this.ui.images[n],s=this.ui.captions[n],o=this.ui.images[n],u=r.fullscreen.image_width,a=r.fullscreen.image_height;i.src=r.fullscreen.image_url,s.href=r.caption,this.slideDataIndex=e,this.ui.countCurrent.textContent=this.slideDataIndex+1},_resizeImages:function(){var e,t,n,r;for(var i=0,s=3;i<s;i++)r=this.ui.images[i],e=this.slideDataIndex+i,e===-1?e=this.slidesData.length-1:e===-2?e=this.slidesData.length-2:e===this.slidesData.length?e=0:e===this.slidesData.length+1&&(e=1),n=this.slidesData[e].fullscreen.image_width,t=this.slidesData[e].fullscreen.image_height,this._resizeImage(r,n,t)},_resizeImage:function(e,t,n){var r=com.chapterone.getCoverSize(this.pageWidth,this.pageHeight,t,n);e.style.width=r.width+"px",e.style.height=r.height+"px"},_rebuildSlider:function(e,t){var n=this.ui.slides[this.activeSlideIndex],r=this.ui.images[this.activeSlideIndex];e.classList.remove("slideshow-slide--next"),e.classList.add("slideshow-slide--active"),n.classList.contains("slideshow-slide--first")&&n.classList.remove("slideshow-slide--first"),n.classList.remove("slideshow-slide--active"),TweenMax.set(n,{clearProps:"all"}),TweenMax.set(r,{clearProps:"all"}),this.activeSlideIndex=t,this.slideshowAnimating=!1},_repositionSlide:function(){TweenMax.set(this.el,{x:this.pageWidth});if(this.ui.slides[this.activeSlideIndex].classList.contains("slideshow-slide--first"))return;0,TweenMax.set(this.ui.slides[this.activeSlideIndex],{x:this.pageWidth}),TweenMax.set(this.ui.images[this.activeSlideIndex],{x:-this.pageWidth})},_buttonNextClickHandler:function(e){e.preventDefault(),this._resizeHandler();if(this.slideshowAnimating)return;this.slideshowAnimating=!0;var t=this.activeSlideIndex+1,n=this.activeSlideIndex+2,r=this.slideDataIndex+2,i=this.slideDataIndex+1;this._showNextSlide(t),this._loadNewSlideContent(i,r,n)},_buttonPrevClickHandler:function(e){e.preventDefault(),this._resizeHandler();if(this.slideshowAnimating)return;this.slideshowAnimating=!0;var t=this.activeSlideIndex-1,n=this.activeSlideIndex-2,r=this.slideDataIndex-2,i=this.slideDataIndex-1;this._showPrevSlide(t),this._loadNewSlideContent(i,r,n)},_buttonNextShowHover:function(){var e=this.ui.buttonNextInverted.offsetWidth;TweenMax.to(this.ui.buttonNextInverted,.7,{x:e,ease:Expo.easeInOut,force3D:!0}),TweenMax.to(this.ui.buttonNextInnerInverted,.7,{x:-e,ease:Expo.easeInOut,force3D:!0}),TweenMax.fromTo(this.ui.buttonNextIconInverted,.48,{x:-(this.ui.buttonNextIconInverted.offsetWidth*.5)},{x:-(this.ui.buttonNextIconInverted.offsetWidth*.5)+10,ease:Expo.easeOut,delay:.3,force3D:!0,onComplete:this._buttonFinishedAnimating})},_buttonNextHideHover:function(){TweenMax.fromTo(this.ui.buttonNextIcon,.48,{x:-(this.ui.buttonNextIconInverted.offsetWidth*.5)+10},{x:-(this.ui.buttonNextIconInverted.offsetWidth*.5),ease:Expo.easeOut,delay:.3,force3D:!0,onComplete:this._buttonFinishedAnimating}),TweenMax.to([this.ui.buttonNextInverted,this.ui.buttonNextInnerInverted],.7,{x:0,ease:Expo.easeInOut,force3D:!0})},_buttonNextHideHoverAlt:function(){TweenMax.fromTo(this.ui.buttonNextIcon,.48,{x:-(this.ui.buttonNextIconInverted.offsetWidth*.5)+10},{x:-(this.ui.buttonNextIconInverted.offsetWidth*.5),ease:Expo.easeOut,delay:.3,force3D:!0}),TweenMax.to([this.ui.buttonNextInverted,this.ui.buttonNextInnerInverted],.7,{x:0,ease:Expo.easeInOut,force3D:!0})},_buttonPrevShowHover:function(){var e=this.ui.buttonPrevInverted.offsetWidth;TweenMax.to(this.ui.buttonPrevInverted,.7,{x:-e,ease:Expo.easeInOut,force3D:!0}),TweenMax.to(this.ui.buttonPrevInnerInverted,.7,{x:e,ease:Expo.easeInOut,force3D:!0}),TweenMax.fromTo(this.ui.buttonPrevIconInverted,.48,{x:-(this.ui.buttonNextIconInverted.offsetWidth*.5)},{x:-(this.ui.buttonNextIconInverted.offsetWidth*.5)-10,ease:Expo.easeOut,delay:.3,force3D:!0,onComplete:this._buttonPrevFinishedAnimating})},_buttonPrevHideHover:function(){TweenMax.fromTo(this.ui.buttonPrevIcon,.48,{x:-(this.ui.buttonNextIconInverted.offsetWidth*.5)-10},{x:-(this.ui.buttonNextIconInverted.offsetWidth*.5),ease:Expo.easeOut,delay:.3,force3D:!0,onComplete:this._buttonPrevFinishedAnimating}),TweenMax.to([this.ui.buttonPrevInverted,this.ui.buttonPrevInnerInverted],.7,{x:0,ease:Expo.easeInOut,force3D:!0})},_buttonPrevHideHoverAlt:function(){TweenMax.fromTo(this.ui.buttonPrevIcon,.48,{x:-(this.ui.buttonNextIconInverted.offsetWidth*.5)-10},{x:-(this.ui.buttonNextIconInverted.offsetWidth*.5),ease:Expo.easeOut,delay:.3,force3D:!0}),TweenMax.to([this.ui.buttonPrevInverted,this.ui.buttonPrevInnerInverted],.7,{x:0,ease:Expo.easeInOut,force3D:!0})},_slideAnimationCompleteHandler:function(e,t){this._rebuildSlider(e,t)},_buttonNextMouseEnterHandler:function(){this.buttonIsAnimating||(this.buttonIsAnimating=!0,this._buttonNextShowHover())},_buttonNextMouseLeaveHandler:function(){this.buttonIsAnimating||(this.buttonIsAnimating=!0,this._buttonNextHideHover()),this.buttonIsAnimating&&(this.buttonOutIsAnimating=!0)},_buttonPrevMouseEnterHandler:function(){this.buttonPrevIsAnimating||(this.buttonPrevIsAnimating=!0,this._buttonPrevShowHover())},_buttonPrevMouseLeaveHandler:function(){this.buttonPrevIsAnimating||(this.buttonPrevIsAnimating=!0,this._buttonPrevHideHover()),this.buttonPrevIsAnimating&&(this.buttonPrevOutIsAnimating=!0)},_buttonCloseMouseEnterHandler:function(){this._buttonCloseShowHover()},_buttonCloseMouseLeaveHandler:function(){this._buttonCloseHideHover()},_resizeHandler:function(){this.pageWidth=t.viewportWidth(),this.pageHeight=t.viewportHeight(),this.el.style.width=this.pageWidth+"px",this.el.style.left=-this.pageWidth+"px",this._resizeImages(),this._repositionSlide()},_buttonFinishedAnimating:function(){this.buttonIsAnimating=!1,this.buttonOutIsAnimating&&(this._buttonNextHideHoverAlt(),this.buttonOutIsAnimating=!1)},_buttonPrevFinishedAnimating:function(){this.buttonPrevIsAnimating=!1,this.buttonPrevOutIsAnimating&&(this._buttonPrevHideHoverAlt(),this.buttonPrevOutIsAnimating=!1)}})}),define("shared/utils/AnalyticsTracker",["underscore","backbone"],function(e,t){function n(){}return e.extend(n.prototype,t.Events,{trackPageview:function(e,t){0;if(typeof ga=="undefined")return;ga("set",{page:e,title:t||null}),ga("send","pageview")},trackEvent:function(e,t,n,r,i){0;if(typeof ga=="undefined"){e&&e();return}ga("send","event",{eventCategory:t,eventAction:n,eventLabel:r!==undefined?r:null,eventValue:i!==undefined?i:null,hitCallback:e,nonInteraction:r==="scroll"&&i===0})}}),new n}),define("desktop/routers/ApplicationRouter",["superhero","desktop/views/pages/HomeView","desktop/views/pages/ArticleView","desktop/views/pages/LocationsView","desktop/views/pages/RidersView","desktop/views/pages/PartnersView","desktop/views/pages/SynopsisView","desktop/views/pages/CrewView","desktop/views/pages/TourView","desktop/views/pages/ShopView","desktop/views/pages/GalleryView","shared/utils/AnalyticsTracker"],function(e,t,n,r,i,s,o,u,a,f,l,c){return e.Router.extend({routes:{"":"home",synopsis:"synopsis","article/:slug":"article","rider/:slug":"rider","location/:slug":"location",location:"locations",crew:"crews","crew/:slug":"crew",gallery:"gallery",rider:"riders",partners:"partners",shop:"shop",tour:"tour","*personalLanding":"personalLanding"},isFirstPageOpening:!0,isFromHome:!1,initialize:function(){this.isFirstPageOpening=!0},home:function(){c.trackPageview(window.location.href),this.isFromHome=!1;var n=this.getTransitionData();n.isFromHome=this.isFromHome,e.RegionManager.get("overlay").clear(this.getTransitionData()),e.RegionManager.get("main").show(t,{firstPageOpening:this.isFirstPageOpening},n),this.isFirstPageOpening?(this.isFirstPageOpening=!1,0):0},synopsis:function(){c.trackPageview(window.location.href);var t=this.getTransitionData();t.isFromHome=this.isFromHome,e.RegionManager.get("overlay").show(o,null,t),this.isFirstPageOpening&&(this.isFirstPageOpening=!1),this.isFromHome&&(this.isFromHome=!1)},article:function(t){c.trackPageview(window.location.href);var r=this.getTransitionData();r.isFromHome=this.isFromHome,e.RegionManager.get("overlay").allowSameView(),e.RegionManager.get("overlay").show(n,{template:"article/"+t},r),this.isFirstPageOpening&&(this.isFirstPageOpening=!1),this.isFromHome&&(this.isFromHome=!1)},rider:function(t){c.trackPageview(window.location.href);var r=this.getTransitionData();r.isFromHome=this.isFromHome,e.RegionManager.get("overlay").allowSameView(),e.RegionManager.get("overlay").show(n,{template:"rider/"+t},r),this.isFirstPageOpening&&(this.isFirstPageOpening=!1),this.isFromHome&&(this.isFromHome=!1)},location:function(t){c.trackPageview(window.location.href);var r=this.getTransitionData();r.isFromHome=this.isFromHome,e.RegionManager.get("overlay").allowSameView(),e.RegionManager.get("overlay").show(n,{template:"location/"+t},r),this.isFirstPageOpening&&(this.isFirstPageOpening=!1),this.isFromHome&&(this.isFromHome=!1)},locations:function(){c.trackPageview(window.location.href);var t=this.getTransitionData();t.isFromHome=this.isFromHome,e.RegionManager.get("overlay").show(r,null,t),this.isFirstPageOpening&&(this.isFirstPageOpening=!1),this.isFromHome&&(this.isFromHome=!1)},crew:function(t){c.trackPageview(window.location.href);var r=this.getTransitionData();r.isFromHome=this.isFromHome,e.RegionManager.get("overlay").allowSameView(),e.RegionManager.get("overlay").show(n,{template:"crew/"+t},r),this.isFirstPageOpening&&(this.isFirstPageOpening=!1),this.isFromHome&&(this.isFromHome=!1)},crews:function(){c.trackPageview(window.location.href);var t=this.getTransitionData();t.isFromHome=this.isFromHome,e.RegionManager.get("overlay").show(u,null,t),this.isFirstPageOpening&&(this.isFirstPageOpening=!1),this.isFromHome&&(this.isFromHome=!1)},gallery:function(){c.trackPageview(window.location.href);var t=this.getTransitionData();t.isFromHome=this.isFromHome,e.RegionManager.get("overlay").show(l,null,t),this.isFirstPageOpening&&(this.isFirstPageOpening=!1),this.isFromHome&&(this.isFromHome=!1)},riders:function(){c.trackPageview(window.location.href);var t=this.getTransitionData();t.isFromHome=this.isFromHome,e.RegionManager.get("overlay").show(i,null,t),this.isFirstPageOpening&&(this.isFirstPageOpening=!1),this.isFromHome&&(this.isFromHome=!1)},partners:function(){c.trackPageview(window.location.href);var t=this.getTransitionData();t.isFromHome=this.isFromHome,e.RegionManager.get("overlay").show(s,null,t),this.isFirstPageOpening&&(this.isFirstPageOpening=!1),this.isFromHome&&(this.isFromHome=!1)},shop:function(){c.trackPageview(window.location.href);var t=this.getTransitionData();t.isFromHome=this.isFromHome,e.RegionManager.get("overlay").show(f,null,t),this.isFirstPageOpening&&(this.isFirstPageOpening=!1),this.isFromHome&&(this.isFromHome=!1)},tour:function(){c.trackPageview(window.location.href);var t=this.getTransitionData();t.isFromHome=this.isFromHome,e.RegionManager.get("overlay").show(a,null,t),this.isFirstPageOpening&&(this.isFirstPageOpening=!1),this.isFromHome&&(this.isFromHome=!1)},personalLanding:function(){c.trackPageview(window.location.href),this.isFromHome=!0;var n=this.getTransitionData();n.isFromHome=this.isFromHome,e.RegionManager.get("overlay").clear(this.getTransitionData()),e.RegionManager.get("main").show(t,{firstPageOpening:this.isFirstPageOpening},n),this.isFirstPageOpening&&(this.isFirstPageOpening=!1)}})}),define("desktop/views/components/SubscribePopupComponent",["superhero"],function(e){return e.View.extend({template:"modal/contact",className:"popup popup-subscribe",ui:{submitButtonInverse:".button-submit--subscribe-inverted",submitButtonInverseTitle:".subscribe-inverted-title",emailInput:".input-email",subscribeContent:".contact-content",subscribeSuccess:".contact-success",closeButtonInverted:".button-contact-close--inverted",closeButtonInvertedIcon:".button-contact-close--icon--inverted",closeButton:".contact-close",header:".header1-contact",chapterOneBox:".contact-content-partner--Chapter",eyeforceBox:".contact-content-partner--Eyeforce",contactTitle:".contact-subscribetitle",contactInput:".form-contact",contactFollow:".contact-follow"},events:{"focusin .input-email":"_inputFocusHandler","focusout .input-email":"_inputBlurHandler","click .submit-button-container":"_submitButtonClickHandler","click .contact-close":"_buttonCloseClickHandler","mouseover .button-close-contact":"_buttonCloseMouseEnterHandler","mouseleave .button-close-contact":"_buttonCloseMouseLeaveHandler"},SUBMIT_URL:"/index.php/actions/chapterOne/subscribe/subscribe",submitButtonHeight:0,closeButtonHeight:100,isSubmitting:!1,initialize:function(){this.submitButtonHeight=0,this.isSubmitting=!1,this.closeButtonHeight=100,_.bindAll(this,"_submitSuccessHandler","_closeButtonMouseEnterHandler","_closeButtonMouseLeaveHandler","_contactRemoved"),com.chapterone.applicationView.disableBodyScroll()},onInitialized:function(){this._setupEventListeners(),this.el.classList.add("backface"),TweenMax.fromTo(this.ui.header,1,{y:80,opacity:0,immediateRender:!0},{y:0,opacity:1,delay:0,ease:Power2.easeOut}),TweenMax.fromTo(this.ui.chapterOneBox,1,{y:80,opacity:0,immediateRender:!0},{y:0,opacity:1,delay:.1,ease:Power2.easeOut}),TweenMax.fromTo(this.ui.eyeforceBox,1,{y:80,opacity:0,immediateRender:!0},{y:0,opacity:1,delay:.2,ease:Power2.easeOut}),TweenMax.fromTo(this.ui.contactTitle,1,{y:80,opacity:0,immediateRender:!0},{y:0,opacity:1,delay:.2,ease:Power2.easeOut}),TweenMax.fromTo(this.ui.contactInput,1,{y:80,opacity:0,immediateRender:!0},{y:0,opacity:1,delay:.3,ease:Power2.easeOut}),TweenMax.fromTo(this.ui.contactFollow,1,{y:80,opacity:0,immediateRender:!0},{y:0,opacity:1,delay:.4,ease:Power2.easeOut})},_setupEventListeners:function(){var e=document.querySelector("#header");e.style.zIndex=400,this.ui.closeButton.addEventListener("mouseenter",this._closeButtonMouseEnterHandler),this.ui.closeButton.addEventListener("mouseleave",this._closeButtonMouseLeaveHandler)},transitionIn:function(){this.el.parentNode.style.visibility="visible",this.el.parentNode.style.left=0,TweenMax.fromTo(this.el.parentNode,.4,{opacity:0},{opacity:1,ease:Quad.easeOut}),TweenMax.from(this.el,.4,{opacity:0,ease:Quad.easeOut,delay:.4})},transitionOut:function(e){TweenMax.to(this.el.parentNode,.4,{opacity:0,ease:Quad.easeOut,delay:.4,onComplete:e}),TweenMax.to(this.el,.4,{opacity:0,ease:Quad.easeOut,onComplete:this._contactRemoved})},_contactRemoved:function(){this.el.classList.remove("backface")},onClose:function(){this.el.parentNode.style.visibility="hidden",this.el.parentNode.style.left="-100%",com.chapterone.applicationView.enableBodyScroll()},_validateEmailInput:function(){var e=this.ui.emailInput.value,t=e.length,n=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return t<=0?!1:n.test(e)},_submitForm:function(){if(this.isSubmitting)return;this.isSubmitting=!0;var t=this._validateEmailInput();if(!t){TweenMax.to(this.ui.emailInput,.3,{css:{borderBottomColor:"#ff5e5e"}}),this.isSubmitting=!1;return}TweenMax.to(this.ui.emailInput,.3,{css:{borderBottomColor:"#31df6e"}});var n={type:"POST",url:this.SUBMIT_URL,data:{email:this.ui.emailInput.value},success:this._submitSuccessHandler,error:function(e){0}};e.ajax(n)},_showSuccessPage:function(){TweenMax.to(this.ui.subscribeContent,.6,{opacity:0}),this.ui.subscribeSuccess.style.display="block",TweenMax.to(this.ui.subscribeSuccess,.4,{opacity:1,delay:.6})},_submitButtonMouseEnterHandler:function(){TweenMax.to(this.ui.submitButtonInverse,.3,{y:-this.submitButtonHeight,ease:Quad.easeOut,force3D:!0}),TweenMax.to(this.ui.submitButtonInverseTitle,.3,{y:this.submitButtonHeight,ease:Quad.easeOut,force3D:!0})},_submitButtonMouseLeaveHandler:function(){TweenMax.to([this.ui.submitButtonInverse,this.ui.submitButtonInverseTitle],.3,{y:0,ease:Quad.easeOut,force3D:!0})},_inputFocusHandler:function(){TweenMax.to(this.ui.emailInput,.3,{css:{borderBottomColor:"#fff"}})},_inputBlurHandler:function(){var e=this.ui.emailInput.value.length;if(!e){TweenMax.to(this.ui.emailInput,.3,{css:{borderBottomColor:"#454545"}});return}var t=this._validateEmailInput();t?TweenMax.to(this.ui.emailInput,.3,{css:{borderBottomColor:"#31df6e"}}):TweenMax.to(this.ui.emailInput,.3,{css:{borderBottomColor:"#ff5e5e"}})},_submitButtonClickHandler:function(e){e.preventDefault(),this._submitForm()},_submitSuccessHandler:function(){this._showSuccessPage()},_buttonCloseClickHandler:function(){e.Events.trigger("subscribe:close"),e.RegionManager.get("popupOverlay").clear()},_closeButtonMouseEnterHandler:function(){TweenMax.to(this.ui.closeButtonInverted,.7,{y:this.closeButtonHeight,ease:Expo.easeInOut,force3D:!0}),TweenMax.to(this.ui.closeButtonInvertedIcon,.7,{y:-this.closeButtonHeight,ease:Expo.easeInOut,force3D:!0})},_closeButtonMouseLeaveHandler:function(){TweenMax.to([this.ui.closeButtonInverted,this.ui.closeButtonInvertedIcon],.7,{y:0,ease:Expo.easeIn,force3D:!0})}})}),define("desktop/views/components/HeaderComponent",["superhero","shared/utils/ResizeManager","shared/utils/ScrollManager","desktop/views/components/SubscribePopupComponent"],function(e,t,n,r){return e.Component.extend({ui:{navigation:".site-navigation",navItems:".nav-item",logo:".site-logo",logoSmall:".site-logo-chapterone--small",wetransferLogo:".wetransfer-logo",activeItem:".nav-item-active"},components:{},events:{"click .nav-item-contact":"_navItemContactClickHandler","click .nav-item-link":"_navItemClickHandler"},logoPosition:0,wetransferLogoShowed:!1,headerBackgroundVisible:!1,BREAKPOINT:1280,BREAKPOINTS:[768,1024,1280,1440,1680,1920],LOGO_POSITIONS:[40,40,40,50,50,49],activePage:null,initialize:function(){this.headerBackgroundVisible=!1,this.wetransferLogoShowed=!1,this.BREAKPOINT=1280,this.activePage=null,_.bindAll(this,"_hideHeaderBackground")},onInitialized:function(){this._setupEventListeners(),this.logoPosition=this._setLogoSize(),0,Settings.agent==="tablet"&&this._showHeaderBackground()},_setupEventListeners:function(){this.listenTo(t,"resize",this._resizeHandler),this.listenTo(n,"scroll",this._scrollHandler),this.listenTo(e.Events,"subscribe:close",this._subscribeClosedHandler),this.listenTo(com.chapterone.applicationRouter,"route",this._routeChangeHandler)},_showHeaderBackground:function(){this.el.classList.contains("header--transparent")&&(this.headerBackgroundVisible=!0,this.el.classList.remove("header--transparent"))},_hideHeaderBackground:function(){if(Settings.agent==="tablet")return;if(Math.abs(n.scrollTop())>=this.el.offsetHeight)return;0,this.el.classList.contains("header--transparent")||(this.headerBackgroundVisible=!1,this.el.classList.add("header--transparent"))},_showActivePage:function(e){var t=this.el.querySelectorAll(".nav-item");this.activePage=e;for(var n=0;n<t.length;n++)t[n].style.opacity=.5;switch(e){case"home":t[0].style.opacity=1,this._showLogoSmall();break;case"article":t[0].style.opacity=1,this._showLogoBig();break;case"synopsis":t[1].style.opacity=1,this._showLogoBig();break;case"riders":t[2].style.opacity=1,this._showLogoBig();break;case"rider":t[2].style.opacity=1,this._showLogoBig();break;case"locations":t[3].style.opacity=1,this._showLogoBig();break;case"location":t[3].style.opacity=1,this._showLogoBig();break;case"crews":t[4].style.opacity=1,this._showLogoBig();break;case"crew":t[4].style.opacity=1,this._showLogoBig();break;case"gallery":t[5].style.opacity=1,this._showLogoBig();break;case"partners":t[6].style.opacity=1,this._showLogoBig();break;case"shop":t[7].style.opacity=1,this._showLogoBig();break;case"tour":t[8].style.opacity=1,this._showLogoBig()}},_showLogoBig:function(){this.ui.logoSmall.style.display="block",this.ui.logo.style.display="block",TweenMax.to(this.ui.logoSmall,.5,{x:this.logoPosition,ease:Power2.easeInOut}),TweenMax.to(this.ui.logo,.7,{opacity:1,delay:.4,ease:Linear.easeNone})},_showLogoSmall:function(){this.ui.logoSmall.style.display="block",this.ui.logo.style.display="block",TweenMax.to(this.ui.logo,.4,{opacity:0,ease:Linear.easeNone}),TweenMax.to(this.ui.logoSmall,.5,{x:0,ease:Power2.easeInOut,delay:.1})},_setLogoSize:function(){var e;for(var n=0,r=this.BREAKPOINTS.length;n<r;n++){e=this.BREAKPOINTS[n];if(e>t.viewportWidth())return this.LOGO_POSITIONS[n-1]}return this.LOGO_POSITIONS[r-1]},_scrollHandler:function(e){if(Settings.agent==="tablet")return},_routeChangeHandler:function(e){this._showActivePage(e),e!=="home"&&e!=="personalLanding"?(this.el.style.opacity||(this.el.style.opacity=1),this._showHeaderBackground()):this._showHeaderBackground()},_navItemContactClickHandler:function(t){t.preventDefault(),e.RegionManager.get("popupOverlay").show(r,null)},_resizeHandler:function(){0,this.activePage!=""&&this.activePage!="home"&&(this.logoPosition=this._setLogoSize(),TweenMax.to(document.querySelector(".site-logo-chapterone--small"),.5,{x:this.logoPosition,ease:Power2.easeInOut})),t.viewportWidth()<this.BREAKPOINT&&this.wetransferLogoShowed?this.ui.wetransferLogo.style.opacity=0:t.viewportWidth()>=this.BREAKPOINT&&this.wetransferLogoShowed&&(this.ui.wetransferLogo.style.opacity=1)}})}),define("desktop/views/ApplicationView",["superhero","shared/utils/ResizeManager","desktop/views/components/HeaderComponent"],function(e,t,n){return e.LayoutView.extend({ui:{overlaySwiper:".overlay-swiper",overlay:".overlay"},regions:{main:".main",overlay:".overlay",popupOverlay:".popup-overlay"},components:{header:{selector:".header",module:n}},previousPage:null,events:{'click a[href^="/"]':"globalClickHandler"},initialize:function(){_.bindAll(this,"_overlaySwiperAnimationCompleteHandler","_overlaySwiperToHomeCompleteHandler")},onInitialized:function(){this._setupEventListerners(),Backbone.$.ajaxSetup({headers:{Accept:"application/json"}}),t.viewportWidth()<1e3&&(document.querySelector(".scalebrowser").style.display="block")},_setupEventListerners:function(){this.listenTo(t,"resize",this._windowResizeHandler),this.listenTo(com.chapterone.applicationRouter,"route",this._routeChangeHandler)},globalClickHandler:function(t){t.preventDefault(),e.history.navigate(t.currentTarget.pathname,{trigger:!0})},disableBodyScroll:function(){this._disableBodyScroll()},enableBodyScroll:function(){this._enableBodyScroll()},getPreviousPage:function(){return this.previousPage},_disableBodyScroll:function(){var e=this.el.parentNode;this.scrollDisabled=!0,Settings.agent==="tablet"&&(e.style.width=t.viewportWidth(),e.style.height=t.viewportHeight(),e.style.position="fixed",this.scrollPosition=e.scrollTop),e.classList.contains("disable-scroll")||e.classList.add("disable-scroll")},_enableBodyScroll:function(){var e=this.el.parentNode;this.scrollDisabled=!1,Settings.agent==="tablet"&&(e.removeAttribute("style"),e.scrollTop=this.scrollPosition),e.classList.contains("disable-scroll")&&e.classList.remove("disable-scroll")},showOverlaySwiper:function(e,n){this.ui.overlaySwiper.style.visibility="visible",TweenMax.fromTo(this.ui.overlaySwiper,.7,{x:0},{x:t.viewportWidth(),ease:Quad.easeIn,force3D:!0}),TweenMax.delayedCall(.7,e)},hideOverlaySwiper:function(e,n){n=n||0,TweenMax.to(this.ui.overlaySwiper,.7,{x:t.viewportWidth()*2,ease:Quad.easeOut,force3D:!0,delay:n,onComplete:this._overlaySwiperAnimationCompleteHandler})},overlaySwiperToHome:function(e,n,r){this.ui.overlaySwiper.style.visibility="visible",this.ui.overlaySwiper.style.backgroundColor="#000",this._enableBodyScroll(),r&&(this.ui.overlaySwiper.style.zIndex=500),TweenMax.fromTo(this.ui.overlaySwiper,1,{x:t.viewportWidth()*2},{x:0,ease:Quad.easeIn,force3D:!0,onComplete:this._overlaySwiperToHomeCompleteHandler,onCompleteParams:[e]})},overlaySwiperFromHome:function(e,n){this.ui.overlaySwiper.style.visibility="visible",n&&(this.ui.overlaySwiper.style.zIndex=500,this.ui.overlay.style.zIndex=400),this.ui.overlay.style.display="block",TweenMax.fromTo(this.ui.overlaySwiper,1.4,{x:-t.viewportWidth()},{x:t.viewportWidth()*2,ease:Quad.easeOut,force3D:!0,onComplete:this._overlaySwiperAnimationCompleteHandler})},_windowResizeHandler:function(e){t.viewportWidth()<1e3?document.querySelector(".scalebrowser").style.display="block":document.querySelector(".scalebrowser").style.display="none"},_overlaySwiperAnimationCompleteHandler:function(){this.ui.overlaySwiper.removeAttribute("style"),this._disableBodyScroll()},_overlaySwiperToHomeCompleteHandler:function(e){this.ui.overlaySwiper.removeAttribute("style"),this.ui.overlay.removeAttribute("style"),this.ui.overlay.style.display="none",e()},overlayVisible:function(){this.ui.overlay.style.zIndex=400,this.ui.overlay.style.display="block"},overlayHidden:function(){0,this.ui.overlay.removeAttribute("style")},_routeChangeHandler:function(t){t!=="article"&&t!=="rider"&&t!=="location"&&(this.previousPage=e.history.fragment)}})}),define("desktop/main",["superhero","desktop/routers/ApplicationRouter","desktop/views/ApplicationView"],function(e,t,n){var r=e.createNameSpace("com.chapterone"),i=!1;r.applicationRouter=new t,r.applicationView=new n({el:document.getElementById("application")}),r.getCoverSize=function(e,t,n,r){var i=t/e,s=r/n,o=0,u=0;return i>s?(u=t,o=t/s):(o=e,u=e*s),{x:(e-o)*.5>>0,y:(t-u)*.5>>0,width:o,height:u,scale:o/n,scaleY:u/r}},history.pushState&&(i=!0),e.history.start({pushState:i})}),require.config({paths:{jquery:"vendor/jquery.custom.min",underscore:"vendor/lodash.min",backbone:"vendor/backbone.min",superhero:"vendor/superhero",tweenmax:"vendor/tweenmax.min"}}),require(["superhero","tweenmax","desktop/main"],function(){}),define("boot-desktop",function(){});